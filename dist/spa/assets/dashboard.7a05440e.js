var Oo=Object.defineProperty;var Io=(i,t,e)=>t in i?Oo(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var yt=(i,t,e)=>(Io(i,typeof t!="symbol"?t+"":t,e),e);import{Q as QSpace,u as usePanelChildProps,a as usePanelProps,b as usePanelEmits,c as usePanel}from"./use-panel.9358803c.js";import{bL as createComponent,h,bd as withDirectives,bN as useDarkProps,r as ref,bP as useDark,c as computed,cr as debounce$2,w as watch,aC as onDeactivated,ay as onActivated,aA as onBeforeUnmount,cA as hMergeSlot,g as getCurrentInstance,c_ as setHorizontalScrollPosition,c$ as setVerticalScrollPosition,i as inject,cB as emptyRenderFn,cC as layoutKey,cG as isRuntimeSsrPreHydration,bM as hSlot,d0 as useSpinnerProps,d1 as useSpinner,bB as commonjsGlobal,cU as isNumber$1,d2 as isObject$1,cs as useFormProps,ci as position,b$ as hDir,d3 as useFormInject,d4 as useFormAttrs,bS as stopAndPrevent,d5 as defineStore,bC as useQuasar,o as onMounted,aI as openBlock,a4 as createBlock,bg as Transition,z as shallowReactive,bO as useRouterLinkProps,c8 as useModelToggleProps,cb as useModelToggleEmits,d6 as useId,cf as useModelToggle,cL as uid$1,bI as QSeparator,bx as vShow,bH as QIcon,a6 as createElementBlock,a7 as createBaseVNode,Q as toDisplayString,j as createVNode,bb as withCtx,ad as createTextVNode,d7 as QOptionGroup,a5 as createCommentVNode,F as Fragment,aO as renderList,P as normalizeStyle,aQ as resolveComponent,cV as _export_sfc,bG as QAvatar,d as defineComponent,az as onBeforeMount,bF as QBtn,bK as Ripple,d8 as Plugin,N as normalizeClass,cX as QCardSection,cW as QCard,c9 as useTransitionProps,ca as scrollTargetProp,cc as useTick,cd as useTimeout,ce as useTransition,cg as usePortal,c3 as cleanEvt,c2 as addEvt,cl as getScrollTarget,cQ as QSpinner,B as shallowRef,D as toRaw,ax as nextTick,n as isProxy,b5 as version$2,c4 as listenOpts,d9 as Notify,da as useSupabase,db as QInput,cz as QDialog,aL as pushScopeId,aJ as popScopeId}from"./index.54040dac.js";import{e as QResizeObserver,f as QScrollObserver,T as TouchPan,_ as _imports_0$1,u as useTabProps,c as useTabEmits,d as useTab,a as QTabs,Q as QToolbarTitle,b as QToolbar}from"./marcnowa.9fc45021.js";import{b as between,c as QChip,Q as QSelect,a as QMenu,u as useAnchorStaticProps,v as validatePosition,d as validateOffset,p as parsePosition,e as useScrollTarget,f as useAnchor,g as removeClickOutside,s as setPosition,h as addClickOutside,i as useVirtualScrollProps,j as useVirtualScroll}from"./QSelect.11f9ea61.js";import{Q as QPage}from"./QPage.e30125fb.js";import{C as ClosePopup}from"./ClosePopup.9f9a487a.js";import{Q as QItem,b as QItemLabel,a as QItemSection,c as clearSelection}from"./selection.1be3b56c.js";import{Q as QList,_ as _imports_1,a as _imports_2,b as _imports_3,c as _imports_4}from"./UG logo 23.b3964b45.js";import{axios}from"./axios.91df422f.js";import{u as useI18n}from"./vue-i18n.runtime.23b4f312.js";import{r as requiredArgs,t as toDate,a as toInteger,_ as _typeof,b as addDays,c as addMilliseconds,g as getDefaultOptions,d as getTimezoneOffsetInMilliseconds,e as getUTCWeekYear,s as startOfUTCWeek,f as startOfUTCISOWeek,h as getUTCWeek,i as getUTCISOWeek,j as defaultLocale,l as longFormatters,k as isProtectedWeekYearToken,m as throwProtectedError,n as isProtectedDayOfYearToken,o as subMilliseconds,p as format,Q as QPopupProxy,q as QDate,u as isValid}from"./QPopupProxy.283be436.js";import{u as useNotify}from"./useNotify.c0040424.js";import"./use-render-cache.3aae9b27.js";var ScrollAreaControls=createComponent({props:["store","barStyle","verticalBarStyle","horizontalBarStyle"],setup(i){return()=>[h("div",{class:i.store.scroll.vertical.barClass.value,style:[i.barStyle,i.verticalBarStyle],"aria-hidden":"true",onMousedown:i.store.onVerticalMousedown}),h("div",{class:i.store.scroll.horizontal.barClass.value,style:[i.barStyle,i.horizontalBarStyle],"aria-hidden":"true",onMousedown:i.store.onHorizontalMousedown}),withDirectives(h("div",{ref:i.store.scroll.vertical.ref,class:i.store.scroll.vertical.thumbClass.value,style:i.store.scroll.vertical.style.value,"aria-hidden":"true"}),i.store.thumbVertDir),withDirectives(h("div",{ref:i.store.scroll.horizontal.ref,class:i.store.scroll.horizontal.thumbClass.value,style:i.store.scroll.horizontal.style.value,"aria-hidden":"true"}),i.store.thumbHorizDir)]}});const axisList=["vertical","horizontal"],dirProps={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},panOpts={prevent:!0,mouse:!0,mouseAllDir:!0},getMinThumbSize=i=>i>=250?50:Math.ceil(i/5);var QScrollArea=createComponent({name:"QScrollArea",props:{...useDarkProps,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],verticalOffset:{type:Array,default:[0,0]},horizontalOffset:{type:Array,default:[0,0]},contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(i,{slots:t,emit:e}){const n=ref(!1),r=ref(!1),a=ref(!1),s={vertical:ref(0),horizontal:ref(0)},c={vertical:{ref:ref(null),position:ref(0),size:ref(0)},horizontal:{ref:ref(null),position:ref(0),size:ref(0)}},{proxy:p}=getCurrentInstance(),g=useDark(i,p.$q);let y=null,b;const C=ref(null),S=computed(()=>"q-scrollarea"+(g.value===!0?" q-scrollarea--dark":""));Object.assign(s,{verticalInner:computed(()=>s.vertical.value-i.verticalOffset[0]-i.verticalOffset[1]),horizontalInner:computed(()=>s.horizontal.value-i.horizontalOffset[0]-i.horizontalOffset[1])}),c.vertical.percentage=computed(()=>{const bt=c.vertical.size.value-s.vertical.value;if(bt<=0)return 0;const Ct=between(c.vertical.position.value/bt,0,1);return Math.round(Ct*1e4)/1e4}),c.vertical.thumbHidden=computed(()=>(i.visible===null?a.value:i.visible)!==!0&&n.value===!1&&r.value===!1||c.vertical.size.value<=s.vertical.value+1),c.vertical.thumbStart=computed(()=>i.verticalOffset[0]+c.vertical.percentage.value*(s.verticalInner.value-c.vertical.thumbSize.value)),c.vertical.thumbSize=computed(()=>Math.round(between(s.verticalInner.value*s.verticalInner.value/c.vertical.size.value,getMinThumbSize(s.verticalInner.value),s.verticalInner.value))),c.vertical.style=computed(()=>({...i.thumbStyle,...i.verticalThumbStyle,top:`${c.vertical.thumbStart.value}px`,height:`${c.vertical.thumbSize.value}px`,right:`${i.horizontalOffset[1]}px`})),c.vertical.thumbClass=computed(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(c.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),c.vertical.barClass=computed(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(c.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),c.horizontal.percentage=computed(()=>{const bt=c.horizontal.size.value-s.horizontal.value;if(bt<=0)return 0;const Ct=between(Math.abs(c.horizontal.position.value)/bt,0,1);return Math.round(Ct*1e4)/1e4}),c.horizontal.thumbHidden=computed(()=>(i.visible===null?a.value:i.visible)!==!0&&n.value===!1&&r.value===!1||c.horizontal.size.value<=s.horizontal.value+1),c.horizontal.thumbStart=computed(()=>i.horizontalOffset[0]+c.horizontal.percentage.value*(s.horizontalInner.value-c.horizontal.thumbSize.value)),c.horizontal.thumbSize=computed(()=>Math.round(between(s.horizontalInner.value*s.horizontalInner.value/c.horizontal.size.value,getMinThumbSize(s.horizontalInner.value),s.horizontalInner.value))),c.horizontal.style=computed(()=>({...i.thumbStyle,...i.horizontalThumbStyle,[p.$q.lang.rtl===!0?"right":"left"]:`${c.horizontal.thumbStart.value}px`,width:`${c.horizontal.thumbSize.value}px`,bottom:`${i.verticalOffset[1]}px`})),c.horizontal.thumbClass=computed(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(c.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),c.horizontal.barClass=computed(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(c.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const A=computed(()=>c.vertical.thumbHidden.value===!0&&c.horizontal.thumbHidden.value===!0?i.contentStyle:i.contentActiveStyle);function T(){const bt={};return axisList.forEach(Ct=>{const Tt=c[Ct];Object.assign(bt,{[Ct+"Position"]:Tt.position.value,[Ct+"Percentage"]:Tt.percentage.value,[Ct+"Size"]:Tt.size.value,[Ct+"ContainerSize"]:s[Ct].value,[Ct+"ContainerInnerSize"]:s[Ct+"Inner"].value})}),bt}const I=debounce$2(()=>{const bt=T();bt.ref=p,e("scroll",bt)},0);function z(bt,Ct,Tt){if(axisList.includes(bt)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(bt==="vertical"?setVerticalScrollPosition:setHorizontalScrollPosition)(C.value,Ct,Tt)}function q({height:bt,width:Ct}){let Tt=!1;s.vertical.value!==bt&&(s.vertical.value=bt,Tt=!0),s.horizontal.value!==Ct&&(s.horizontal.value=Ct,Tt=!0),Tt===!0&&et()}function Y({position:bt}){let Ct=!1;c.vertical.position.value!==bt.top&&(c.vertical.position.value=bt.top,Ct=!0),c.horizontal.position.value!==bt.left&&(c.horizontal.position.value=bt.left,Ct=!0),Ct===!0&&et()}function at({height:bt,width:Ct}){c.horizontal.size.value!==Ct&&(c.horizontal.size.value=Ct,et()),c.vertical.size.value!==bt&&(c.vertical.size.value=bt,et())}function G(bt,Ct){const Tt=c[Ct];if(bt.isFirst===!0){if(Tt.thumbHidden.value===!0)return;b=Tt.position.value,r.value=!0}else if(r.value!==!0)return;bt.isFinal===!0&&(r.value=!1);const Et=dirProps[Ct],Bt=(Tt.size.value-s[Ct].value)/(s[Ct+"Inner"].value-Tt.thumbSize.value),Qt=bt.distance[Et.dist],At=b+(bt.direction===Et.dir?1:-1)*Qt*Bt;ot(At,Ct)}function ht(bt,Ct){const Tt=c[Ct];if(Tt.thumbHidden.value!==!0){const Et=Ct==="vertical"?i.verticalOffset[0]:i.horizontalOffset[0],Bt=bt[dirProps[Ct].offset]-Et,Qt=Tt.thumbStart.value-Et;if(Bt<Qt||Bt>Qt+Tt.thumbSize.value){const At=Bt-Tt.thumbSize.value/2,Xt=between(At/(s[Ct+"Inner"].value-Tt.thumbSize.value),0,1);ot(Xt*Math.max(0,Tt.size.value-s[Ct].value),Ct)}Tt.ref.value!==null&&Tt.ref.value.dispatchEvent(new MouseEvent(bt.type,bt))}}function et(){n.value=!0,y!==null&&clearTimeout(y),y=setTimeout(()=>{y=null,n.value=!1},i.delay),i.onScroll!==void 0&&I()}function ot(bt,Ct){C.value[dirProps[Ct].scroll]=bt}let vt=null;function wt(){vt!==null&&clearTimeout(vt),vt=setTimeout(()=>{vt=null,a.value=!0},p.$q.platform.is.ios?50:0)}function _t(){vt!==null&&(clearTimeout(vt),vt=null),a.value=!1}let St=null;watch(()=>p.$q.lang.rtl,bt=>{C.value!==null&&setHorizontalScrollPosition(C.value,Math.abs(c.horizontal.position.value)*(bt===!0?-1:1))}),onDeactivated(()=>{St={top:c.vertical.position.value,left:c.horizontal.position.value}}),onActivated(()=>{if(St===null)return;const bt=C.value;bt!==null&&(setHorizontalScrollPosition(bt,St.left),setVerticalScrollPosition(bt,St.top))}),onBeforeUnmount(I.cancel),Object.assign(p,{getScrollTarget:()=>C.value,getScroll:T,getScrollPosition:()=>({top:c.vertical.position.value,left:c.horizontal.position.value}),getScrollPercentage:()=>({top:c.vertical.percentage.value,left:c.horizontal.percentage.value}),setScrollPosition:z,setScrollPercentage(bt,Ct,Tt){z(bt,Ct*(c[bt].size.value-s[bt].value)*(bt==="horizontal"&&p.$q.lang.rtl===!0?-1:1),Tt)}});const zt={scroll:c,thumbVertDir:[[TouchPan,bt=>{G(bt,"vertical")},void 0,{vertical:!0,...panOpts}]],thumbHorizDir:[[TouchPan,bt=>{G(bt,"horizontal")},void 0,{horizontal:!0,...panOpts}]],onVerticalMousedown(bt){ht(bt,"vertical")},onHorizontalMousedown(bt){ht(bt,"horizontal")}};return()=>h("div",{class:S.value,onMouseenter:wt,onMouseleave:_t},[h("div",{ref:C,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:i.tabindex!==void 0?i.tabindex:void 0},[h("div",{class:"q-scrollarea__content absolute",style:A.value},hMergeSlot(t.default,[h(QResizeObserver,{debounce:0,onResize:at})])),h(QScrollObserver,{axis:"both",onScroll:Y})]),h(QResizeObserver,{debounce:0,onResize:q}),h(ScrollAreaControls,{store:zt,barStyle:i.barStyle,verticalBarStyle:i.verticalBarStyle,horizontalBarStyle:i.horizontalBarStyle})])}}),QFooter=createComponent({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(i,{slots:t,emit:e}){const{proxy:{$q:n}}=getCurrentInstance(),r=inject(layoutKey,emptyRenderFn);if(r===emptyRenderFn)return console.error("QFooter needs to be child of QLayout"),emptyRenderFn;const a=ref(parseInt(i.heightHint,10)),s=ref(!0),c=ref(isRuntimeSsrPreHydration.value===!0||r.isContainer.value===!0?0:window.innerHeight),p=computed(()=>i.reveal===!0||r.view.value.indexOf("F")!==-1||n.platform.is.ios&&r.isContainer.value===!0),g=computed(()=>r.isContainer.value===!0?r.containerHeight.value:c.value),y=computed(()=>{if(i.modelValue!==!0)return 0;if(p.value===!0)return s.value===!0?a.value:0;const G=r.scroll.value.position+g.value+a.value-r.height.value;return G>0?G:0}),b=computed(()=>i.modelValue!==!0||p.value===!0&&s.value!==!0),C=computed(()=>i.modelValue===!0&&b.value===!0&&i.reveal===!0),S=computed(()=>"q-footer q-layout__section--marginal "+(p.value===!0?"fixed":"absolute")+"-bottom"+(i.bordered===!0?" q-footer--bordered":"")+(b.value===!0?" q-footer--hidden":"")+(i.modelValue!==!0?" q-layout--prevent-focus"+(p.value!==!0?" hidden":""):"")),A=computed(()=>{const G=r.rows.value.bottom,ht={};return G[0]==="l"&&r.left.space===!0&&(ht[n.lang.rtl===!0?"right":"left"]=`${r.left.size}px`),G[2]==="r"&&r.right.space===!0&&(ht[n.lang.rtl===!0?"left":"right"]=`${r.right.size}px`),ht});function T(G,ht){r.update("footer",G,ht)}function I(G,ht){G.value!==ht&&(G.value=ht)}function z({height:G}){I(a,G),T("size",G)}function q(){if(i.reveal!==!0)return;const{direction:G,position:ht,inflectionPoint:et}=r.scroll.value;I(s,G==="up"||ht-et<100||r.height.value-g.value-ht-a.value<300)}function Y(G){C.value===!0&&I(s,!0),e("focusin",G)}watch(()=>i.modelValue,G=>{T("space",G),I(s,!0),r.animate()}),watch(y,G=>{T("offset",G)}),watch(()=>i.reveal,G=>{G===!1&&I(s,i.modelValue)}),watch(s,G=>{r.animate(),e("reveal",G)}),watch([a,r.scroll,r.height],q),watch(()=>n.screen.height,G=>{r.isContainer.value!==!0&&I(c,G)});const at={};return r.instances.footer=at,i.modelValue===!0&&T("size",a.value),T("space",i.modelValue),T("offset",y.value),onBeforeUnmount(()=>{r.instances.footer===at&&(r.instances.footer=void 0,T("size",0),T("offset",0),T("space",!1))}),()=>{const G=hMergeSlot(t.default,[h(QResizeObserver,{debounce:0,onResize:z})]);return i.elevated===!0&&G.push(h("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),h("footer",{class:S.value,style:A.value,onFocusin:Y},G)}}}),QBtnGroup=createComponent({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(i,{slots:t}){const e=computed(()=>{const n=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(r=>i[r]===!0).map(r=>`q-btn-group--${r}`).join(" ");return`q-btn-group row no-wrap${n.length!==0?" "+n:""}`+(i.spread===!0?" q-btn-group--spread":" inline")});return()=>h("div",{class:e.value},hSlot(t.default))}});const innerHTML$3='<g transform="translate(20 50)"><rect x="-10" y="-30" width="20" height="60" fill="currentColor" opacity="0.6"><animateTransform attributeName="transform" type="scale" from="2" to="1" begin="0s" repeatCount="indefinite" dur="1s" calcMode="spline" keySplines="0.1 0.9 0.4 1" keyTimes="0;1" values="2;1"></animateTransform></rect></g><g transform="translate(50 50)"><rect x="-10" y="-30" width="20" height="60" fill="currentColor" opacity="0.8"><animateTransform attributeName="transform" type="scale" from="2" to="1" begin="0.1s" repeatCount="indefinite" dur="1s" calcMode="spline" keySplines="0.1 0.9 0.4 1" keyTimes="0;1" values="2;1"></animateTransform></rect></g><g transform="translate(80 50)"><rect x="-10" y="-30" width="20" height="60" fill="currentColor" opacity="0.9"><animateTransform attributeName="transform" type="scale" from="2" to="1" begin="0.2s" repeatCount="indefinite" dur="1s" calcMode="spline" keySplines="0.1 0.9 0.4 1" keyTimes="0;1" values="2;1"></animateTransform></rect></g>';var QSpinnerFacebook=createComponent({name:"QSpinnerFacebook",props:useSpinnerProps,setup(i){const{cSize:t,classes:e}=useSpinner(i);return()=>h("svg",{class:e.value,width:t.value,height:t.value,viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid",innerHTML:innerHTML$3})}});const innerHTML$2='<g stroke-width="4" stroke-linecap="round"><line y1="17" y2="29" transform="translate(32,32) rotate(180)"><animate attributeName="stroke-opacity" dur="750ms" values="1;.85;.7;.65;.55;.45;.35;.25;.15;.1;0;1" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(210)"><animate attributeName="stroke-opacity" dur="750ms" values="0;1;.85;.7;.65;.55;.45;.35;.25;.15;.1;0" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(240)"><animate attributeName="stroke-opacity" dur="750ms" values=".1;0;1;.85;.7;.65;.55;.45;.35;.25;.15;.1" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(270)"><animate attributeName="stroke-opacity" dur="750ms" values=".15;.1;0;1;.85;.7;.65;.55;.45;.35;.25;.15" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(300)"><animate attributeName="stroke-opacity" dur="750ms" values=".25;.15;.1;0;1;.85;.7;.65;.55;.45;.35;.25" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(330)"><animate attributeName="stroke-opacity" dur="750ms" values=".35;.25;.15;.1;0;1;.85;.7;.65;.55;.45;.35" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(0)"><animate attributeName="stroke-opacity" dur="750ms" values=".45;.35;.25;.15;.1;0;1;.85;.7;.65;.55;.45" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(30)"><animate attributeName="stroke-opacity" dur="750ms" values=".55;.45;.35;.25;.15;.1;0;1;.85;.7;.65;.55" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(60)"><animate attributeName="stroke-opacity" dur="750ms" values=".65;.55;.45;.35;.25;.15;.1;0;1;.85;.7;.65" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(90)"><animate attributeName="stroke-opacity" dur="750ms" values=".7;.65;.55;.45;.35;.25;.15;.1;0;1;.85;.7" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(120)"><animate attributeName="stroke-opacity" dur="750ms" values=".85;.7;.65;.55;.45;.35;.25;.15;.1;0;1;.85" repeatCount="indefinite"></animate></line><line y1="17" y2="29" transform="translate(32,32) rotate(150)"><animate attributeName="stroke-opacity" dur="750ms" values="1;.85;.7;.65;.55;.45;.35;.25;.15;.1;0;1" repeatCount="indefinite"></animate></line></g>';createComponent({name:"QSpinnerIos",props:useSpinnerProps,setup(i){const{cSize:t,classes:e}=useSpinner(i);return()=>h("svg",{class:e.value,width:t.value,height:t.value,stroke:"currentColor",fill:"currentColor",viewBox:"0 0 64 64",innerHTML:innerHTML$2})}});const innerHTML$1='<g transform="translate(1 1)" stroke-width="2" fill="none" fill-rule="evenodd"><circle stroke-opacity=".5" cx="18" cy="18" r="18"></circle><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="1s" repeatCount="indefinite"></animateTransform></path></g>';createComponent({name:"QSpinnerOval",props:useSpinnerProps,setup(i){const{cSize:t,classes:e}=useSpinner(i);return()=>h("svg",{class:e.value,stroke:"currentColor",width:t.value,height:t.value,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",innerHTML:innerHTML$1})}});var leafletSrc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(i,t){(function(e,n){n(t)})(commonjsGlobal,function(e){var n="1.9.4";function r(o){var d,_,w,M;for(_=1,w=arguments.length;_<w;_++){M=arguments[_];for(d in M)o[d]=M[d]}return o}var a=Object.create||function(){function o(){}return function(d){return o.prototype=d,new o}}();function s(o,d){var _=Array.prototype.slice;if(o.bind)return o.bind.apply(o,_.call(arguments,1));var w=_.call(arguments,2);return function(){return o.apply(d,w.length?w.concat(_.call(arguments)):arguments)}}var c=0;function p(o){return"_leaflet_id"in o||(o._leaflet_id=++c),o._leaflet_id}function g(o,d,_){var w,M,O,K;return K=function(){w=!1,M&&(O.apply(_,M),M=!1)},O=function(){w?M=arguments:(o.apply(_,arguments),setTimeout(K,d),w=!0)},O}function y(o,d,_){var w=d[1],M=d[0],O=w-M;return o===w&&_?o:((o-M)%O+O)%O+M}function b(){return!1}function C(o,d){if(d===!1)return o;var _=Math.pow(10,d===void 0?6:d);return Math.round(o*_)/_}function S(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function A(o){return S(o).split(/\s+/)}function T(o,d){Object.prototype.hasOwnProperty.call(o,"options")||(o.options=o.options?a(o.options):{});for(var _ in d)o.options[_]=d[_];return o.options}function I(o,d,_){var w=[];for(var M in o)w.push(encodeURIComponent(_?M.toUpperCase():M)+"="+encodeURIComponent(o[M]));return(!d||d.indexOf("?")===-1?"?":"&")+w.join("&")}var z=/\{ *([\w_ -]+) *\}/g;function q(o,d){return o.replace(z,function(_,w){var M=d[w];if(M===void 0)throw new Error("No value provided for variable "+_);return typeof M=="function"&&(M=M(d)),M})}var Y=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function at(o,d){for(var _=0;_<o.length;_++)if(o[_]===d)return _;return-1}var G="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ht(o){return window["webkit"+o]||window["moz"+o]||window["ms"+o]}var et=0;function ot(o){var d=+new Date,_=Math.max(0,16-(d-et));return et=d+_,window.setTimeout(o,_)}var vt=window.requestAnimationFrame||ht("RequestAnimationFrame")||ot,wt=window.cancelAnimationFrame||ht("CancelAnimationFrame")||ht("CancelRequestAnimationFrame")||function(o){window.clearTimeout(o)};function _t(o,d,_){if(_&&vt===ot)o.call(d);else return vt.call(window,s(o,d))}function St(o){o&&wt.call(window,o)}var zt={__proto__:null,extend:r,create:a,bind:s,get lastId(){return c},stamp:p,throttle:g,wrapNum:y,falseFn:b,formatNum:C,trim:S,splitWords:A,setOptions:T,getParamString:I,template:q,isArray:Y,indexOf:at,emptyImageUrl:G,requestFn:vt,cancelFn:wt,requestAnimFrame:_t,cancelAnimFrame:St};function bt(){}bt.extend=function(o){var d=function(){T(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},_=d.__super__=this.prototype,w=a(_);w.constructor=d,d.prototype=w;for(var M in this)Object.prototype.hasOwnProperty.call(this,M)&&M!=="prototype"&&M!=="__super__"&&(d[M]=this[M]);return o.statics&&r(d,o.statics),o.includes&&(Ct(o.includes),r.apply(null,[w].concat(o.includes))),r(w,o),delete w.statics,delete w.includes,w.options&&(w.options=_.options?a(_.options):{},r(w.options,o.options)),w._initHooks=[],w.callInitHooks=function(){if(!this._initHooksCalled){_.callInitHooks&&_.callInitHooks.call(this),this._initHooksCalled=!0;for(var O=0,K=w._initHooks.length;O<K;O++)w._initHooks[O].call(this)}},d},bt.include=function(o){var d=this.prototype.options;return r(this.prototype,o),o.options&&(this.prototype.options=d,this.mergeOptions(o.options)),this},bt.mergeOptions=function(o){return r(this.prototype.options,o),this},bt.addInitHook=function(o){var d=Array.prototype.slice.call(arguments,1),_=typeof o=="function"?o:function(){this[o].apply(this,d)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(_),this};function Ct(o){if(!(typeof L=="undefined"||!L||!L.Mixin)){o=Y(o)?o:[o];for(var d=0;d<o.length;d++)o[d]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Tt={on:function(o,d,_){if(typeof o=="object")for(var w in o)this._on(w,o[w],d);else{o=A(o);for(var M=0,O=o.length;M<O;M++)this._on(o[M],d,_)}return this},off:function(o,d,_){if(!arguments.length)delete this._events;else if(typeof o=="object")for(var w in o)this._off(w,o[w],d);else{o=A(o);for(var M=arguments.length===1,O=0,K=o.length;O<K;O++)M?this._off(o[O]):this._off(o[O],d,_)}return this},_on:function(o,d,_,w){if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}if(this._listens(o,d,_)===!1){_===this&&(_=void 0);var M={fn:d,ctx:_};w&&(M.once=!0),this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(M)}},_off:function(o,d,_){var w,M,O;if(!!this._events&&(w=this._events[o],!!w)){if(arguments.length===1){if(this._firingCount)for(M=0,O=w.length;M<O;M++)w[M].fn=b;delete this._events[o];return}if(typeof d!="function"){console.warn("wrong listener type: "+typeof d);return}var K=this._listens(o,d,_);if(K!==!1){var ct=w[K];this._firingCount&&(ct.fn=b,this._events[o]=w=w.slice()),w.splice(K,1)}}},fire:function(o,d,_){if(!this.listens(o,_))return this;var w=r({},d,{type:o,target:this,sourceTarget:d&&d.sourceTarget||this});if(this._events){var M=this._events[o];if(M){this._firingCount=this._firingCount+1||1;for(var O=0,K=M.length;O<K;O++){var ct=M[O],gt=ct.fn;ct.once&&this.off(o,gt,ct.ctx),gt.call(ct.ctx||this,w)}this._firingCount--}}return _&&this._propagateEvent(w),this},listens:function(o,d,_,w){typeof o!="string"&&console.warn('"string" type argument expected');var M=d;typeof d!="function"&&(w=!!d,M=void 0,_=void 0);var O=this._events&&this._events[o];if(O&&O.length&&this._listens(o,M,_)!==!1)return!0;if(w){for(var K in this._eventParents)if(this._eventParents[K].listens(o,d,_,w))return!0}return!1},_listens:function(o,d,_){if(!this._events)return!1;var w=this._events[o]||[];if(!d)return!!w.length;_===this&&(_=void 0);for(var M=0,O=w.length;M<O;M++)if(w[M].fn===d&&w[M].ctx===_)return M;return!1},once:function(o,d,_){if(typeof o=="object")for(var w in o)this._on(w,o[w],d,!0);else{o=A(o);for(var M=0,O=o.length;M<O;M++)this._on(o[M],d,_,!0)}return this},addEventParent:function(o){return this._eventParents=this._eventParents||{},this._eventParents[p(o)]=o,this},removeEventParent:function(o){return this._eventParents&&delete this._eventParents[p(o)],this},_propagateEvent:function(o){for(var d in this._eventParents)this._eventParents[d].fire(o.type,r({layer:o.target,propagatedFrom:o.target},o),!0)}};Tt.addEventListener=Tt.on,Tt.removeEventListener=Tt.clearAllEventListeners=Tt.off,Tt.addOneTimeEventListener=Tt.once,Tt.fireEvent=Tt.fire,Tt.hasEventListeners=Tt.listens;var Et=bt.extend(Tt);function Bt(o,d,_){this.x=_?Math.round(o):o,this.y=_?Math.round(d):d}var Qt=Math.trunc||function(o){return o>0?Math.floor(o):Math.ceil(o)};Bt.prototype={clone:function(){return new Bt(this.x,this.y)},add:function(o){return this.clone()._add(At(o))},_add:function(o){return this.x+=o.x,this.y+=o.y,this},subtract:function(o){return this.clone()._subtract(At(o))},_subtract:function(o){return this.x-=o.x,this.y-=o.y,this},divideBy:function(o){return this.clone()._divideBy(o)},_divideBy:function(o){return this.x/=o,this.y/=o,this},multiplyBy:function(o){return this.clone()._multiplyBy(o)},_multiplyBy:function(o){return this.x*=o,this.y*=o,this},scaleBy:function(o){return new Bt(this.x*o.x,this.y*o.y)},unscaleBy:function(o){return new Bt(this.x/o.x,this.y/o.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Qt(this.x),this.y=Qt(this.y),this},distanceTo:function(o){o=At(o);var d=o.x-this.x,_=o.y-this.y;return Math.sqrt(d*d+_*_)},equals:function(o){return o=At(o),o.x===this.x&&o.y===this.y},contains:function(o){return o=At(o),Math.abs(o.x)<=Math.abs(this.x)&&Math.abs(o.y)<=Math.abs(this.y)},toString:function(){return"Point("+C(this.x)+", "+C(this.y)+")"}};function At(o,d,_){return o instanceof Bt?o:Y(o)?new Bt(o[0],o[1]):o==null?o:typeof o=="object"&&"x"in o&&"y"in o?new Bt(o.x,o.y):new Bt(o,d,_)}function Xt(o,d){if(!!o)for(var _=d?[o,d]:o,w=0,M=_.length;w<M;w++)this.extend(_[w])}Xt.prototype={extend:function(o){var d,_;if(!o)return this;if(o instanceof Bt||typeof o[0]=="number"||"x"in o)d=_=At(o);else if(o=ie(o),d=o.min,_=o.max,!d||!_)return this;return!this.min&&!this.max?(this.min=d.clone(),this.max=_.clone()):(this.min.x=Math.min(d.x,this.min.x),this.max.x=Math.max(_.x,this.max.x),this.min.y=Math.min(d.y,this.min.y),this.max.y=Math.max(_.y,this.max.y)),this},getCenter:function(o){return At((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,o)},getBottomLeft:function(){return At(this.min.x,this.max.y)},getTopRight:function(){return At(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(o){var d,_;return typeof o[0]=="number"||o instanceof Bt?o=At(o):o=ie(o),o instanceof Xt?(d=o.min,_=o.max):d=_=o,d.x>=this.min.x&&_.x<=this.max.x&&d.y>=this.min.y&&_.y<=this.max.y},intersects:function(o){o=ie(o);var d=this.min,_=this.max,w=o.min,M=o.max,O=M.x>=d.x&&w.x<=_.x,K=M.y>=d.y&&w.y<=_.y;return O&&K},overlaps:function(o){o=ie(o);var d=this.min,_=this.max,w=o.min,M=o.max,O=M.x>d.x&&w.x<_.x,K=M.y>d.y&&w.y<_.y;return O&&K},isValid:function(){return!!(this.min&&this.max)},pad:function(o){var d=this.min,_=this.max,w=Math.abs(d.x-_.x)*o,M=Math.abs(d.y-_.y)*o;return ie(At(d.x-w,d.y-M),At(_.x+w,_.y+M))},equals:function(o){return o?(o=ie(o),this.min.equals(o.getTopLeft())&&this.max.equals(o.getBottomRight())):!1}};function ie(o,d){return!o||o instanceof Xt?o:new Xt(o,d)}function Wt(o,d){if(!!o)for(var _=d?[o,d]:o,w=0,M=_.length;w<M;w++)this.extend(_[w])}Wt.prototype={extend:function(o){var d=this._southWest,_=this._northEast,w,M;if(o instanceof Ut)w=o,M=o;else if(o instanceof Wt){if(w=o._southWest,M=o._northEast,!w||!M)return this}else return o?this.extend(Ht(o)||$t(o)):this;return!d&&!_?(this._southWest=new Ut(w.lat,w.lng),this._northEast=new Ut(M.lat,M.lng)):(d.lat=Math.min(w.lat,d.lat),d.lng=Math.min(w.lng,d.lng),_.lat=Math.max(M.lat,_.lat),_.lng=Math.max(M.lng,_.lng)),this},pad:function(o){var d=this._southWest,_=this._northEast,w=Math.abs(d.lat-_.lat)*o,M=Math.abs(d.lng-_.lng)*o;return new Wt(new Ut(d.lat-w,d.lng-M),new Ut(_.lat+w,_.lng+M))},getCenter:function(){return new Ut((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ut(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ut(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(o){typeof o[0]=="number"||o instanceof Ut||"lat"in o?o=Ht(o):o=$t(o);var d=this._southWest,_=this._northEast,w,M;return o instanceof Wt?(w=o.getSouthWest(),M=o.getNorthEast()):w=M=o,w.lat>=d.lat&&M.lat<=_.lat&&w.lng>=d.lng&&M.lng<=_.lng},intersects:function(o){o=$t(o);var d=this._southWest,_=this._northEast,w=o.getSouthWest(),M=o.getNorthEast(),O=M.lat>=d.lat&&w.lat<=_.lat,K=M.lng>=d.lng&&w.lng<=_.lng;return O&&K},overlaps:function(o){o=$t(o);var d=this._southWest,_=this._northEast,w=o.getSouthWest(),M=o.getNorthEast(),O=M.lat>d.lat&&w.lat<_.lat,K=M.lng>d.lng&&w.lng<_.lng;return O&&K},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(o,d){return o?(o=$t(o),this._southWest.equals(o.getSouthWest(),d)&&this._northEast.equals(o.getNorthEast(),d)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function $t(o,d){return o instanceof Wt?o:new Wt(o,d)}function Ut(o,d,_){if(isNaN(o)||isNaN(d))throw new Error("Invalid LatLng object: ("+o+", "+d+")");this.lat=+o,this.lng=+d,_!==void 0&&(this.alt=+_)}Ut.prototype={equals:function(o,d){if(!o)return!1;o=Ht(o);var _=Math.max(Math.abs(this.lat-o.lat),Math.abs(this.lng-o.lng));return _<=(d===void 0?1e-9:d)},toString:function(o){return"LatLng("+C(this.lat,o)+", "+C(this.lng,o)+")"},distanceTo:function(o){return te.distance(this,Ht(o))},wrap:function(){return te.wrapLatLng(this)},toBounds:function(o){var d=180*o/40075017,_=d/Math.cos(Math.PI/180*this.lat);return $t([this.lat-d,this.lng-_],[this.lat+d,this.lng+_])},clone:function(){return new Ut(this.lat,this.lng,this.alt)}};function Ht(o,d,_){return o instanceof Ut?o:Y(o)&&typeof o[0]!="object"?o.length===3?new Ut(o[0],o[1],o[2]):o.length===2?new Ut(o[0],o[1]):null:o==null?o:typeof o=="object"&&"lat"in o?new Ut(o.lat,"lng"in o?o.lng:o.lon,o.alt):d===void 0?null:new Ut(o,d,_)}var re={latLngToPoint:function(o,d){var _=this.projection.project(o),w=this.scale(d);return this.transformation._transform(_,w)},pointToLatLng:function(o,d){var _=this.scale(d),w=this.transformation.untransform(o,_);return this.projection.unproject(w)},project:function(o){return this.projection.project(o)},unproject:function(o){return this.projection.unproject(o)},scale:function(o){return 256*Math.pow(2,o)},zoom:function(o){return Math.log(o/256)/Math.LN2},getProjectedBounds:function(o){if(this.infinite)return null;var d=this.projection.bounds,_=this.scale(o),w=this.transformation.transform(d.min,_),M=this.transformation.transform(d.max,_);return new Xt(w,M)},infinite:!1,wrapLatLng:function(o){var d=this.wrapLng?y(o.lng,this.wrapLng,!0):o.lng,_=this.wrapLat?y(o.lat,this.wrapLat,!0):o.lat,w=o.alt;return new Ut(_,d,w)},wrapLatLngBounds:function(o){var d=o.getCenter(),_=this.wrapLatLng(d),w=d.lat-_.lat,M=d.lng-_.lng;if(w===0&&M===0)return o;var O=o.getSouthWest(),K=o.getNorthEast(),ct=new Ut(O.lat-w,O.lng-M),gt=new Ut(K.lat-w,K.lng-M);return new Wt(ct,gt)}},te=r({},re,{wrapLng:[-180,180],R:6371e3,distance:function(o,d){var _=Math.PI/180,w=o.lat*_,M=d.lat*_,O=Math.sin((d.lat-o.lat)*_/2),K=Math.sin((d.lng-o.lng)*_/2),ct=O*O+Math.cos(w)*Math.cos(M)*K*K,gt=2*Math.atan2(Math.sqrt(ct),Math.sqrt(1-ct));return this.R*gt}}),Ft=6378137,oe={R:Ft,MAX_LATITUDE:85.0511287798,project:function(o){var d=Math.PI/180,_=this.MAX_LATITUDE,w=Math.max(Math.min(_,o.lat),-_),M=Math.sin(w*d);return new Bt(this.R*o.lng*d,this.R*Math.log((1+M)/(1-M))/2)},unproject:function(o){var d=180/Math.PI;return new Ut((2*Math.atan(Math.exp(o.y/this.R))-Math.PI/2)*d,o.x*d/this.R)},bounds:function(){var o=Ft*Math.PI;return new Xt([-o,-o],[o,o])}()};function Zt(o,d,_,w){if(Y(o)){this._a=o[0],this._b=o[1],this._c=o[2],this._d=o[3];return}this._a=o,this._b=d,this._c=_,this._d=w}Zt.prototype={transform:function(o,d){return this._transform(o.clone(),d)},_transform:function(o,d){return d=d||1,o.x=d*(this._a*o.x+this._b),o.y=d*(this._c*o.y+this._d),o},untransform:function(o,d){return d=d||1,new Bt((o.x/d-this._b)/this._a,(o.y/d-this._d)/this._c)}};function ae(o,d,_,w){return new Zt(o,d,_,w)}var ce=r({},te,{code:"EPSG:3857",projection:oe,transformation:function(){var o=.5/(Math.PI*oe.R);return ae(o,.5,-o,.5)}()}),_e=r({},ce,{code:"EPSG:900913"});function de(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function xe(o,d){var _="",w,M,O,K,ct,gt;for(w=0,O=o.length;w<O;w++){for(ct=o[w],M=0,K=ct.length;M<K;M++)gt=ct[M],_+=(M?"L":"M")+gt.x+" "+gt.y;_+=d?jt.svg?"z":"x":""}return _||"M0 0"}var ve=document.documentElement.style,ii="ActiveXObject"in window,ni=ii&&!document.addEventListener,li="msLaunchUri"in navigator&&!("documentMode"in document),ze=Qe("webkit"),fn=Qe("android"),pn=Qe("android 2")||Qe("android 3"),An=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),mn=fn&&Qe("Google")&&An<537&&!("AudioNode"in window),Qi=!!window.opera,Ti=!li&&Qe("chrome"),Ki=Qe("gecko")&&!ze&&!Qi&&!ii,Xi=!Ti&&Qe("safari"),ji=Qe("phantom"),Ei="OTransition"in ve,ui=navigator.platform.indexOf("Win")===0,Pt=ii&&"transition"in ve,Yt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!pn,fe="MozPerspective"in ve,ye=!window.L_DISABLE_3D&&(Pt||Yt||fe)&&!Ei&&!ji,we=typeof orientation!="undefined"||Qe("mobile"),$e=we&&ze,Ji=we&&Yt,Bi=!window.PointerEvent&&window.MSPointerEvent,Dn=!!(window.PointerEvent||Bi),On="ontouchstart"in window||!!window.TouchEvent,In=!window.L_NO_TOUCH&&(On||Dn),Mr=we&&Qi,tr=we&&Ki,er=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ir=function(){var o=!1;try{var d=Object.defineProperty({},"passive",{get:function(){o=!0}});window.addEventListener("testPassiveEventSupport",b,d),window.removeEventListener("testPassiveEventSupport",b,d)}catch{}return o}(),Pr=function(){return!!document.createElement("canvas").getContext}(),Nn=!!(document.createElementNS&&de("svg").createSVGRect),nr=!!Nn&&function(){var o=document.createElement("div");return o.innerHTML="<svg/>",(o.firstChild&&o.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),gn=!Nn&&function(){try{var o=document.createElement("div");o.innerHTML='<v:shape adj="1"/>';var d=o.firstChild;return d.style.behavior="url(#default#VML)",d&&typeof d.adj=="object"}catch{return!1}}(),Sr=navigator.platform.indexOf("Mac")===0,Tr=navigator.platform.indexOf("Linux")===0;function Qe(o){return navigator.userAgent.toLowerCase().indexOf(o)>=0}var jt={ie:ii,ielt9:ni,edge:li,webkit:ze,android:fn,android23:pn,androidStock:mn,opera:Qi,chrome:Ti,gecko:Ki,safari:Xi,phantom:ji,opera12:Ei,win:ui,ie3d:Pt,webkit3d:Yt,gecko3d:fe,any3d:ye,mobile:we,mobileWebkit:$e,mobileWebkit3d:Ji,msPointer:Bi,pointer:Dn,touch:In,touchNative:On,mobileOpera:Mr,mobileGecko:tr,retina:er,passiveEvents:ir,canvas:Pr,svg:Nn,vml:gn,inlineSvg:nr,mac:Sr,linux:Tr},rr=jt.msPointer?"MSPointerDown":"pointerdown",Rn=jt.msPointer?"MSPointerMove":"pointermove",zn=jt.msPointer?"MSPointerUp":"pointerup",Fn=jt.msPointer?"MSPointerCancel":"pointercancel",_n={touchstart:rr,touchmove:Rn,touchend:zn,touchcancel:Fn},Vn={touchstart:xn,touchmove:bn,touchend:bn,touchcancel:bn},Ai={},vn=!1;function Di(o,d,_){return d==="touchstart"&&jn(),Vn[d]?(_=Vn[d].bind(this,_),o.addEventListener(_n[d],_,!1),_):(console.warn("wrong event specified:",d),b)}function tn(o,d,_){if(!_n[d]){console.warn("wrong event specified:",d);return}o.removeEventListener(_n[d],_,!1)}function en(o){Ai[o.pointerId]=o}function yn(o){Ai[o.pointerId]&&(Ai[o.pointerId]=o)}function Hi(o){delete Ai[o.pointerId]}function jn(){vn||(document.addEventListener(rr,en,!0),document.addEventListener(Rn,yn,!0),document.addEventListener(zn,Hi,!0),document.addEventListener(Fn,Hi,!0),vn=!0)}function bn(o,d){if(d.pointerType!==(d.MSPOINTER_TYPE_MOUSE||"mouse")){d.touches=[];for(var _ in Ai)d.touches.push(Ai[_]);d.changedTouches=[d],o(d)}}function xn(o,d){d.MSPOINTER_TYPE_TOUCH&&d.pointerType===d.MSPOINTER_TYPE_TOUCH&&je(d),bn(o,d)}function Ke(o){var d={},_,w;for(w in o)_=o[w],d[w]=_&&_.bind?_.bind(o):_;return o=d,d.type="dblclick",d.detail=2,d.isTrusted=!1,d._simulated=!0,d}var Ui=200;function bi(o,d){o.addEventListener("dblclick",d);var _=0,w;function M(O){if(O.detail!==1){w=O.detail;return}if(!(O.pointerType==="mouse"||O.sourceCapabilities&&!O.sourceCapabilities.firesTouchEvents)){var K=ea(O);if(!(K.some(function(gt){return gt instanceof HTMLLabelElement&&gt.attributes.for})&&!K.some(function(gt){return gt instanceof HTMLInputElement||gt instanceof HTMLSelectElement}))){var ct=Date.now();ct-_<=Ui?(w++,w===2&&d(Ke(O))):w=1,_=ct}}}return o.addEventListener("click",M),{dblclick:d,simDblclick:M}}function mi(o,d){o.removeEventListener("dblclick",d.dblclick),o.removeEventListener("click",d.simDblclick)}var Oi=rn(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ue=rn(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ci=Ue==="webkitTransition"||Ue==="OTransition"?Ue+"End":"transitionend";function Hn(o){return typeof o=="string"?document.getElementById(o):o}function gi(o,d){var _=o.style[d]||o.currentStyle&&o.currentStyle[d];if((!_||_==="auto")&&document.defaultView){var w=document.defaultView.getComputedStyle(o,null);_=w?w[d]:null}return _==="auto"?null:_}function le(o,d,_){var w=document.createElement(o);return w.className=d||"",_&&_.appendChild(w),w}function ue(o){var d=o.parentNode;d&&d.removeChild(o)}function xi(o){for(;o.firstChild;)o.removeChild(o.firstChild)}function wi(o){var d=o.parentNode;d&&d.lastChild!==o&&d.appendChild(o)}function _i(o){var d=o.parentNode;d&&d.firstChild!==o&&d.insertBefore(o,d.firstChild)}function nn(o,d){if(o.classList!==void 0)return o.classList.contains(d);var _=wn(o);return _.length>0&&new RegExp("(^|\\s)"+d+"(\\s|$)").test(_)}function Kt(o,d){if(o.classList!==void 0)for(var _=A(d),w=0,M=_.length;w<M;w++)o.classList.add(_[w]);else if(!nn(o,d)){var O=wn(o);ri(o,(O?O+" ":"")+d)}}function Le(o,d){o.classList!==void 0?o.classList.remove(d):ri(o,S((" "+wn(o)+" ").replace(" "+d+" "," ")))}function ri(o,d){o.className.baseVal===void 0?o.className=d:o.className.baseVal=d}function wn(o){return o.correspondingElement&&(o=o.correspondingElement),o.className.baseVal===void 0?o.className:o.className.baseVal}function We(o,d){"opacity"in o.style?o.style.opacity=d:"filter"in o.style&&Un(o,d)}function Un(o,d){var _=!1,w="DXImageTransform.Microsoft.Alpha";try{_=o.filters.item(w)}catch{if(d===1)return}d=Math.round(d*100),_?(_.Enabled=d!==100,_.Opacity=d):o.style.filter+=" progid:"+w+"(opacity="+d+")"}function rn(o){for(var d=document.documentElement.style,_=0;_<o.length;_++)if(o[_]in d)return o[_];return!1}function Ii(o,d,_){var w=d||new Bt(0,0);o.style[Oi]=(jt.ie3d?"translate("+w.x+"px,"+w.y+"px)":"translate3d("+w.x+"px,"+w.y+"px,0)")+(_?" scale("+_+")":"")}function Te(o,d){o._leaflet_pos=d,jt.any3d?Ii(o,d):(o.style.left=d.x+"px",o.style.top=d.y+"px")}function N(o){return o._leaflet_pos||new Bt(0,0)}var j,Q,ft;if("onselectstart"in document)j=function(){ee(window,"selectstart",je)},Q=function(){Ce(window,"selectstart",je)};else{var kt=rn(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);j=function(){if(kt){var o=document.documentElement.style;ft=o[kt],o[kt]="none"}},Q=function(){kt&&(document.documentElement.style[kt]=ft,ft=void 0)}}function Ot(){ee(window,"dragstart",je)}function ne(){Ce(window,"dragstart",je)}var Pe,Be;function Ne(o){for(;o.tabIndex===-1;)o=o.parentNode;!o.style||(Ge(),Pe=o,Be=o.style.outlineStyle,o.style.outlineStyle="none",ee(window,"keydown",Ge))}function Ge(){!Pe||(Pe.style.outlineStyle=Be,Pe=void 0,Be=void 0,Ce(window,"keydown",Ge))}function Jr(o){do o=o.parentNode;while((!o.offsetWidth||!o.offsetHeight)&&o!==document.body);return o}function Er(o){var d=o.getBoundingClientRect();return{x:d.width/o.offsetWidth||1,y:d.height/o.offsetHeight||1,boundingClientRect:d}}var Sa={__proto__:null,TRANSFORM:Oi,TRANSITION:Ue,TRANSITION_END:ci,get:Hn,getStyle:gi,create:le,remove:ue,empty:xi,toFront:wi,toBack:_i,hasClass:nn,addClass:Kt,removeClass:Le,setClass:ri,getClass:wn,setOpacity:We,testProp:rn,setTransform:Ii,setPosition:Te,getPosition:N,get disableTextSelection(){return j},get enableTextSelection(){return Q},disableImageDrag:Ot,enableImageDrag:ne,preventOutline:Ne,restoreOutline:Ge,getSizedParentNode:Jr,getScale:Er};function ee(o,d,_,w){if(d&&typeof d=="object")for(var M in d)an(o,M,d[M],_);else{d=A(d);for(var O=0,K=d.length;O<K;O++)an(o,d[O],_,w)}return this}var Li="_leaflet_events";function Ce(o,d,_,w){if(arguments.length===1)ta(o),delete o[Li];else if(d&&typeof d=="object")for(var M in d)Ar(o,M,d[M],_);else if(d=A(d),arguments.length===2)ta(o,function(ct){return at(d,ct)!==-1});else for(var O=0,K=d.length;O<K;O++)Ar(o,d[O],_,w);return this}function ta(o,d){for(var _ in o[Li]){var w=_.split(/\d/)[0];(!d||d(w))&&Ar(o,w,null,null,_)}}var Br={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function an(o,d,_,w){var M=d+p(_)+(w?"_"+p(w):"");if(o[Li]&&o[Li][M])return this;var O=function(ct){return _.call(w||o,ct||window.event)},K=O;!jt.touchNative&&jt.pointer&&d.indexOf("touch")===0?O=Di(o,d,O):jt.touch&&d==="dblclick"?O=bi(o,O):"addEventListener"in o?d==="touchstart"||d==="touchmove"||d==="wheel"||d==="mousewheel"?o.addEventListener(Br[d]||d,O,jt.passiveEvents?{passive:!1}:!1):d==="mouseenter"||d==="mouseleave"?(O=function(ct){ct=ct||window.event,Ln(o,ct)&&K(ct)},o.addEventListener(Br[d],O,!1)):o.addEventListener(d,K,!1):o.attachEvent("on"+d,O),o[Li]=o[Li]||{},o[Li][M]=O}function Ar(o,d,_,w,M){M=M||d+p(_)+(w?"_"+p(w):"");var O=o[Li]&&o[Li][M];if(!O)return this;!jt.touchNative&&jt.pointer&&d.indexOf("touch")===0?tn(o,d,O):jt.touch&&d==="dblclick"?mi(o,O):"removeEventListener"in o?o.removeEventListener(Br[d]||d,O,!1):o.detachEvent("on"+d,O),o[Li][M]=null}function on(o){return o.stopPropagation?o.stopPropagation():o.originalEvent?o.originalEvent._stopped=!0:o.cancelBubble=!0,this}function Dr(o){return an(o,"wheel",on),this}function qn(o){return ee(o,"mousedown touchstart dblclick contextmenu",on),o._leaflet_disable_click=!0,this}function je(o){return o.preventDefault?o.preventDefault():o.returnValue=!1,this}function sn(o){return je(o),on(o),this}function ea(o){if(o.composedPath)return o.composedPath();for(var d=[],_=o.target;_;)d.push(_),_=_.parentNode;return d}function ia(o,d){if(!d)return new Bt(o.clientX,o.clientY);var _=Er(d),w=_.boundingClientRect;return new Bt((o.clientX-w.left)/_.x-d.clientLeft,(o.clientY-w.top)/_.y-d.clientTop)}var Ta=jt.linux&&jt.chrome?window.devicePixelRatio:jt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function na(o){return jt.edge?o.wheelDeltaY/2:o.deltaY&&o.deltaMode===0?-o.deltaY/Ta:o.deltaY&&o.deltaMode===1?-o.deltaY*20:o.deltaY&&o.deltaMode===2?-o.deltaY*60:o.deltaX||o.deltaZ?0:o.wheelDelta?(o.wheelDeltaY||o.wheelDelta)/2:o.detail&&Math.abs(o.detail)<32765?-o.detail*20:o.detail?o.detail/-32765*60:0}function Ln(o,d){var _=d.relatedTarget;if(!_)return!0;try{for(;_&&_!==o;)_=_.parentNode}catch{return!1}return _!==o}var Ea={__proto__:null,on:ee,off:Ce,stopPropagation:on,disableScrollPropagation:Dr,disableClickPropagation:qn,preventDefault:je,stop:sn,getPropagationPath:ea,getMousePosition:ia,getWheelDelta:na,isExternalTarget:Ln,addListener:ee,removeListener:Ce},ra=Et.extend({run:function(o,d,_,w){this.stop(),this._el=o,this._inProgress=!0,this._duration=_||.25,this._easeOutPower=1/Math.max(w||.5,.2),this._startPos=N(o),this._offset=d.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){!this._inProgress||(this._step(!0),this._complete())},_animate:function(){this._animId=_t(this._animate,this),this._step()},_step:function(o){var d=+new Date-this._startTime,_=this._duration*1e3;d<_?this._runFrame(this._easeOut(d/_),o):(this._runFrame(1),this._complete())},_runFrame:function(o,d){var _=this._startPos.add(this._offset.multiplyBy(o));d&&_._round(),Te(this._el,_),this.fire("step")},_complete:function(){St(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(o){return 1-Math.pow(1-o,this._easeOutPower)}}),he=Et.extend({options:{crs:ce,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(o,d){d=T(this,d),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(o),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),d.maxBounds&&this.setMaxBounds(d.maxBounds),d.zoom!==void 0&&(this._zoom=this._limitZoom(d.zoom)),d.center&&d.zoom!==void 0&&this.setView(Ht(d.center),d.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ue&&jt.any3d&&!jt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ee(this._proxy,ci,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(o,d,_){if(d=d===void 0?this._zoom:this._limitZoom(d),o=this._limitCenter(Ht(o),d,this.options.maxBounds),_=_||{},this._stop(),this._loaded&&!_.reset&&_!==!0){_.animate!==void 0&&(_.zoom=r({animate:_.animate},_.zoom),_.pan=r({animate:_.animate,duration:_.duration},_.pan));var w=this._zoom!==d?this._tryAnimatedZoom&&this._tryAnimatedZoom(o,d,_.zoom):this._tryAnimatedPan(o,_.pan);if(w)return clearTimeout(this._sizeTimer),this}return this._resetView(o,d,_.pan&&_.pan.noMoveStart),this},setZoom:function(o,d){return this._loaded?this.setView(this.getCenter(),o,{zoom:d}):(this._zoom=o,this)},zoomIn:function(o,d){return o=o||(jt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+o,d)},zoomOut:function(o,d){return o=o||(jt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-o,d)},setZoomAround:function(o,d,_){var w=this.getZoomScale(d),M=this.getSize().divideBy(2),O=o instanceof Bt?o:this.latLngToContainerPoint(o),K=O.subtract(M).multiplyBy(1-1/w),ct=this.containerPointToLatLng(M.add(K));return this.setView(ct,d,{zoom:_})},_getBoundsCenterZoom:function(o,d){d=d||{},o=o.getBounds?o.getBounds():$t(o);var _=At(d.paddingTopLeft||d.padding||[0,0]),w=At(d.paddingBottomRight||d.padding||[0,0]),M=this.getBoundsZoom(o,!1,_.add(w));if(M=typeof d.maxZoom=="number"?Math.min(d.maxZoom,M):M,M===1/0)return{center:o.getCenter(),zoom:M};var O=w.subtract(_).divideBy(2),K=this.project(o.getSouthWest(),M),ct=this.project(o.getNorthEast(),M),gt=this.unproject(K.add(ct).divideBy(2).add(O),M);return{center:gt,zoom:M}},fitBounds:function(o,d){if(o=$t(o),!o.isValid())throw new Error("Bounds are not valid.");var _=this._getBoundsCenterZoom(o,d);return this.setView(_.center,_.zoom,d)},fitWorld:function(o){return this.fitBounds([[-90,-180],[90,180]],o)},panTo:function(o,d){return this.setView(o,this._zoom,{pan:d})},panBy:function(o,d){if(o=At(o).round(),d=d||{},!o.x&&!o.y)return this.fire("moveend");if(d.animate!==!0&&!this.getSize().contains(o))return this._resetView(this.unproject(this.project(this.getCenter()).add(o)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ra,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),d.noMoveStart||this.fire("movestart"),d.animate!==!1){Kt(this._mapPane,"leaflet-pan-anim");var _=this._getMapPanePos().subtract(o).round();this._panAnim.run(this._mapPane,_,d.duration||.25,d.easeLinearity)}else this._rawPanBy(o),this.fire("move").fire("moveend");return this},flyTo:function(o,d,_){if(_=_||{},_.animate===!1||!jt.any3d)return this.setView(o,d,_);this._stop();var w=this.project(this.getCenter()),M=this.project(o),O=this.getSize(),K=this._zoom;o=Ht(o),d=d===void 0?K:d;var ct=Math.max(O.x,O.y),gt=ct*this.getZoomScale(K,d),Lt=M.distanceTo(w)||1,It=1.42,Gt=It*It;function se(Ae){var wr=Ae?-1:1,Pi=Ae?gt:ct,Ya=gt*gt-ct*ct+wr*Gt*Gt*Lt*Lt,Lr=2*Pi*Gt*Lt,Cr=Ya/Lr,ba=Math.sqrt(Cr*Cr+1)-Cr,xa=ba<1e-9?-18:Math.log(ba);return xa}function Ye(Ae){return(Math.exp(Ae)-Math.exp(-Ae))/2}function De(Ae){return(Math.exp(Ae)+Math.exp(-Ae))/2}function Oe(Ae){return Ye(Ae)/De(Ae)}var Ve=se(0);function Zi(Ae){return ct*(De(Ve)/De(Ve+It*Ae))}function br(Ae){return ct*(De(Ve)*Oe(Ve+It*Ae)-Ye(Ve))/Gt}function va(Ae){return 1-Math.pow(1-Ae,1.5)}var xr=Date.now(),ya=(se(1)-Ve)/It,Za=_.duration?1e3*_.duration:1e3*ya*.8;function Qr(){var Ae=(Date.now()-xr)/Za,wr=va(Ae)*ya;Ae<=1?(this._flyToFrame=_t(Qr,this),this._move(this.unproject(w.add(M.subtract(w).multiplyBy(br(wr)/Lt)),K),this.getScaleZoom(ct/Zi(wr),K),{flyTo:!0})):this._move(o,d)._moveEnd(!0)}return this._moveStart(!0,_.noMoveStart),Qr.call(this),this},flyToBounds:function(o,d){var _=this._getBoundsCenterZoom(o,d);return this.flyTo(_.center,_.zoom,d)},setMaxBounds:function(o){return o=$t(o),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),o.isValid()?(this.options.maxBounds=o,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(o){var d=this.options.minZoom;return this.options.minZoom=o,this._loaded&&d!==o&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(o):this},setMaxZoom:function(o){var d=this.options.maxZoom;return this.options.maxZoom=o,this._loaded&&d!==o&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(o):this},panInsideBounds:function(o,d){this._enforcingBounds=!0;var _=this.getCenter(),w=this._limitCenter(_,this._zoom,$t(o));return _.equals(w)||this.panTo(w,d),this._enforcingBounds=!1,this},panInside:function(o,d){d=d||{};var _=At(d.paddingTopLeft||d.padding||[0,0]),w=At(d.paddingBottomRight||d.padding||[0,0]),M=this.project(this.getCenter()),O=this.project(o),K=this.getPixelBounds(),ct=ie([K.min.add(_),K.max.subtract(w)]),gt=ct.getSize();if(!ct.contains(O)){this._enforcingBounds=!0;var Lt=O.subtract(ct.getCenter()),It=ct.extend(O).getSize().subtract(gt);M.x+=Lt.x<0?-It.x:It.x,M.y+=Lt.y<0?-It.y:It.y,this.panTo(this.unproject(M),d),this._enforcingBounds=!1}return this},invalidateSize:function(o){if(!this._loaded)return this;o=r({animate:!1,pan:!0},o===!0?{animate:!0}:o);var d=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var _=this.getSize(),w=d.divideBy(2).round(),M=_.divideBy(2).round(),O=w.subtract(M);return!O.x&&!O.y?this:(o.animate&&o.pan?this.panBy(O):(o.pan&&this._rawPanBy(O),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:d,newSize:_}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(o){if(o=this._locateOptions=r({timeout:1e4,watch:!1},o),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var d=s(this._handleGeolocationResponse,this),_=s(this._handleGeolocationError,this);return o.watch?this._locationWatchId=navigator.geolocation.watchPosition(d,_,o):navigator.geolocation.getCurrentPosition(d,_,o),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(o){if(!!this._container._leaflet_id){var d=o.code,_=o.message||(d===1?"permission denied":d===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:d,message:"Geolocation error: "+_+"."})}},_handleGeolocationResponse:function(o){if(!!this._container._leaflet_id){var d=o.coords.latitude,_=o.coords.longitude,w=new Ut(d,_),M=w.toBounds(o.coords.accuracy*2),O=this._locateOptions;if(O.setView){var K=this.getBoundsZoom(M);this.setView(w,O.maxZoom?Math.min(K,O.maxZoom):K)}var ct={latlng:w,bounds:M,timestamp:o.timestamp};for(var gt in o.coords)typeof o.coords[gt]=="number"&&(ct[gt]=o.coords[gt]);this.fire("locationfound",ct)}},addHandler:function(o,d){if(!d)return this;var _=this[o]=new d(this);return this._handlers.push(_),this.options[o]&&_.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ue(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(St(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var o;for(o in this._layers)this._layers[o].remove();for(o in this._panes)ue(this._panes[o]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(o,d){var _="leaflet-pane"+(o?" leaflet-"+o.replace("Pane","")+"-pane":""),w=le("div",_,d||this._mapPane);return o&&(this._panes[o]=w),w},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var o=this.getPixelBounds(),d=this.unproject(o.getBottomLeft()),_=this.unproject(o.getTopRight());return new Wt(d,_)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(o,d,_){o=$t(o),_=At(_||[0,0]);var w=this.getZoom()||0,M=this.getMinZoom(),O=this.getMaxZoom(),K=o.getNorthWest(),ct=o.getSouthEast(),gt=this.getSize().subtract(_),Lt=ie(this.project(ct,w),this.project(K,w)).getSize(),It=jt.any3d?this.options.zoomSnap:1,Gt=gt.x/Lt.x,se=gt.y/Lt.y,Ye=d?Math.max(Gt,se):Math.min(Gt,se);return w=this.getScaleZoom(Ye,w),It&&(w=Math.round(w/(It/100))*(It/100),w=d?Math.ceil(w/It)*It:Math.floor(w/It)*It),Math.max(M,Math.min(O,w))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Bt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(o,d){var _=this._getTopLeftPoint(o,d);return new Xt(_,_.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(o){return this.options.crs.getProjectedBounds(o===void 0?this.getZoom():o)},getPane:function(o){return typeof o=="string"?this._panes[o]:o},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(o,d){var _=this.options.crs;return d=d===void 0?this._zoom:d,_.scale(o)/_.scale(d)},getScaleZoom:function(o,d){var _=this.options.crs;d=d===void 0?this._zoom:d;var w=_.zoom(o*_.scale(d));return isNaN(w)?1/0:w},project:function(o,d){return d=d===void 0?this._zoom:d,this.options.crs.latLngToPoint(Ht(o),d)},unproject:function(o,d){return d=d===void 0?this._zoom:d,this.options.crs.pointToLatLng(At(o),d)},layerPointToLatLng:function(o){var d=At(o).add(this.getPixelOrigin());return this.unproject(d)},latLngToLayerPoint:function(o){var d=this.project(Ht(o))._round();return d._subtract(this.getPixelOrigin())},wrapLatLng:function(o){return this.options.crs.wrapLatLng(Ht(o))},wrapLatLngBounds:function(o){return this.options.crs.wrapLatLngBounds($t(o))},distance:function(o,d){return this.options.crs.distance(Ht(o),Ht(d))},containerPointToLayerPoint:function(o){return At(o).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(o){return At(o).add(this._getMapPanePos())},containerPointToLatLng:function(o){var d=this.containerPointToLayerPoint(At(o));return this.layerPointToLatLng(d)},latLngToContainerPoint:function(o){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ht(o)))},mouseEventToContainerPoint:function(o){return ia(o,this._container)},mouseEventToLayerPoint:function(o){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(o))},mouseEventToLatLng:function(o){return this.layerPointToLatLng(this.mouseEventToLayerPoint(o))},_initContainer:function(o){var d=this._container=Hn(o);if(d){if(d._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ee(d,"scroll",this._onScroll,this),this._containerId=p(d)},_initLayout:function(){var o=this._container;this._fadeAnimated=this.options.fadeAnimation&&jt.any3d,Kt(o,"leaflet-container"+(jt.touch?" leaflet-touch":"")+(jt.retina?" leaflet-retina":"")+(jt.ielt9?" leaflet-oldie":"")+(jt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var d=gi(o,"position");d!=="absolute"&&d!=="relative"&&d!=="fixed"&&d!=="sticky"&&(o.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var o=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Te(this._mapPane,new Bt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Kt(o.markerPane,"leaflet-zoom-hide"),Kt(o.shadowPane,"leaflet-zoom-hide"))},_resetView:function(o,d,_){Te(this._mapPane,new Bt(0,0));var w=!this._loaded;this._loaded=!0,d=this._limitZoom(d),this.fire("viewprereset");var M=this._zoom!==d;this._moveStart(M,_)._move(o,d)._moveEnd(M),this.fire("viewreset"),w&&this.fire("load")},_moveStart:function(o,d){return o&&this.fire("zoomstart"),d||this.fire("movestart"),this},_move:function(o,d,_,w){d===void 0&&(d=this._zoom);var M=this._zoom!==d;return this._zoom=d,this._lastCenter=o,this._pixelOrigin=this._getNewPixelOrigin(o),w?_&&_.pinch&&this.fire("zoom",_):((M||_&&_.pinch)&&this.fire("zoom",_),this.fire("move",_)),this},_moveEnd:function(o){return o&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return St(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(o){Te(this._mapPane,this._getMapPanePos().subtract(o))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(o){this._targets={},this._targets[p(this._container)]=this;var d=o?Ce:ee;d(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&d(window,"resize",this._onResize,this),jt.any3d&&this.options.transform3DLimit&&(o?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){St(this._resizeRequest),this._resizeRequest=_t(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var o=this._getMapPanePos();Math.max(Math.abs(o.x),Math.abs(o.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(o,d){for(var _=[],w,M=d==="mouseout"||d==="mouseover",O=o.target||o.srcElement,K=!1;O;){if(w=this._targets[p(O)],w&&(d==="click"||d==="preclick")&&this._draggableMoved(w)){K=!0;break}if(w&&w.listens(d,!0)&&(M&&!Ln(O,o)||(_.push(w),M))||O===this._container)break;O=O.parentNode}return!_.length&&!K&&!M&&this.listens(d,!0)&&(_=[this]),_},_isClickDisabled:function(o){for(;o&&o!==this._container;){if(o._leaflet_disable_click)return!0;o=o.parentNode}},_handleDOMEvent:function(o){var d=o.target||o.srcElement;if(!(!this._loaded||d._leaflet_disable_events||o.type==="click"&&this._isClickDisabled(d))){var _=o.type;_==="mousedown"&&Ne(d),this._fireDOMEvent(o,_)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(o,d,_){if(o.type==="click"){var w=r({},o);w.type="preclick",this._fireDOMEvent(w,w.type,_)}var M=this._findEventTargets(o,d);if(_){for(var O=[],K=0;K<_.length;K++)_[K].listens(d,!0)&&O.push(_[K]);M=O.concat(M)}if(!!M.length){d==="contextmenu"&&je(o);var ct=M[0],gt={originalEvent:o};if(o.type!=="keypress"&&o.type!=="keydown"&&o.type!=="keyup"){var Lt=ct.getLatLng&&(!ct._radius||ct._radius<=10);gt.containerPoint=Lt?this.latLngToContainerPoint(ct.getLatLng()):this.mouseEventToContainerPoint(o),gt.layerPoint=this.containerPointToLayerPoint(gt.containerPoint),gt.latlng=Lt?ct.getLatLng():this.layerPointToLatLng(gt.layerPoint)}for(K=0;K<M.length;K++)if(M[K].fire(d,gt,!0),gt.originalEvent._stopped||M[K].options.bubblingMouseEvents===!1&&at(this._mouseEvents,d)!==-1)return}},_draggableMoved:function(o){return o=o.dragging&&o.dragging.enabled()?o:this,o.dragging&&o.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var o=0,d=this._handlers.length;o<d;o++)this._handlers[o].disable()},whenReady:function(o,d){return this._loaded?o.call(d||this,{target:this}):this.on("load",o,d),this},_getMapPanePos:function(){return N(this._mapPane)||new Bt(0,0)},_moved:function(){var o=this._getMapPanePos();return o&&!o.equals([0,0])},_getTopLeftPoint:function(o,d){var _=o&&d!==void 0?this._getNewPixelOrigin(o,d):this.getPixelOrigin();return _.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(o,d){var _=this.getSize()._divideBy(2);return this.project(o,d)._subtract(_)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(o,d,_){var w=this._getNewPixelOrigin(_,d);return this.project(o,d)._subtract(w)},_latLngBoundsToNewLayerBounds:function(o,d,_){var w=this._getNewPixelOrigin(_,d);return ie([this.project(o.getSouthWest(),d)._subtract(w),this.project(o.getNorthWest(),d)._subtract(w),this.project(o.getSouthEast(),d)._subtract(w),this.project(o.getNorthEast(),d)._subtract(w)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(o){return this.latLngToLayerPoint(o).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,d,_){if(!_)return o;var w=this.project(o,d),M=this.getSize().divideBy(2),O=new Xt(w.subtract(M),w.add(M)),K=this._getBoundsOffset(O,_,d);return Math.abs(K.x)<=1&&Math.abs(K.y)<=1?o:this.unproject(w.add(K),d)},_limitOffset:function(o,d){if(!d)return o;var _=this.getPixelBounds(),w=new Xt(_.min.add(o),_.max.add(o));return o.add(this._getBoundsOffset(w,d))},_getBoundsOffset:function(o,d,_){var w=ie(this.project(d.getNorthEast(),_),this.project(d.getSouthWest(),_)),M=w.min.subtract(o.min),O=w.max.subtract(o.max),K=this._rebound(M.x,-O.x),ct=this._rebound(M.y,-O.y);return new Bt(K,ct)},_rebound:function(o,d){return o+d>0?Math.round(o-d)/2:Math.max(0,Math.ceil(o))-Math.max(0,Math.floor(d))},_limitZoom:function(o){var d=this.getMinZoom(),_=this.getMaxZoom(),w=jt.any3d?this.options.zoomSnap:1;return w&&(o=Math.round(o/w)*w),Math.max(d,Math.min(_,o))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Le(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(o,d){var _=this._getCenterOffset(o)._trunc();return(d&&d.animate)!==!0&&!this.getSize().contains(_)?!1:(this.panBy(_,d),!0)},_createAnimProxy:function(){var o=this._proxy=le("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(o),this.on("zoomanim",function(d){var _=Oi,w=this._proxy.style[_];Ii(this._proxy,this.project(d.center,d.zoom),this.getZoomScale(d.zoom,1)),w===this._proxy.style[_]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ue(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var o=this.getCenter(),d=this.getZoom();Ii(this._proxy,this.project(o,d),this.getZoomScale(d,1))},_catchTransitionEnd:function(o){this._animatingZoom&&o.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(o,d,_){if(this._animatingZoom)return!0;if(_=_||{},!this._zoomAnimated||_.animate===!1||this._nothingToAnimate()||Math.abs(d-this._zoom)>this.options.zoomAnimationThreshold)return!1;var w=this.getZoomScale(d),M=this._getCenterOffset(o)._divideBy(1-1/w);return _.animate!==!0&&!this.getSize().contains(M)?!1:(_t(function(){this._moveStart(!0,_.noMoveStart||!1)._animateZoom(o,d,!0)},this),!0)},_animateZoom:function(o,d,_,w){!this._mapPane||(_&&(this._animatingZoom=!0,this._animateToCenter=o,this._animateToZoom=d,Kt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:o,zoom:d,noUpdate:w}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){!this._animatingZoom||(this._mapPane&&Le(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function pe(o,d){return new he(o,d)}var ai=bt.extend({options:{position:"topright"},initialize:function(o){T(this,o)},getPosition:function(){return this.options.position},setPosition:function(o){var d=this._map;return d&&d.removeControl(this),this.options.position=o,d&&d.addControl(this),this},getContainer:function(){return this._container},addTo:function(o){this.remove(),this._map=o;var d=this._container=this.onAdd(o),_=this.getPosition(),w=o._controlCorners[_];return Kt(d,"leaflet-control"),_.indexOf("bottom")!==-1?w.insertBefore(d,w.firstChild):w.appendChild(d),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ue(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(o){this._map&&o&&o.screenX>0&&o.screenY>0&&this._map.getContainer().focus()}}),qi=function(o){return new ai(o)};he.include({addControl:function(o){return o.addTo(this),this},removeControl:function(o){return o.remove(),this},_initControlPos:function(){var o=this._controlCorners={},d="leaflet-",_=this._controlContainer=le("div",d+"control-container",this._container);function w(M,O){var K=d+M+" "+d+O;o[M+O]=le("div",K,_)}w("top","left"),w("top","right"),w("bottom","left"),w("bottom","right")},_clearControlPos:function(){for(var o in this._controlCorners)ue(this._controlCorners[o]);ue(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var aa=ai.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(o,d,_,w){return _<w?-1:w<_?1:0}},initialize:function(o,d,_){T(this,_),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var w in o)this._addLayer(o[w],w);for(w in d)this._addLayer(d[w],w,!0)},onAdd:function(o){this._initLayout(),this._update(),this._map=o,o.on("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(o){return ai.prototype.addTo.call(this,o),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(o,d){return this._addLayer(o,d),this._map?this._update():this},addOverlay:function(o,d){return this._addLayer(o,d,!0),this._map?this._update():this},removeLayer:function(o){o.off("add remove",this._onLayerChange,this);var d=this._getLayer(p(o));return d&&this._layers.splice(this._layers.indexOf(d),1),this._map?this._update():this},expand:function(){Kt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var o=this._map.getSize().y-(this._container.offsetTop+50);return o<this._section.clientHeight?(Kt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=o+"px"):Le(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Le(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var o="leaflet-control-layers",d=this._container=le("div",o),_=this.options.collapsed;d.setAttribute("aria-haspopup",!0),qn(d),Dr(d);var w=this._section=le("section",o+"-list");_&&(this._map.on("click",this.collapse,this),ee(d,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var M=this._layersLink=le("a",o+"-toggle",d);M.href="#",M.title="Layers",M.setAttribute("role","button"),ee(M,{keydown:function(O){O.keyCode===13&&this._expandSafely()},click:function(O){je(O),this._expandSafely()}},this),_||this.expand(),this._baseLayersList=le("div",o+"-base",w),this._separator=le("div",o+"-separator",w),this._overlaysList=le("div",o+"-overlays",w),d.appendChild(w)},_getLayer:function(o){for(var d=0;d<this._layers.length;d++)if(this._layers[d]&&p(this._layers[d].layer)===o)return this._layers[d]},_addLayer:function(o,d,_){this._map&&o.on("add remove",this._onLayerChange,this),this._layers.push({layer:o,name:d,overlay:_}),this.options.sortLayers&&this._layers.sort(s(function(w,M){return this.options.sortFunction(w.layer,M.layer,w.name,M.name)},this)),this.options.autoZIndex&&o.setZIndex&&(this._lastZIndex++,o.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;xi(this._baseLayersList),xi(this._overlaysList),this._layerControlInputs=[];var o,d,_,w,M=0;for(_=0;_<this._layers.length;_++)w=this._layers[_],this._addItem(w),d=d||w.overlay,o=o||!w.overlay,M+=w.overlay?0:1;return this.options.hideSingleBase&&(o=o&&M>1,this._baseLayersList.style.display=o?"":"none"),this._separator.style.display=d&&o?"":"none",this},_onLayerChange:function(o){this._handlingClick||this._update();var d=this._getLayer(p(o.target)),_=d.overlay?o.type==="add"?"overlayadd":"overlayremove":o.type==="add"?"baselayerchange":null;_&&this._map.fire(_,d)},_createRadioElement:function(o,d){var _='<input type="radio" class="leaflet-control-layers-selector" name="'+o+'"'+(d?' checked="checked"':"")+"/>",w=document.createElement("div");return w.innerHTML=_,w.firstChild},_addItem:function(o){var d=document.createElement("label"),_=this._map.hasLayer(o.layer),w;o.overlay?(w=document.createElement("input"),w.type="checkbox",w.className="leaflet-control-layers-selector",w.defaultChecked=_):w=this._createRadioElement("leaflet-base-layers_"+p(this),_),this._layerControlInputs.push(w),w.layerId=p(o.layer),ee(w,"click",this._onInputClick,this);var M=document.createElement("span");M.innerHTML=" "+o.name;var O=document.createElement("span");d.appendChild(O),O.appendChild(w),O.appendChild(M);var K=o.overlay?this._overlaysList:this._baseLayersList;return K.appendChild(d),this._checkDisabledLayers(),d},_onInputClick:function(){if(!this._preventClick){var o=this._layerControlInputs,d,_,w=[],M=[];this._handlingClick=!0;for(var O=o.length-1;O>=0;O--)d=o[O],_=this._getLayer(d.layerId).layer,d.checked?w.push(_):d.checked||M.push(_);for(O=0;O<M.length;O++)this._map.hasLayer(M[O])&&this._map.removeLayer(M[O]);for(O=0;O<w.length;O++)this._map.hasLayer(w[O])||this._map.addLayer(w[O]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var o=this._layerControlInputs,d,_,w=this._map.getZoom(),M=o.length-1;M>=0;M--)d=o[M],_=this._getLayer(d.layerId).layer,d.disabled=_.options.minZoom!==void 0&&w<_.options.minZoom||_.options.maxZoom!==void 0&&w>_.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var o=this._section;this._preventClick=!0,ee(o,"click",je),this.expand();var d=this;setTimeout(function(){Ce(o,"click",je),d._preventClick=!1})}}),oa=function(o,d,_){return new aa(o,d,_)},Or=ai.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(o){var d="leaflet-control-zoom",_=le("div",d+" leaflet-bar"),w=this.options;return this._zoomInButton=this._createButton(w.zoomInText,w.zoomInTitle,d+"-in",_,this._zoomIn),this._zoomOutButton=this._createButton(w.zoomOutText,w.zoomOutTitle,d+"-out",_,this._zoomOut),this._updateDisabled(),o.on("zoomend zoomlevelschange",this._updateDisabled,this),_},onRemove:function(o){o.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(o){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(o.shiftKey?3:1))},_zoomOut:function(o){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(o.shiftKey?3:1))},_createButton:function(o,d,_,w,M){var O=le("a",_,w);return O.innerHTML=o,O.href="#",O.title=d,O.setAttribute("role","button"),O.setAttribute("aria-label",d),qn(O),ee(O,"click",sn),ee(O,"click",M,this),ee(O,"click",this._refocusOnMap,this),O},_updateDisabled:function(){var o=this._map,d="leaflet-disabled";Le(this._zoomInButton,d),Le(this._zoomOutButton,d),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||o._zoom===o.getMinZoom())&&(Kt(this._zoomOutButton,d),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||o._zoom===o.getMaxZoom())&&(Kt(this._zoomInButton,d),this._zoomInButton.setAttribute("aria-disabled","true"))}});he.mergeOptions({zoomControl:!0}),he.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Or,this.addControl(this.zoomControl))});var Ir=function(o){return new Or(o)},$n=ai.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(o){var d="leaflet-control-scale",_=le("div",d),w=this.options;return this._addScales(w,d+"-line",_),o.on(w.updateWhenIdle?"moveend":"move",this._update,this),o.whenReady(this._update,this),_},onRemove:function(o){o.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(o,d,_){o.metric&&(this._mScale=le("div",d,_)),o.imperial&&(this._iScale=le("div",d,_))},_update:function(){var o=this._map,d=o.getSize().y/2,_=o.distance(o.containerPointToLatLng([0,d]),o.containerPointToLatLng([this.options.maxWidth,d]));this._updateScales(_)},_updateScales:function(o){this.options.metric&&o&&this._updateMetric(o),this.options.imperial&&o&&this._updateImperial(o)},_updateMetric:function(o){var d=this._getRoundNum(o),_=d<1e3?d+" m":d/1e3+" km";this._updateScale(this._mScale,_,d/o)},_updateImperial:function(o){var d=o*3.2808399,_,w,M;d>5280?(_=d/5280,w=this._getRoundNum(_),this._updateScale(this._iScale,w+" mi",w/_)):(M=this._getRoundNum(d),this._updateScale(this._iScale,M+" ft",M/d))},_updateScale:function(o,d,_){o.style.width=Math.round(this.options.maxWidth*_)+"px",o.innerHTML=d},_getRoundNum:function(o){var d=Math.pow(10,(Math.floor(o)+"").length-1),_=o/d;return _=_>=10?10:_>=5?5:_>=3?3:_>=2?2:1,d*_}}),Ba=function(o){return new $n(o)},$i='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ar=ai.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(jt.inlineSvg?$i+" ":"")+"Leaflet</a>"},initialize:function(o){T(this,o),this._attributions={}},onAdd:function(o){o.attributionControl=this,this._container=le("div","leaflet-control-attribution"),qn(this._container);for(var d in o._layers)o._layers[d].getAttribution&&this.addAttribution(o._layers[d].getAttribution());return this._update(),o.on("layeradd",this._addAttribution,this),this._container},onRemove:function(o){o.off("layeradd",this._addAttribution,this)},_addAttribution:function(o){o.layer.getAttribution&&(this.addAttribution(o.layer.getAttribution()),o.layer.once("remove",function(){this.removeAttribution(o.layer.getAttribution())},this))},setPrefix:function(o){return this.options.prefix=o,this._update(),this},addAttribution:function(o){return o?(this._attributions[o]||(this._attributions[o]=0),this._attributions[o]++,this._update(),this):this},removeAttribution:function(o){return o?(this._attributions[o]&&(this._attributions[o]--,this._update()),this):this},_update:function(){if(!!this._map){var o=[];for(var d in this._attributions)this._attributions[d]&&o.push(d);var _=[];this.options.prefix&&_.push(this.options.prefix),o.length&&_.push(o.join(", ")),this._container.innerHTML=_.join(' <span aria-hidden="true">|</span> ')}}});he.mergeOptions({attributionControl:!0}),he.addInitHook(function(){this.options.attributionControl&&new ar().addTo(this)});var Cn=function(o){return new ar(o)};ai.Layers=aa,ai.Zoom=Or,ai.Scale=$n,ai.Attribution=ar,qi.layers=oa,qi.zoom=Ir,qi.scale=Ba,qi.attribution=Cn;var Ci=bt.extend({initialize:function(o){this._map=o},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ci.addTo=function(o,d){return o.addHandler(d,this),this};var Aa={Events:Tt},sa=jt.touch?"touchstart mousedown":"mousedown",Wi=Et.extend({options:{clickTolerance:3},initialize:function(o,d,_,w){T(this,w),this._element=o,this._dragStartTarget=d||o,this._preventOutline=_},enable:function(){this._enabled||(ee(this._dragStartTarget,sa,this._onDown,this),this._enabled=!0)},disable:function(){!this._enabled||(Wi._dragging===this&&this.finishDrag(!0),Ce(this._dragStartTarget,sa,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(o){if(!!this._enabled&&(this._moved=!1,!nn(this._element,"leaflet-zoom-anim"))){if(o.touches&&o.touches.length!==1){Wi._dragging===this&&this.finishDrag();return}if(!(Wi._dragging||o.shiftKey||o.which!==1&&o.button!==1&&!o.touches)&&(Wi._dragging=this,this._preventOutline&&Ne(this._element),Ot(),j(),!this._moving)){this.fire("down");var d=o.touches?o.touches[0]:o,_=Jr(this._element);this._startPoint=new Bt(d.clientX,d.clientY),this._startPos=N(this._element),this._parentScale=Er(_);var w=o.type==="mousedown";ee(document,w?"mousemove":"touchmove",this._onMove,this),ee(document,w?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(o){if(!!this._enabled){if(o.touches&&o.touches.length>1){this._moved=!0;return}var d=o.touches&&o.touches.length===1?o.touches[0]:o,_=new Bt(d.clientX,d.clientY)._subtract(this._startPoint);!_.x&&!_.y||Math.abs(_.x)+Math.abs(_.y)<this.options.clickTolerance||(_.x/=this._parentScale.x,_.y/=this._parentScale.y,je(o),this._moved||(this.fire("dragstart"),this._moved=!0,Kt(document.body,"leaflet-dragging"),this._lastTarget=o.target||o.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Kt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(_),this._moving=!0,this._lastEvent=o,this._updatePosition())}},_updatePosition:function(){var o={originalEvent:this._lastEvent};this.fire("predrag",o),Te(this._element,this._newPos),this.fire("drag",o)},_onUp:function(){!this._enabled||this.finishDrag()},finishDrag:function(o){Le(document.body,"leaflet-dragging"),this._lastTarget&&(Le(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ce(document,"mousemove touchmove",this._onMove,this),Ce(document,"mouseup touchend touchcancel",this._onUp,this),ne(),Q();var d=this._moved&&this._moving;this._moving=!1,Wi._dragging=!1,d&&this.fire("dragend",{noInertia:o,distance:this._newPos.distanceTo(this._startPos)})}});function la(o,d,_){var w,M=[1,4,2,8],O,K,ct,gt,Lt,It,Gt,se;for(O=0,It=o.length;O<It;O++)o[O]._code=un(o[O],d);for(ct=0;ct<4;ct++){for(Gt=M[ct],w=[],O=0,It=o.length,K=It-1;O<It;K=O++)gt=o[O],Lt=o[K],gt._code&Gt?Lt._code&Gt||(se=vi(Lt,gt,Gt,d,_),se._code=un(se,d),w.push(se)):(Lt._code&Gt&&(se=vi(Lt,gt,Gt,d,_),se._code=un(se,d),w.push(se)),w.push(gt));o=w}return o}function ua(o,d){var _,w,M,O,K,ct,gt,Lt,It;if(!o||o.length===0)throw new Error("latlngs not passed");Ee(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var Gt=Ht([0,0]),se=$t(o),Ye=se.getNorthWest().distanceTo(se.getSouthWest())*se.getNorthEast().distanceTo(se.getNorthWest());Ye<1700&&(Gt=Nr(o));var De=o.length,Oe=[];for(_=0;_<De;_++){var Ve=Ht(o[_]);Oe.push(d.project(Ht([Ve.lat-Gt.lat,Ve.lng-Gt.lng])))}for(ct=gt=Lt=0,_=0,w=De-1;_<De;w=_++)M=Oe[_],O=Oe[w],K=M.y*O.x-O.y*M.x,gt+=(M.x+O.x)*K,Lt+=(M.y+O.y)*K,ct+=K*3;ct===0?It=Oe[0]:It=[gt/ct,Lt/ct];var Zi=d.unproject(At(It));return Ht([Zi.lat+Gt.lat,Zi.lng+Gt.lng])}function Nr(o){for(var d=0,_=0,w=0,M=0;M<o.length;M++){var O=Ht(o[M]);d+=O.lat,_+=O.lng,w++}return Ht([d/w,_/w])}var Da={__proto__:null,clipPolygon:la,polygonCenter:ua,centroid:Nr};function Rr(o,d){if(!d||!o.length)return o.slice();var _=d*d;return o=kn(o,_),o=Xe(o,_),o}function ca(o,d,_){return Math.sqrt(cn(o,d,_,!0))}function He(o,d,_){return cn(o,d,_)}function Xe(o,d){var _=o.length,w=typeof Uint8Array!=void 0+""?Uint8Array:Array,M=new w(_);M[0]=M[_-1]=1,or(o,M,d,0,_-1);var O,K=[];for(O=0;O<_;O++)M[O]&&K.push(o[O]);return K}function or(o,d,_,w,M){var O=0,K,ct,gt;for(ct=w+1;ct<=M-1;ct++)gt=cn(o[ct],o[w],o[M],!0),gt>O&&(K=ct,O=gt);O>_&&(d[K]=1,or(o,d,_,w,K),or(o,d,_,K,M))}function kn(o,d){for(var _=[o[0]],w=1,M=0,O=o.length;w<O;w++)Oa(o[w],o[M])>d&&(_.push(o[w]),M=w);return M<O-1&&_.push(o[O-1]),_}var ln;function Mn(o,d,_,w,M){var O=w?ln:un(o,_),K=un(d,_),ct,gt,Lt;for(ln=K;;){if(!(O|K))return[o,d];if(O&K)return!1;ct=O||K,gt=vi(o,d,ct,_,M),Lt=un(gt,_),ct===O?(o=gt,O=Lt):(d=gt,K=Lt)}}function vi(o,d,_,w,M){var O=d.x-o.x,K=d.y-o.y,ct=w.min,gt=w.max,Lt,It;return _&8?(Lt=o.x+O*(gt.y-o.y)/K,It=gt.y):_&4?(Lt=o.x+O*(ct.y-o.y)/K,It=ct.y):_&2?(Lt=gt.x,It=o.y+K*(gt.x-o.x)/O):_&1&&(Lt=ct.x,It=o.y+K*(ct.x-o.x)/O),new Bt(Lt,It,M)}function un(o,d){var _=0;return o.x<d.min.x?_|=1:o.x>d.max.x&&(_|=2),o.y<d.min.y?_|=4:o.y>d.max.y&&(_|=8),_}function Oa(o,d){var _=d.x-o.x,w=d.y-o.y;return _*_+w*w}function cn(o,d,_,w){var M=d.x,O=d.y,K=_.x-M,ct=_.y-O,gt=K*K+ct*ct,Lt;return gt>0&&(Lt=((o.x-M)*K+(o.y-O)*ct)/gt,Lt>1?(M=_.x,O=_.y):Lt>0&&(M+=K*Lt,O+=ct*Lt)),K=o.x-M,ct=o.y-O,w?K*K+ct*ct:new Bt(M,O)}function Ee(o){return!Y(o[0])||typeof o[0][0]!="object"&&typeof o[0][0]!="undefined"}function zr(o){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ee(o)}function Wn(o,d){var _,w,M,O,K,ct,gt,Lt;if(!o||o.length===0)throw new Error("latlngs not passed");Ee(o)||(console.warn("latlngs are not flat! Only the first ring will be used"),o=o[0]);var It=Ht([0,0]),Gt=$t(o),se=Gt.getNorthWest().distanceTo(Gt.getSouthWest())*Gt.getNorthEast().distanceTo(Gt.getNorthWest());se<1700&&(It=Nr(o));var Ye=o.length,De=[];for(_=0;_<Ye;_++){var Oe=Ht(o[_]);De.push(d.project(Ht([Oe.lat-It.lat,Oe.lng-It.lng])))}for(_=0,w=0;_<Ye-1;_++)w+=De[_].distanceTo(De[_+1])/2;if(w===0)Lt=De[0];else for(_=0,O=0;_<Ye-1;_++)if(K=De[_],ct=De[_+1],M=K.distanceTo(ct),O+=M,O>w){gt=(O-w)/M,Lt=[ct.x-gt*(ct.x-K.x),ct.y-gt*(ct.y-K.y)];break}var Ve=d.unproject(At(Lt));return Ht([Ve.lat+It.lat,Ve.lng+It.lng])}var Ia={__proto__:null,simplify:Rr,pointToSegmentDistance:ca,closestPointOnSegment:He,clipSegment:Mn,_getEdgeIntersection:vi,_getBitCode:un,_sqClosestPointOnSegment:cn,isFlat:Ee,_flat:zr,polylineCenter:Wn},hi={project:function(o){return new Bt(o.lng,o.lat)},unproject:function(o){return new Ut(o.y,o.x)},bounds:new Xt([-180,-90],[180,90])},di={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Xt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(o){var d=Math.PI/180,_=this.R,w=o.lat*d,M=this.R_MINOR/_,O=Math.sqrt(1-M*M),K=O*Math.sin(w),ct=Math.tan(Math.PI/4-w/2)/Math.pow((1-K)/(1+K),O/2);return w=-_*Math.log(Math.max(ct,1e-10)),new Bt(o.lng*d*_,w)},unproject:function(o){for(var d=180/Math.PI,_=this.R,w=this.R_MINOR/_,M=Math.sqrt(1-w*w),O=Math.exp(-o.y/_),K=Math.PI/2-2*Math.atan(O),ct=0,gt=.1,Lt;ct<15&&Math.abs(gt)>1e-7;ct++)Lt=M*Math.sin(K),Lt=Math.pow((1-Lt)/(1+Lt),M/2),gt=Math.PI/2-2*Math.atan(O*Lt)-K,K+=gt;return new Ut(K*d,o.x*d/_)}},sr={__proto__:null,LonLat:hi,Mercator:di,SphericalMercator:oe},ha=r({},te,{code:"EPSG:3395",projection:di,transformation:function(){var o=.5/(Math.PI*di.R);return ae(o,.5,-o,.5)}()}),lr=r({},te,{code:"EPSG:4326",projection:hi,transformation:ae(1/180,1,-1/180,.5)}),Gn=r({},re,{projection:hi,transformation:ae(1,0,-1,0),scale:function(o){return Math.pow(2,o)},zoom:function(o){return Math.log(o)/Math.LN2},distance:function(o,d){var _=d.lng-o.lng,w=d.lat-o.lat;return Math.sqrt(_*_+w*w)},infinite:!0});re.Earth=te,re.EPSG3395=ha,re.EPSG3857=ce,re.EPSG900913=_e,re.EPSG4326=lr,re.Simple=Gn;var yi=Et.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(o){return o.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(o){return o&&o.removeLayer(this),this},getPane:function(o){return this._map.getPane(o?this.options[o]||o:this.options.pane)},addInteractiveTarget:function(o){return this._map._targets[p(o)]=this,this},removeInteractiveTarget:function(o){return delete this._map._targets[p(o)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(o){var d=o.target;if(!!d.hasLayer(this)){if(this._map=d,this._zoomAnimated=d._zoomAnimated,this.getEvents){var _=this.getEvents();d.on(_,this),this.once("remove",function(){d.off(_,this)},this)}this.onAdd(d),this.fire("add"),d.fire("layeradd",{layer:this})}}});he.include({addLayer:function(o){if(!o._layerAdd)throw new Error("The provided object is not a Layer.");var d=p(o);return this._layers[d]?this:(this._layers[d]=o,o._mapToAdd=this,o.beforeAdd&&o.beforeAdd(this),this.whenReady(o._layerAdd,o),this)},removeLayer:function(o){var d=p(o);return this._layers[d]?(this._loaded&&o.onRemove(this),delete this._layers[d],this._loaded&&(this.fire("layerremove",{layer:o}),o.fire("remove")),o._map=o._mapToAdd=null,this):this},hasLayer:function(o){return p(o)in this._layers},eachLayer:function(o,d){for(var _ in this._layers)o.call(d,this._layers[_]);return this},_addLayers:function(o){o=o?Y(o)?o:[o]:[];for(var d=0,_=o.length;d<_;d++)this.addLayer(o[d])},_addZoomLimit:function(o){(!isNaN(o.options.maxZoom)||!isNaN(o.options.minZoom))&&(this._zoomBoundLayers[p(o)]=o,this._updateZoomLevels())},_removeZoomLimit:function(o){var d=p(o);this._zoomBoundLayers[d]&&(delete this._zoomBoundLayers[d],this._updateZoomLevels())},_updateZoomLevels:function(){var o=1/0,d=-1/0,_=this._getZoomSpan();for(var w in this._zoomBoundLayers){var M=this._zoomBoundLayers[w].options;o=M.minZoom===void 0?o:Math.min(o,M.minZoom),d=M.maxZoom===void 0?d:Math.max(d,M.maxZoom)}this._layersMaxZoom=d===-1/0?void 0:d,this._layersMinZoom=o===1/0?void 0:o,_!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Pn=yi.extend({initialize:function(o,d){T(this,d),this._layers={};var _,w;if(o)for(_=0,w=o.length;_<w;_++)this.addLayer(o[_])},addLayer:function(o){var d=this.getLayerId(o);return this._layers[d]=o,this._map&&this._map.addLayer(o),this},removeLayer:function(o){var d=o in this._layers?o:this.getLayerId(o);return this._map&&this._layers[d]&&this._map.removeLayer(this._layers[d]),delete this._layers[d],this},hasLayer:function(o){var d=typeof o=="number"?o:this.getLayerId(o);return d in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(o){var d=Array.prototype.slice.call(arguments,1),_,w;for(_ in this._layers)w=this._layers[_],w[o]&&w[o].apply(w,d);return this},onAdd:function(o){this.eachLayer(o.addLayer,o)},onRemove:function(o){this.eachLayer(o.removeLayer,o)},eachLayer:function(o,d){for(var _ in this._layers)o.call(d,this._layers[_]);return this},getLayer:function(o){return this._layers[o]},getLayers:function(){var o=[];return this.eachLayer(o.push,o),o},setZIndex:function(o){return this.invoke("setZIndex",o)},getLayerId:function(o){return p(o)}}),Fr=function(o,d){return new Pn(o,d)},Ni=Pn.extend({addLayer:function(o){return this.hasLayer(o)?this:(o.addEventParent(this),Pn.prototype.addLayer.call(this,o),this.fire("layeradd",{layer:o}))},removeLayer:function(o){return this.hasLayer(o)?(o in this._layers&&(o=this._layers[o]),o.removeEventParent(this),Pn.prototype.removeLayer.call(this,o),this.fire("layerremove",{layer:o})):this},setStyle:function(o){return this.invoke("setStyle",o)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var o=new Wt;for(var d in this._layers){var _=this._layers[d];o.extend(_.getBounds?_.getBounds():_.getLatLng())}return o}}),Na=function(o,d){return new Ni(o,d)},Sn=bt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(o){T(this,o)},createIcon:function(o){return this._createIcon("icon",o)},createShadow:function(o){return this._createIcon("shadow",o)},_createIcon:function(o,d){var _=this._getIconUrl(o);if(!_){if(o==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var w=this._createImg(_,d&&d.tagName==="IMG"?d:null);return this._setIconStyles(w,o),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),w},_setIconStyles:function(o,d){var _=this.options,w=_[d+"Size"];typeof w=="number"&&(w=[w,w]);var M=At(w),O=At(d==="shadow"&&_.shadowAnchor||_.iconAnchor||M&&M.divideBy(2,!0));o.className="leaflet-marker-"+d+" "+(_.className||""),O&&(o.style.marginLeft=-O.x+"px",o.style.marginTop=-O.y+"px"),M&&(o.style.width=M.x+"px",o.style.height=M.y+"px")},_createImg:function(o,d){return d=d||document.createElement("img"),d.src=o,d},_getIconUrl:function(o){return jt.retina&&this.options[o+"RetinaUrl"]||this.options[o+"Url"]}});function Ra(o){return new Sn(o)}var hn=Sn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(o){return typeof hn.imagePath!="string"&&(hn.imagePath=this._detectIconPath()),(this.options.imagePath||hn.imagePath)+Sn.prototype._getIconUrl.call(this,o)},_stripUrl:function(o){var d=function(_,w,M){var O=w.exec(_);return O&&O[M]};return o=d(o,/^url\((['"])?(.+)\1\)$/,2),o&&d(o,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var o=le("div","leaflet-default-icon-path",document.body),d=gi(o,"background-image")||gi(o,"backgroundImage");if(document.body.removeChild(o),d=this._stripUrl(d),d)return d;var _=document.querySelector('link[href$="leaflet.css"]');return _?_.href.substring(0,_.href.length-11-1):""}}),da=Ci.extend({initialize:function(o){this._marker=o},addHooks:function(){var o=this._marker._icon;this._draggable||(this._draggable=new Wi(o,o,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Kt(o,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Le(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(o){var d=this._marker,_=d._map,w=this._marker.options.autoPanSpeed,M=this._marker.options.autoPanPadding,O=N(d._icon),K=_.getPixelBounds(),ct=_.getPixelOrigin(),gt=ie(K.min._subtract(ct).add(M),K.max._subtract(ct).subtract(M));if(!gt.contains(O)){var Lt=At((Math.max(gt.max.x,O.x)-gt.max.x)/(K.max.x-gt.max.x)-(Math.min(gt.min.x,O.x)-gt.min.x)/(K.min.x-gt.min.x),(Math.max(gt.max.y,O.y)-gt.max.y)/(K.max.y-gt.max.y)-(Math.min(gt.min.y,O.y)-gt.min.y)/(K.min.y-gt.min.y)).multiplyBy(w);_.panBy(Lt,{animate:!1}),this._draggable._newPos._add(Lt),this._draggable._startPos._add(Lt),Te(d._icon,this._draggable._newPos),this._onDrag(o),this._panRequest=_t(this._adjustPan.bind(this,o))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(o){this._marker.options.autoPan&&(St(this._panRequest),this._panRequest=_t(this._adjustPan.bind(this,o)))},_onDrag:function(o){var d=this._marker,_=d._shadow,w=N(d._icon),M=d._map.layerPointToLatLng(w);_&&Te(_,w),d._latlng=M,o.latlng=M,o.oldLatLng=this._oldLatLng,d.fire("move",o).fire("drag",o)},_onDragEnd:function(o){St(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",o)}}),ur=yi.extend({options:{icon:new hn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(o,d){T(this,d),this._latlng=Ht(o)},onAdd:function(o){this._zoomAnimated=this._zoomAnimated&&o.options.markerZoomAnimation,this._zoomAnimated&&o.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(o){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&o.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(o){var d=this._latlng;return this._latlng=Ht(o),this.update(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},setZIndexOffset:function(o){return this.options.zIndexOffset=o,this.update()},getIcon:function(){return this.options.icon},setIcon:function(o){return this.options.icon=o,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var o=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(o)}return this},_initIcon:function(){var o=this.options,d="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),_=o.icon.createIcon(this._icon),w=!1;_!==this._icon&&(this._icon&&this._removeIcon(),w=!0,o.title&&(_.title=o.title),_.tagName==="IMG"&&(_.alt=o.alt||"")),Kt(_,d),o.keyboard&&(_.tabIndex="0",_.setAttribute("role","button")),this._icon=_,o.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ee(_,"focus",this._panOnFocus,this);var M=o.icon.createShadow(this._shadow),O=!1;M!==this._shadow&&(this._removeShadow(),O=!0),M&&(Kt(M,d),M.alt=""),this._shadow=M,o.opacity<1&&this._updateOpacity(),w&&this.getPane().appendChild(this._icon),this._initInteraction(),M&&O&&this.getPane(o.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ce(this._icon,"focus",this._panOnFocus,this),ue(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ue(this._shadow),this._shadow=null},_setPos:function(o){this._icon&&Te(this._icon,o),this._shadow&&Te(this._shadow,o),this._zIndex=o.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(o){this._icon&&(this._icon.style.zIndex=this._zIndex+o)},_animateZoom:function(o){var d=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center).round();this._setPos(d)},_initInteraction:function(){if(!!this.options.interactive&&(Kt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),da)){var o=this.options.draggable;this.dragging&&(o=this.dragging.enabled(),this.dragging.disable()),this.dragging=new da(this),o&&this.dragging.enable()}},setOpacity:function(o){return this.options.opacity=o,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var o=this.options.opacity;this._icon&&We(this._icon,o),this._shadow&&We(this._shadow,o)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var o=this._map;if(!!o){var d=this.options.icon.options,_=d.iconSize?At(d.iconSize):At(0,0),w=d.iconAnchor?At(d.iconAnchor):At(0,0);o.panInside(this._latlng,{paddingTopLeft:w,paddingBottomRight:_.subtract(w)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function fa(o,d){return new ur(o,d)}var Je=yi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(o){this._renderer=o.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(o){return T(this,o),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&o&&Object.prototype.hasOwnProperty.call(o,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Zn=Je.extend({options:{fill:!0,radius:10},initialize:function(o,d){T(this,d),this._latlng=Ht(o),this._radius=this.options.radius},setLatLng:function(o){var d=this._latlng;return this._latlng=Ht(o),this.redraw(),this.fire("move",{oldLatLng:d,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(o){return this.options.radius=this._radius=o,this.redraw()},getRadius:function(){return this._radius},setStyle:function(o){var d=o&&o.radius||this._radius;return Je.prototype.setStyle.call(this,o),this.setRadius(d),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var o=this._radius,d=this._radiusY||o,_=this._clickTolerance(),w=[o+_,d+_];this._pxBounds=new Xt(this._point.subtract(w),this._point.add(w))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(o){return o.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function za(o,d){return new Zn(o,d)}var Ri=Zn.extend({initialize:function(o,d,_){if(typeof d=="number"&&(d=r({},_,{radius:d})),T(this,d),this._latlng=Ht(o),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(o){return this._mRadius=o,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var o=[this._radius,this._radiusY||this._radius];return new Wt(this._map.layerPointToLatLng(this._point.subtract(o)),this._map.layerPointToLatLng(this._point.add(o)))},setStyle:Je.prototype.setStyle,_project:function(){var o=this._latlng.lng,d=this._latlng.lat,_=this._map,w=_.options.crs;if(w.distance===te.distance){var M=Math.PI/180,O=this._mRadius/te.R/M,K=_.project([d+O,o]),ct=_.project([d-O,o]),gt=K.add(ct).divideBy(2),Lt=_.unproject(gt).lat,It=Math.acos((Math.cos(O*M)-Math.sin(d*M)*Math.sin(Lt*M))/(Math.cos(d*M)*Math.cos(Lt*M)))/M;(isNaN(It)||It===0)&&(It=O/Math.cos(Math.PI/180*d)),this._point=gt.subtract(_.getPixelOrigin()),this._radius=isNaN(It)?0:gt.x-_.project([Lt,o-It]).x,this._radiusY=gt.y-K.y}else{var Gt=w.unproject(w.project(this._latlng).subtract([this._mRadius,0]));this._point=_.latLngToLayerPoint(this._latlng),this._radius=this._point.x-_.latLngToLayerPoint(Gt).x}this._updateBounds()}});function Fa(o,d,_){return new Ri(o,d,_)}var zi=Je.extend({options:{smoothFactor:1,noClip:!1},initialize:function(o,d){T(this,d),this._setLatLngs(o)},getLatLngs:function(){return this._latlngs},setLatLngs:function(o){return this._setLatLngs(o),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(o){for(var d=1/0,_=null,w=cn,M,O,K=0,ct=this._parts.length;K<ct;K++)for(var gt=this._parts[K],Lt=1,It=gt.length;Lt<It;Lt++){M=gt[Lt-1],O=gt[Lt];var Gt=w(o,M,O,!0);Gt<d&&(d=Gt,_=w(o,M,O))}return _&&(_.distance=Math.sqrt(d)),_},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Wn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(o,d){return d=d||this._defaultShape(),o=Ht(o),d.push(o),this._bounds.extend(o),this.redraw()},_setLatLngs:function(o){this._bounds=new Wt,this._latlngs=this._convertLatLngs(o)},_defaultShape:function(){return Ee(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(o){for(var d=[],_=Ee(o),w=0,M=o.length;w<M;w++)_?(d[w]=Ht(o[w]),this._bounds.extend(d[w])):d[w]=this._convertLatLngs(o[w]);return d},_project:function(){var o=new Xt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,o),this._bounds.isValid()&&o.isValid()&&(this._rawPxBounds=o,this._updateBounds())},_updateBounds:function(){var o=this._clickTolerance(),d=new Bt(o,o);!this._rawPxBounds||(this._pxBounds=new Xt([this._rawPxBounds.min.subtract(d),this._rawPxBounds.max.add(d)]))},_projectLatlngs:function(o,d,_){var w=o[0]instanceof Ut,M=o.length,O,K;if(w){for(K=[],O=0;O<M;O++)K[O]=this._map.latLngToLayerPoint(o[O]),_.extend(K[O]);d.push(K)}else for(O=0;O<M;O++)this._projectLatlngs(o[O],d,_)},_clipPoints:function(){var o=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}var d=this._parts,_,w,M,O,K,ct,gt;for(_=0,M=0,O=this._rings.length;_<O;_++)for(gt=this._rings[_],w=0,K=gt.length;w<K-1;w++)ct=Mn(gt[w],gt[w+1],o,w,!0),ct&&(d[M]=d[M]||[],d[M].push(ct[0]),(ct[1]!==gt[w+1]||w===K-2)&&(d[M].push(ct[1]),M++))}},_simplifyPoints:function(){for(var o=this._parts,d=this.options.smoothFactor,_=0,w=o.length;_<w;_++)o[_]=Rr(o[_],d)},_update:function(){!this._map||(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(o,d){var _,w,M,O,K,ct,gt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(_=0,O=this._parts.length;_<O;_++)for(ct=this._parts[_],w=0,K=ct.length,M=K-1;w<K;M=w++)if(!(!d&&w===0)&&ca(o,ct[M],ct[w])<=gt)return!0;return!1}});function Vr(o,d){return new zi(o,d)}zi._flat=zr;var ki=zi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ua(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(o){var d=zi.prototype._convertLatLngs.call(this,o),_=d.length;return _>=2&&d[0]instanceof Ut&&d[0].equals(d[_-1])&&d.pop(),d},_setLatLngs:function(o){zi.prototype._setLatLngs.call(this,o),Ee(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ee(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var o=this._renderer._bounds,d=this.options.weight,_=new Bt(d,d);if(o=new Xt(o.min.subtract(_),o.max.add(_)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(o))){if(this.options.noClip){this._parts=this._rings;return}for(var w=0,M=this._rings.length,O;w<M;w++)O=la(this._rings[w],o,!0),O.length&&this._parts.push(O)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(o){var d=!1,_,w,M,O,K,ct,gt,Lt;if(!this._pxBounds||!this._pxBounds.contains(o))return!1;for(O=0,gt=this._parts.length;O<gt;O++)for(_=this._parts[O],K=0,Lt=_.length,ct=Lt-1;K<Lt;ct=K++)w=_[K],M=_[ct],w.y>o.y!=M.y>o.y&&o.x<(M.x-w.x)*(o.y-w.y)/(M.y-w.y)+w.x&&(d=!d);return d||zi.prototype._containsPoint.call(this,o,!0)}});function Va(o,d){return new ki(o,d)}var Fi=Ni.extend({initialize:function(o,d){T(this,d),this._layers={},o&&this.addData(o)},addData:function(o){var d=Y(o)?o:o.features,_,w,M;if(d){for(_=0,w=d.length;_<w;_++)M=d[_],(M.geometries||M.geometry||M.features||M.coordinates)&&this.addData(M);return this}var O=this.options;if(O.filter&&!O.filter(o))return this;var K=cr(o,O);return K?(K.feature=Qn(o),K.defaultOptions=K.options,this.resetStyle(K),O.onEachFeature&&O.onEachFeature(o,K),this.addLayer(K)):this},resetStyle:function(o){return o===void 0?this.eachLayer(this.resetStyle,this):(o.options=r({},o.defaultOptions),this._setLayerStyle(o,this.options.style),this)},setStyle:function(o){return this.eachLayer(function(d){this._setLayerStyle(d,o)},this)},_setLayerStyle:function(o,d){o.setStyle&&(typeof d=="function"&&(d=d(o.feature)),o.setStyle(d))}});function cr(o,d){var _=o.type==="Feature"?o.geometry:o,w=_?_.coordinates:null,M=[],O=d&&d.pointToLayer,K=d&&d.coordsToLatLng||Hr,ct,gt,Lt,It;if(!w&&!_)return null;switch(_.type){case"Point":return ct=K(w),jr(O,o,ct,d);case"MultiPoint":for(Lt=0,It=w.length;Lt<It;Lt++)ct=K(w[Lt]),M.push(jr(O,o,ct,d));return new Ni(M);case"LineString":case"MultiLineString":return gt=Yn(w,_.type==="LineString"?0:1,K),new zi(gt,d);case"Polygon":case"MultiPolygon":return gt=Yn(w,_.type==="Polygon"?1:2,K),new ki(gt,d);case"GeometryCollection":for(Lt=0,It=_.geometries.length;Lt<It;Lt++){var Gt=cr({geometry:_.geometries[Lt],type:"Feature",properties:o.properties},d);Gt&&M.push(Gt)}return new Ni(M);case"FeatureCollection":for(Lt=0,It=_.features.length;Lt<It;Lt++){var se=cr(_.features[Lt],d);se&&M.push(se)}return new Ni(M);default:throw new Error("Invalid GeoJSON object.")}}function jr(o,d,_,w){return o?o(d,_):new ur(_,w&&w.markersInheritOptions&&w)}function Hr(o){return new Ut(o[1],o[0],o[2])}function Yn(o,d,_){for(var w=[],M=0,O=o.length,K;M<O;M++)K=d?Yn(o[M],d-1,_):(_||Hr)(o[M]),w.push(K);return w}function Ur(o,d){return o=Ht(o),o.alt!==void 0?[C(o.lng,d),C(o.lat,d),C(o.alt,d)]:[C(o.lng,d),C(o.lat,d)]}function hr(o,d,_,w){for(var M=[],O=0,K=o.length;O<K;O++)M.push(d?hr(o[O],Ee(o[O])?0:d-1,_,w):Ur(o[O],w));return!d&&_&&M.length>0&&M.push(M[0].slice()),M}function Tn(o,d){return o.feature?r({},o.feature,{geometry:d}):Qn(d)}function Qn(o){return o.type==="Feature"||o.type==="FeatureCollection"?o:{type:"Feature",properties:{},geometry:o}}var Kn={toGeoJSON:function(o){return Tn(this,{type:"Point",coordinates:Ur(this.getLatLng(),o)})}};ur.include(Kn),Ri.include(Kn),Zn.include(Kn),zi.include({toGeoJSON:function(o){var d=!Ee(this._latlngs),_=hr(this._latlngs,d?1:0,!1,o);return Tn(this,{type:(d?"Multi":"")+"LineString",coordinates:_})}}),ki.include({toGeoJSON:function(o){var d=!Ee(this._latlngs),_=d&&!Ee(this._latlngs[0]),w=hr(this._latlngs,_?2:d?1:0,!0,o);return d||(w=[w]),Tn(this,{type:(_?"Multi":"")+"Polygon",coordinates:w})}}),Pn.include({toMultiPoint:function(o){var d=[];return this.eachLayer(function(_){d.push(_.toGeoJSON(o).geometry.coordinates)}),Tn(this,{type:"MultiPoint",coordinates:d})},toGeoJSON:function(o){var d=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(d==="MultiPoint")return this.toMultiPoint(o);var _=d==="GeometryCollection",w=[];return this.eachLayer(function(M){if(M.toGeoJSON){var O=M.toGeoJSON(o);if(_)w.push(O.geometry);else{var K=Qn(O);K.type==="FeatureCollection"?w.push.apply(w,K.features):w.push(K)}}}),_?Tn(this,{geometries:w,type:"GeometryCollection"}):{type:"FeatureCollection",features:w}}});function qr(o,d){return new Fi(o,d)}var $r=qr,dr=yi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(o,d,_){this._url=o,this._bounds=$t(d),T(this,_)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Kt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ue(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(o){return this.options.opacity=o,this._image&&this._updateOpacity(),this},setStyle:function(o){return o.opacity&&this.setOpacity(o.opacity),this},bringToFront:function(){return this._map&&wi(this._image),this},bringToBack:function(){return this._map&&_i(this._image),this},setUrl:function(o){return this._url=o,this._image&&(this._image.src=o),this},setBounds:function(o){return this._bounds=$t(o),this._map&&this._reset(),this},getEvents:function(){var o={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var o=this._url.tagName==="IMG",d=this._image=o?this._url:le("img");if(Kt(d,"leaflet-image-layer"),this._zoomAnimated&&Kt(d,"leaflet-zoom-animated"),this.options.className&&Kt(d,this.options.className),d.onselectstart=b,d.onmousemove=b,d.onload=s(this.fire,this,"load"),d.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),o){this._url=d.src;return}d.src=this._url,d.alt=this.options.alt},_animateZoom:function(o){var d=this._map.getZoomScale(o.zoom),_=this._map._latLngBoundsToNewLayerBounds(this._bounds,o.zoom,o.center).min;Ii(this._image,_,d)},_reset:function(){var o=this._image,d=new Xt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),_=d.getSize();Te(o,d.min),o.style.width=_.x+"px",o.style.height=_.y+"px"},_updateOpacity:function(){We(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var o=this.options.errorOverlayUrl;o&&this._url!==o&&(this._url=o,this._image.src=o)},getCenter:function(){return this._bounds.getCenter()}}),fr=function(o,d,_){return new dr(o,d,_)},Wr=dr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var o=this._url.tagName==="VIDEO",d=this._image=o?this._url:le("video");if(Kt(d,"leaflet-image-layer"),this._zoomAnimated&&Kt(d,"leaflet-zoom-animated"),this.options.className&&Kt(d,this.options.className),d.onselectstart=b,d.onmousemove=b,d.onloadeddata=s(this.fire,this,"load"),o){for(var _=d.getElementsByTagName("source"),w=[],M=0;M<_.length;M++)w.push(_[M].src);this._url=_.length>0?w:[d.src];return}Y(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(d.style,"objectFit")&&(d.style.objectFit="fill"),d.autoplay=!!this.options.autoplay,d.loop=!!this.options.loop,d.muted=!!this.options.muted,d.playsInline=!!this.options.playsInline;for(var O=0;O<this._url.length;O++){var K=le("source");K.src=this._url[O],d.appendChild(K)}}});function ja(o,d,_){return new Wr(o,d,_)}var pa=dr.extend({_initImage:function(){var o=this._image=this._url;Kt(o,"leaflet-image-layer"),this._zoomAnimated&&Kt(o,"leaflet-zoom-animated"),this.options.className&&Kt(o,this.options.className),o.onselectstart=b,o.onmousemove=b}});function Ha(o,d,_){return new pa(o,d,_)}var ti=yi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(o,d){o&&(o instanceof Ut||Y(o))?(this._latlng=Ht(o),T(this,d)):(T(this,o),this._source=d),this.options.content&&(this._content=this.options.content)},openOn:function(o){return o=arguments.length?o:this._source._map,o.hasLayer(this)||o.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(o){return this._map?this.close():(arguments.length?this._source=o:o=this._source,this._prepareOpen(),this.openOn(o._map)),this},onAdd:function(o){this._zoomAnimated=o._zoomAnimated,this._container||this._initLayout(),o._fadeAnimated&&We(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),o._fadeAnimated&&We(this._container,1),this.bringToFront(),this.options.interactive&&(Kt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(o){o._fadeAnimated?(We(this._container,0),this._removeTimeout=setTimeout(s(ue,void 0,this._container),200)):ue(this._container),this.options.interactive&&(Le(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(o){return this._latlng=Ht(o),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(o){return this._content=o,this.update(),this},getElement:function(){return this._container},update:function(){!this._map||(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var o={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&wi(this._container),this},bringToBack:function(){return this._map&&_i(this._container),this},_prepareOpen:function(o){var d=this._source;if(!d._map)return!1;if(d instanceof Ni){d=null;var _=this._source._layers;for(var w in _)if(_[w]._map){d=_[w];break}if(!d)return!1;this._source=d}if(!o)if(d.getCenter)o=d.getCenter();else if(d.getLatLng)o=d.getLatLng();else if(d.getBounds)o=d.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(o),this._map&&this.update(),!0},_updateContent:function(){if(!!this._content){var o=this._contentNode,d=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof d=="string")o.innerHTML=d;else{for(;o.hasChildNodes();)o.removeChild(o.firstChild);o.appendChild(d)}this.fire("contentupdate")}},_updatePosition:function(){if(!!this._map){var o=this._map.latLngToLayerPoint(this._latlng),d=At(this.options.offset),_=this._getAnchor();this._zoomAnimated?Te(this._container,o.add(_)):d=d.add(o).add(_);var w=this._containerBottom=-d.y,M=this._containerLeft=-Math.round(this._containerWidth/2)+d.x;this._container.style.bottom=w+"px",this._container.style.left=M+"px"}},_getAnchor:function(){return[0,0]}});he.include({_initOverlay:function(o,d,_,w){var M=d;return M instanceof o||(M=new o(w).setContent(d)),_&&M.setLatLng(_),M}}),yi.include({_initOverlay:function(o,d,_,w){var M=_;return M instanceof o?(T(M,w),M._source=this):(M=d&&!w?d:new o(w,this),M.setContent(_)),M}});var pr=ti.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(o){return o=arguments.length?o:this._source._map,!o.hasLayer(this)&&o._popup&&o._popup.options.autoClose&&o.removeLayer(o._popup),o._popup=this,ti.prototype.openOn.call(this,o)},onAdd:function(o){ti.prototype.onAdd.call(this,o),o.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Je||this._source.on("preclick",on))},onRemove:function(o){ti.prototype.onRemove.call(this,o),o.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Je||this._source.off("preclick",on))},getEvents:function(){var o=ti.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(o.preclick=this.close),this.options.keepInView&&(o.moveend=this._adjustPan),o},_initLayout:function(){var o="leaflet-popup",d=this._container=le("div",o+" "+(this.options.className||"")+" leaflet-zoom-animated"),_=this._wrapper=le("div",o+"-content-wrapper",d);if(this._contentNode=le("div",o+"-content",_),qn(d),Dr(this._contentNode),ee(d,"contextmenu",on),this._tipContainer=le("div",o+"-tip-container",d),this._tip=le("div",o+"-tip",this._tipContainer),this.options.closeButton){var w=this._closeButton=le("a",o+"-close-button",d);w.setAttribute("role","button"),w.setAttribute("aria-label","Close popup"),w.href="#close",w.innerHTML='<span aria-hidden="true">&#215;</span>',ee(w,"click",function(M){je(M),this.close()},this)}},_updateLayout:function(){var o=this._contentNode,d=o.style;d.width="",d.whiteSpace="nowrap";var _=o.offsetWidth;_=Math.min(_,this.options.maxWidth),_=Math.max(_,this.options.minWidth),d.width=_+1+"px",d.whiteSpace="",d.height="";var w=o.offsetHeight,M=this.options.maxHeight,O="leaflet-popup-scrolled";M&&w>M?(d.height=M+"px",Kt(o,O)):Le(o,O),this._containerWidth=this._container.offsetWidth},_animateZoom:function(o){var d=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center),_=this._getAnchor();Te(this._container,d.add(_))},_adjustPan:function(){if(!!this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var o=this._map,d=parseInt(gi(this._container,"marginBottom"),10)||0,_=this._container.offsetHeight+d,w=this._containerWidth,M=new Bt(this._containerLeft,-_-this._containerBottom);M._add(N(this._container));var O=o.layerPointToContainerPoint(M),K=At(this.options.autoPanPadding),ct=At(this.options.autoPanPaddingTopLeft||K),gt=At(this.options.autoPanPaddingBottomRight||K),Lt=o.getSize(),It=0,Gt=0;O.x+w+gt.x>Lt.x&&(It=O.x+w-Lt.x+gt.x),O.x-It-ct.x<0&&(It=O.x-ct.x),O.y+_+gt.y>Lt.y&&(Gt=O.y+_-Lt.y+gt.y),O.y-Gt-ct.y<0&&(Gt=O.y-ct.y),(It||Gt)&&(this.options.keepInView&&(this._autopanning=!0),o.fire("autopanstart").panBy([It,Gt]))}},_getAnchor:function(){return At(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ua=function(o,d){return new pr(o,d)};he.mergeOptions({closePopupOnClick:!0}),he.include({openPopup:function(o,d,_){return this._initOverlay(pr,o,d,_).openOn(this),this},closePopup:function(o){return o=arguments.length?o:this._popup,o&&o.close(),this}}),yi.include({bindPopup:function(o,d){return this._popup=this._initOverlay(pr,this._popup,o,d),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(o){return this._popup&&(this instanceof Ni||(this._popup._source=this),this._popup._prepareOpen(o||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(o){return this._popup&&this._popup.setContent(o),this},getPopup:function(){return this._popup},_openPopup:function(o){if(!(!this._popup||!this._map)){sn(o);var d=o.layer||o.target;if(this._popup._source===d&&!(d instanceof Je)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(o.latlng);return}this._popup._source=d,this.openPopup(o.latlng)}},_movePopup:function(o){this._popup.setLatLng(o.latlng)},_onKeyPress:function(o){o.originalEvent.keyCode===13&&this._openPopup(o)}});var mr=ti.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(o){ti.prototype.onAdd.call(this,o),this.setOpacity(this.options.opacity),o.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(o){ti.prototype.onRemove.call(this,o),o.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var o=ti.prototype.getEvents.call(this);return this.options.permanent||(o.preclick=this.close),o},_initLayout:function(){var o="leaflet-tooltip",d=o+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=le("div",d),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+p(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(o){var d,_,w=this._map,M=this._container,O=w.latLngToContainerPoint(w.getCenter()),K=w.layerPointToContainerPoint(o),ct=this.options.direction,gt=M.offsetWidth,Lt=M.offsetHeight,It=At(this.options.offset),Gt=this._getAnchor();ct==="top"?(d=gt/2,_=Lt):ct==="bottom"?(d=gt/2,_=0):ct==="center"?(d=gt/2,_=Lt/2):ct==="right"?(d=0,_=Lt/2):ct==="left"?(d=gt,_=Lt/2):K.x<O.x?(ct="right",d=0,_=Lt/2):(ct="left",d=gt+(It.x+Gt.x)*2,_=Lt/2),o=o.subtract(At(d,_,!0)).add(It).add(Gt),Le(M,"leaflet-tooltip-right"),Le(M,"leaflet-tooltip-left"),Le(M,"leaflet-tooltip-top"),Le(M,"leaflet-tooltip-bottom"),Kt(M,"leaflet-tooltip-"+ct),Te(M,o)},_updatePosition:function(){var o=this._map.latLngToLayerPoint(this._latlng);this._setPosition(o)},setOpacity:function(o){this.options.opacity=o,this._container&&We(this._container,o)},_animateZoom:function(o){var d=this._map._latLngToNewLayerPoint(this._latlng,o.zoom,o.center);this._setPosition(d)},_getAnchor:function(){return At(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),qa=function(o,d){return new mr(o,d)};he.include({openTooltip:function(o,d,_){return this._initOverlay(mr,o,d,_).openOn(this),this},closeTooltip:function(o){return o.close(),this}}),yi.include({bindTooltip:function(o,d){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(mr,this._tooltip,o,d),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(o){if(!(!o&&this._tooltipHandlersAdded)){var d=o?"off":"on",_={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?_.add=this._openTooltip:(_.mouseover=this._openTooltip,_.mouseout=this.closeTooltip,_.click=this._openTooltip,this._map?this._addFocusListeners():_.add=this._addFocusListeners),this._tooltip.options.sticky&&(_.mousemove=this._moveTooltip),this[d](_),this._tooltipHandlersAdded=!o}},openTooltip:function(o){return this._tooltip&&(this instanceof Ni||(this._tooltip._source=this),this._tooltip._prepareOpen(o)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(o){return this._tooltip&&this._tooltip.setContent(o),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(o){var d=typeof o.getElement=="function"&&o.getElement();d&&(ee(d,"focus",function(){this._tooltip._source=o,this.openTooltip()},this),ee(d,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(o){var d=typeof o.getElement=="function"&&o.getElement();d&&d.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(o){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var d=this;this._map.once("moveend",function(){d._openOnceFlag=!1,d._openTooltip(o)});return}this._tooltip._source=o.layer||o.target,this.openTooltip(this._tooltip.options.sticky?o.latlng:void 0)}},_moveTooltip:function(o){var d=o.latlng,_,w;this._tooltip.options.sticky&&o.originalEvent&&(_=this._map.mouseEventToContainerPoint(o.originalEvent),w=this._map.containerPointToLayerPoint(_),d=this._map.layerPointToLatLng(w)),this._tooltip.setLatLng(d)}});var ma=Sn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(o){var d=o&&o.tagName==="DIV"?o:document.createElement("div"),_=this.options;if(_.html instanceof Element?(xi(d),d.appendChild(_.html)):d.innerHTML=_.html!==!1?_.html:"",_.bgPos){var w=At(_.bgPos);d.style.backgroundPosition=-w.x+"px "+-w.y+"px"}return this._setIconStyles(d,"icon"),d},createShadow:function(){return null}});function $a(o){return new ma(o)}Sn.Default=hn;var Xn=yi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:jt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(o){T(this,o)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(o){o._addZoomLimit(this)},onRemove:function(o){this._removeAllTiles(),ue(this._container),o._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(wi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(_i(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(o){return this.options.opacity=o,this._updateOpacity(),this},setZIndex:function(o){return this.options.zIndex=o,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var o=this._clampZoom(this._map.getZoom());o!==this._tileZoom&&(this._tileZoom=o,this._updateLevels()),this._update()}return this},getEvents:function(){var o={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=g(this._onMoveEnd,this.options.updateInterval,this)),o.move=this._onMove),this._zoomAnimated&&(o.zoomanim=this._animateZoom),o},createTile:function(){return document.createElement("div")},getTileSize:function(){var o=this.options.tileSize;return o instanceof Bt?o:new Bt(o,o)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(o){for(var d=this.getPane().children,_=-o(-1/0,1/0),w=0,M=d.length,O;w<M;w++)O=d[w].style.zIndex,d[w]!==this._container&&O&&(_=o(_,+O));isFinite(_)&&(this.options.zIndex=_+o(-1,1),this._updateZIndex())},_updateOpacity:function(){if(!!this._map&&!jt.ielt9){We(this._container,this.options.opacity);var o=+new Date,d=!1,_=!1;for(var w in this._tiles){var M=this._tiles[w];if(!(!M.current||!M.loaded)){var O=Math.min(1,(o-M.loaded)/200);We(M.el,O),O<1?d=!0:(M.active?_=!0:this._onOpaqueTile(M),M.active=!0)}}_&&!this._noPrune&&this._pruneTiles(),d&&(St(this._fadeFrame),this._fadeFrame=_t(this._updateOpacity,this))}},_onOpaqueTile:b,_initContainer:function(){this._container||(this._container=le("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var o=this._tileZoom,d=this.options.maxZoom;if(o!==void 0){for(var _ in this._levels)_=Number(_),this._levels[_].el.children.length||_===o?(this._levels[_].el.style.zIndex=d-Math.abs(o-_),this._onUpdateLevel(_)):(ue(this._levels[_].el),this._removeTilesAtZoom(_),this._onRemoveLevel(_),delete this._levels[_]);var w=this._levels[o],M=this._map;return w||(w=this._levels[o]={},w.el=le("div","leaflet-tile-container leaflet-zoom-animated",this._container),w.el.style.zIndex=d,w.origin=M.project(M.unproject(M.getPixelOrigin()),o).round(),w.zoom=o,this._setZoomTransform(w,M.getCenter(),M.getZoom()),b(w.el.offsetWidth),this._onCreateLevel(w)),this._level=w,w}},_onUpdateLevel:b,_onRemoveLevel:b,_onCreateLevel:b,_pruneTiles:function(){if(!!this._map){var o,d,_=this._map.getZoom();if(_>this.options.maxZoom||_<this.options.minZoom){this._removeAllTiles();return}for(o in this._tiles)d=this._tiles[o],d.retain=d.current;for(o in this._tiles)if(d=this._tiles[o],d.current&&!d.active){var w=d.coords;this._retainParent(w.x,w.y,w.z,w.z-5)||this._retainChildren(w.x,w.y,w.z,w.z+2)}for(o in this._tiles)this._tiles[o].retain||this._removeTile(o)}},_removeTilesAtZoom:function(o){for(var d in this._tiles)this._tiles[d].coords.z===o&&this._removeTile(d)},_removeAllTiles:function(){for(var o in this._tiles)this._removeTile(o)},_invalidateAll:function(){for(var o in this._levels)ue(this._levels[o].el),this._onRemoveLevel(Number(o)),delete this._levels[o];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(o,d,_,w){var M=Math.floor(o/2),O=Math.floor(d/2),K=_-1,ct=new Bt(+M,+O);ct.z=+K;var gt=this._tileCoordsToKey(ct),Lt=this._tiles[gt];return Lt&&Lt.active?(Lt.retain=!0,!0):(Lt&&Lt.loaded&&(Lt.retain=!0),K>w?this._retainParent(M,O,K,w):!1)},_retainChildren:function(o,d,_,w){for(var M=2*o;M<2*o+2;M++)for(var O=2*d;O<2*d+2;O++){var K=new Bt(M,O);K.z=_+1;var ct=this._tileCoordsToKey(K),gt=this._tiles[ct];if(gt&&gt.active){gt.retain=!0;continue}else gt&&gt.loaded&&(gt.retain=!0);_+1<w&&this._retainChildren(M,O,_+1,w)}},_resetView:function(o){var d=o&&(o.pinch||o.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),d,d)},_animateZoom:function(o){this._setView(o.center,o.zoom,!0,o.noUpdate)},_clampZoom:function(o){var d=this.options;return d.minNativeZoom!==void 0&&o<d.minNativeZoom?d.minNativeZoom:d.maxNativeZoom!==void 0&&d.maxNativeZoom<o?d.maxNativeZoom:o},_setView:function(o,d,_,w){var M=Math.round(d);this.options.maxZoom!==void 0&&M>this.options.maxZoom||this.options.minZoom!==void 0&&M<this.options.minZoom?M=void 0:M=this._clampZoom(M);var O=this.options.updateWhenZooming&&M!==this._tileZoom;(!w||O)&&(this._tileZoom=M,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),M!==void 0&&this._update(o),_||this._pruneTiles(),this._noPrune=!!_),this._setZoomTransforms(o,d)},_setZoomTransforms:function(o,d){for(var _ in this._levels)this._setZoomTransform(this._levels[_],o,d)},_setZoomTransform:function(o,d,_){var w=this._map.getZoomScale(_,o.zoom),M=o.origin.multiplyBy(w).subtract(this._map._getNewPixelOrigin(d,_)).round();jt.any3d?Ii(o.el,M,w):Te(o.el,M)},_resetGrid:function(){var o=this._map,d=o.options.crs,_=this._tileSize=this.getTileSize(),w=this._tileZoom,M=this._map.getPixelWorldBounds(this._tileZoom);M&&(this._globalTileRange=this._pxBoundsToTileRange(M)),this._wrapX=d.wrapLng&&!this.options.noWrap&&[Math.floor(o.project([0,d.wrapLng[0]],w).x/_.x),Math.ceil(o.project([0,d.wrapLng[1]],w).x/_.y)],this._wrapY=d.wrapLat&&!this.options.noWrap&&[Math.floor(o.project([d.wrapLat[0],0],w).y/_.x),Math.ceil(o.project([d.wrapLat[1],0],w).y/_.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(o){var d=this._map,_=d._animatingZoom?Math.max(d._animateToZoom,d.getZoom()):d.getZoom(),w=d.getZoomScale(_,this._tileZoom),M=d.project(o,this._tileZoom).floor(),O=d.getSize().divideBy(w*2);return new Xt(M.subtract(O),M.add(O))},_update:function(o){var d=this._map;if(!!d){var _=this._clampZoom(d.getZoom());if(o===void 0&&(o=d.getCenter()),this._tileZoom!==void 0){var w=this._getTiledPixelBounds(o),M=this._pxBoundsToTileRange(w),O=M.getCenter(),K=[],ct=this.options.keepBuffer,gt=new Xt(M.getBottomLeft().subtract([ct,-ct]),M.getTopRight().add([ct,-ct]));if(!(isFinite(M.min.x)&&isFinite(M.min.y)&&isFinite(M.max.x)&&isFinite(M.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Lt in this._tiles){var It=this._tiles[Lt].coords;(It.z!==this._tileZoom||!gt.contains(new Bt(It.x,It.y)))&&(this._tiles[Lt].current=!1)}if(Math.abs(_-this._tileZoom)>1){this._setView(o,_);return}for(var Gt=M.min.y;Gt<=M.max.y;Gt++)for(var se=M.min.x;se<=M.max.x;se++){var Ye=new Bt(se,Gt);if(Ye.z=this._tileZoom,!!this._isValidTile(Ye)){var De=this._tiles[this._tileCoordsToKey(Ye)];De?De.current=!0:K.push(Ye)}}if(K.sort(function(Ve,Zi){return Ve.distanceTo(O)-Zi.distanceTo(O)}),K.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Oe=document.createDocumentFragment();for(se=0;se<K.length;se++)this._addTile(K[se],Oe);this._level.el.appendChild(Oe)}}}},_isValidTile:function(o){var d=this._map.options.crs;if(!d.infinite){var _=this._globalTileRange;if(!d.wrapLng&&(o.x<_.min.x||o.x>_.max.x)||!d.wrapLat&&(o.y<_.min.y||o.y>_.max.y))return!1}if(!this.options.bounds)return!0;var w=this._tileCoordsToBounds(o);return $t(this.options.bounds).overlaps(w)},_keyToBounds:function(o){return this._tileCoordsToBounds(this._keyToTileCoords(o))},_tileCoordsToNwSe:function(o){var d=this._map,_=this.getTileSize(),w=o.scaleBy(_),M=w.add(_),O=d.unproject(w,o.z),K=d.unproject(M,o.z);return[O,K]},_tileCoordsToBounds:function(o){var d=this._tileCoordsToNwSe(o),_=new Wt(d[0],d[1]);return this.options.noWrap||(_=this._map.wrapLatLngBounds(_)),_},_tileCoordsToKey:function(o){return o.x+":"+o.y+":"+o.z},_keyToTileCoords:function(o){var d=o.split(":"),_=new Bt(+d[0],+d[1]);return _.z=+d[2],_},_removeTile:function(o){var d=this._tiles[o];!d||(ue(d.el),delete this._tiles[o],this.fire("tileunload",{tile:d.el,coords:this._keyToTileCoords(o)}))},_initTile:function(o){Kt(o,"leaflet-tile");var d=this.getTileSize();o.style.width=d.x+"px",o.style.height=d.y+"px",o.onselectstart=b,o.onmousemove=b,jt.ielt9&&this.options.opacity<1&&We(o,this.options.opacity)},_addTile:function(o,d){var _=this._getTilePos(o),w=this._tileCoordsToKey(o),M=this.createTile(this._wrapCoords(o),s(this._tileReady,this,o));this._initTile(M),this.createTile.length<2&&_t(s(this._tileReady,this,o,null,M)),Te(M,_),this._tiles[w]={el:M,coords:o,current:!0},d.appendChild(M),this.fire("tileloadstart",{tile:M,coords:o})},_tileReady:function(o,d,_){d&&this.fire("tileerror",{error:d,tile:_,coords:o});var w=this._tileCoordsToKey(o);_=this._tiles[w],_&&(_.loaded=+new Date,this._map._fadeAnimated?(We(_.el,0),St(this._fadeFrame),this._fadeFrame=_t(this._updateOpacity,this)):(_.active=!0,this._pruneTiles()),d||(Kt(_.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:_.el,coords:o})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),jt.ielt9||!this._map._fadeAnimated?_t(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(o){return o.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(o){var d=new Bt(this._wrapX?y(o.x,this._wrapX):o.x,this._wrapY?y(o.y,this._wrapY):o.y);return d.z=o.z,d},_pxBoundsToTileRange:function(o){var d=this.getTileSize();return new Xt(o.min.unscaleBy(d).floor(),o.max.unscaleBy(d).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var o in this._tiles)if(!this._tiles[o].loaded)return!1;return!0}});function Wa(o){return new Xn(o)}var dn=Xn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(o,d){this._url=o,d=T(this,d),d.detectRetina&&jt.retina&&d.maxZoom>0?(d.tileSize=Math.floor(d.tileSize/2),d.zoomReverse?(d.zoomOffset--,d.minZoom=Math.min(d.maxZoom,d.minZoom+1)):(d.zoomOffset++,d.maxZoom=Math.max(d.minZoom,d.maxZoom-1)),d.minZoom=Math.max(0,d.minZoom)):d.zoomReverse?d.minZoom=Math.min(d.maxZoom,d.minZoom):d.maxZoom=Math.max(d.minZoom,d.maxZoom),typeof d.subdomains=="string"&&(d.subdomains=d.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(o,d){return this._url===o&&d===void 0&&(d=!0),this._url=o,d||this.redraw(),this},createTile:function(o,d){var _=document.createElement("img");return ee(_,"load",s(this._tileOnLoad,this,d,_)),ee(_,"error",s(this._tileOnError,this,d,_)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(_.referrerPolicy=this.options.referrerPolicy),_.alt="",_.src=this.getTileUrl(o),_},getTileUrl:function(o){var d={r:jt.retina?"@2x":"",s:this._getSubdomain(o),x:o.x,y:o.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var _=this._globalTileRange.max.y-o.y;this.options.tms&&(d.y=_),d["-y"]=_}return q(this._url,r(d,this.options))},_tileOnLoad:function(o,d){jt.ielt9?setTimeout(s(o,this,null,d),0):o(null,d)},_tileOnError:function(o,d,_){var w=this.options.errorTileUrl;w&&d.getAttribute("src")!==w&&(d.src=w),o(_,d)},_onTileRemove:function(o){o.tile.onload=null},_getZoomForUrl:function(){var o=this._tileZoom,d=this.options.maxZoom,_=this.options.zoomReverse,w=this.options.zoomOffset;return _&&(o=d-o),o+w},_getSubdomain:function(o){var d=Math.abs(o.x+o.y)%this.options.subdomains.length;return this.options.subdomains[d]},_abortLoading:function(){var o,d;for(o in this._tiles)if(this._tiles[o].coords.z!==this._tileZoom&&(d=this._tiles[o].el,d.onload=b,d.onerror=b,!d.complete)){d.src=G;var _=this._tiles[o].coords;ue(d),delete this._tiles[o],this.fire("tileabort",{tile:d,coords:_})}},_removeTile:function(o){var d=this._tiles[o];if(!!d)return d.el.setAttribute("src",G),Xn.prototype._removeTile.call(this,o)},_tileReady:function(o,d,_){if(!(!this._map||_&&_.getAttribute("src")===G))return Xn.prototype._tileReady.call(this,o,d,_)}});function gr(o,d){return new dn(o,d)}var ga=dn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(o,d){this._url=o;var _=r({},this.defaultWmsParams);for(var w in d)w in this.options||(_[w]=d[w]);d=T(this,d);var M=d.detectRetina&&jt.retina?2:1,O=this.getTileSize();_.width=O.x*M,_.height=O.y*M,this.wmsParams=_},onAdd:function(o){this._crs=this.options.crs||o.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var d=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[d]=this._crs.code,dn.prototype.onAdd.call(this,o)},getTileUrl:function(o){var d=this._tileCoordsToNwSe(o),_=this._crs,w=ie(_.project(d[0]),_.project(d[1])),M=w.min,O=w.max,K=(this._wmsVersion>=1.3&&this._crs===lr?[M.y,M.x,O.y,O.x]:[M.x,M.y,O.x,O.y]).join(","),ct=dn.prototype.getTileUrl.call(this,o);return ct+I(this.wmsParams,ct,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+K},setParams:function(o,d){return r(this.wmsParams,o),d||this.redraw(),this}});function Ga(o,d){return new ga(o,d)}dn.WMS=ga,gr.wms=Ga;var Mi=yi.extend({options:{padding:.1},initialize:function(o){T(this,o),p(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Kt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var o={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(o.zoomanim=this._onAnimZoom),o},_onAnimZoom:function(o){this._updateTransform(o.center,o.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(o,d){var _=this._map.getZoomScale(d,this._zoom),w=this._map.getSize().multiplyBy(.5+this.options.padding),M=this._map.project(this._center,d),O=w.multiplyBy(-_).add(M).subtract(this._map._getNewPixelOrigin(o,d));jt.any3d?Ii(this._container,O,_):Te(this._container,O)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var o in this._layers)this._layers[o]._reset()},_onZoomEnd:function(){for(var o in this._layers)this._layers[o]._project()},_updatePaths:function(){for(var o in this._layers)this._layers[o]._update()},_update:function(){var o=this.options.padding,d=this._map.getSize(),_=this._map.containerPointToLayerPoint(d.multiplyBy(-o)).round();this._bounds=new Xt(_,_.add(d.multiplyBy(1+o*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),_r=Mi.extend({options:{tolerance:0},getEvents:function(){var o=Mi.prototype.getEvents.call(this);return o.viewprereset=this._onViewPreReset,o},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Mi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var o=this._container=document.createElement("canvas");ee(o,"mousemove",this._onMouseMove,this),ee(o,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ee(o,"mouseout",this._handleMouseOut,this),o._leaflet_disable_events=!0,this._ctx=o.getContext("2d")},_destroyContainer:function(){St(this._redrawRequest),delete this._ctx,ue(this._container),Ce(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var o;this._redrawBounds=null;for(var d in this._layers)o=this._layers[d],o._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Mi.prototype._update.call(this);var o=this._bounds,d=this._container,_=o.getSize(),w=jt.retina?2:1;Te(d,o.min),d.width=w*_.x,d.height=w*_.y,d.style.width=_.x+"px",d.style.height=_.y+"px",jt.retina&&this._ctx.scale(2,2),this._ctx.translate(-o.min.x,-o.min.y),this.fire("update")}},_reset:function(){Mi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(o){this._updateDashArray(o),this._layers[p(o)]=o;var d=o._order={layer:o,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=d),this._drawLast=d,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(o){this._requestRedraw(o)},_removePath:function(o){var d=o._order,_=d.next,w=d.prev;_?_.prev=w:this._drawLast=w,w?w.next=_:this._drawFirst=_,delete o._order,delete this._layers[p(o)],this._requestRedraw(o)},_updatePath:function(o){this._extendRedrawBounds(o),o._project(),o._update(),this._requestRedraw(o)},_updateStyle:function(o){this._updateDashArray(o),this._requestRedraw(o)},_updateDashArray:function(o){if(typeof o.options.dashArray=="string"){var d=o.options.dashArray.split(/[, ]+/),_=[],w,M;for(M=0;M<d.length;M++){if(w=Number(d[M]),isNaN(w))return;_.push(w)}o.options._dashArray=_}else o.options._dashArray=o.options.dashArray},_requestRedraw:function(o){!this._map||(this._extendRedrawBounds(o),this._redrawRequest=this._redrawRequest||_t(this._redraw,this))},_extendRedrawBounds:function(o){if(o._pxBounds){var d=(o.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Xt,this._redrawBounds.extend(o._pxBounds.min.subtract([d,d])),this._redrawBounds.extend(o._pxBounds.max.add([d,d]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var o=this._redrawBounds;if(o){var d=o.getSize();this._ctx.clearRect(o.min.x,o.min.y,d.x,d.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var o,d=this._redrawBounds;if(this._ctx.save(),d){var _=d.getSize();this._ctx.beginPath(),this._ctx.rect(d.min.x,d.min.y,_.x,_.y),this._ctx.clip()}this._drawing=!0;for(var w=this._drawFirst;w;w=w.next)o=w.layer,(!d||o._pxBounds&&o._pxBounds.intersects(d))&&o._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(o,d){if(!!this._drawing){var _,w,M,O,K=o._parts,ct=K.length,gt=this._ctx;if(!!ct){for(gt.beginPath(),_=0;_<ct;_++){for(w=0,M=K[_].length;w<M;w++)O=K[_][w],gt[w?"lineTo":"moveTo"](O.x,O.y);d&&gt.closePath()}this._fillStroke(gt,o)}}},_updateCircle:function(o){if(!(!this._drawing||o._empty())){var d=o._point,_=this._ctx,w=Math.max(Math.round(o._radius),1),M=(Math.max(Math.round(o._radiusY),1)||w)/w;M!==1&&(_.save(),_.scale(1,M)),_.beginPath(),_.arc(d.x,d.y/M,w,0,Math.PI*2,!1),M!==1&&_.restore(),this._fillStroke(_,o)}},_fillStroke:function(o,d){var _=d.options;_.fill&&(o.globalAlpha=_.fillOpacity,o.fillStyle=_.fillColor||_.color,o.fill(_.fillRule||"evenodd")),_.stroke&&_.weight!==0&&(o.setLineDash&&o.setLineDash(d.options&&d.options._dashArray||[]),o.globalAlpha=_.opacity,o.lineWidth=_.weight,o.strokeStyle=_.color,o.lineCap=_.lineCap,o.lineJoin=_.lineJoin,o.stroke())},_onClick:function(o){for(var d=this._map.mouseEventToLayerPoint(o),_,w,M=this._drawFirst;M;M=M.next)_=M.layer,_.options.interactive&&_._containsPoint(d)&&(!(o.type==="click"||o.type==="preclick")||!this._map._draggableMoved(_))&&(w=_);this._fireEvent(w?[w]:!1,o)},_onMouseMove:function(o){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var d=this._map.mouseEventToLayerPoint(o);this._handleMouseHover(o,d)}},_handleMouseOut:function(o){var d=this._hoveredLayer;d&&(Le(this._container,"leaflet-interactive"),this._fireEvent([d],o,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(o,d){if(!this._mouseHoverThrottled){for(var _,w,M=this._drawFirst;M;M=M.next)_=M.layer,_.options.interactive&&_._containsPoint(d)&&(w=_);w!==this._hoveredLayer&&(this._handleMouseOut(o),w&&(Kt(this._container,"leaflet-interactive"),this._fireEvent([w],o,"mouseover"),this._hoveredLayer=w)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,o),this._mouseHoverThrottled=!0,setTimeout(s(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(o,d,_){this._map._fireDOMEvent(d,_||d.type,o)},_bringToFront:function(o){var d=o._order;if(!!d){var _=d.next,w=d.prev;if(_)_.prev=w;else return;w?w.next=_:_&&(this._drawFirst=_),d.prev=this._drawLast,this._drawLast.next=d,d.next=null,this._drawLast=d,this._requestRedraw(o)}},_bringToBack:function(o){var d=o._order;if(!!d){var _=d.next,w=d.prev;if(w)w.next=_;else return;_?_.prev=w:w&&(this._drawLast=w),d.prev=null,d.next=this._drawFirst,this._drawFirst.prev=d,this._drawFirst=d,this._requestRedraw(o)}}});function _a(o){return jt.canvas?new _r(o):null}var Jn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(o){return document.createElement("<lvml:"+o+' class="lvml">')}}catch{}return function(o){return document.createElement("<"+o+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Gr={_initContainer:function(){this._container=le("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Mi.prototype._update.call(this),this.fire("update"))},_initPath:function(o){var d=o._container=Jn("shape");Kt(d,"leaflet-vml-shape "+(this.options.className||"")),d.coordsize="1 1",o._path=Jn("path"),d.appendChild(o._path),this._updateStyle(o),this._layers[p(o)]=o},_addPath:function(o){var d=o._container;this._container.appendChild(d),o.options.interactive&&o.addInteractiveTarget(d)},_removePath:function(o){var d=o._container;ue(d),o.removeInteractiveTarget(d),delete this._layers[p(o)]},_updateStyle:function(o){var d=o._stroke,_=o._fill,w=o.options,M=o._container;M.stroked=!!w.stroke,M.filled=!!w.fill,w.stroke?(d||(d=o._stroke=Jn("stroke")),M.appendChild(d),d.weight=w.weight+"px",d.color=w.color,d.opacity=w.opacity,w.dashArray?d.dashStyle=Y(w.dashArray)?w.dashArray.join(" "):w.dashArray.replace(/( *, *)/g," "):d.dashStyle="",d.endcap=w.lineCap.replace("butt","flat"),d.joinstyle=w.lineJoin):d&&(M.removeChild(d),o._stroke=null),w.fill?(_||(_=o._fill=Jn("fill")),M.appendChild(_),_.color=w.fillColor||w.color,_.opacity=w.fillOpacity):_&&(M.removeChild(_),o._fill=null)},_updateCircle:function(o){var d=o._point.round(),_=Math.round(o._radius),w=Math.round(o._radiusY||_);this._setPath(o,o._empty()?"M0 0":"AL "+d.x+","+d.y+" "+_+","+w+" 0,"+65535*360)},_setPath:function(o,d){o._path.v=d},_bringToFront:function(o){wi(o._container)},_bringToBack:function(o){_i(o._container)}},Ze=jt.vml?Jn:de,Fe=Mi.extend({_initContainer:function(){this._container=Ze("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ze("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ue(this._container),Ce(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Mi.prototype._update.call(this);var o=this._bounds,d=o.getSize(),_=this._container;(!this._svgSize||!this._svgSize.equals(d))&&(this._svgSize=d,_.setAttribute("width",d.x),_.setAttribute("height",d.y)),Te(_,o.min),_.setAttribute("viewBox",[o.min.x,o.min.y,d.x,d.y].join(" ")),this.fire("update")}},_initPath:function(o){var d=o._path=Ze("path");o.options.className&&Kt(d,o.options.className),o.options.interactive&&Kt(d,"leaflet-interactive"),this._updateStyle(o),this._layers[p(o)]=o},_addPath:function(o){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(o._path),o.addInteractiveTarget(o._path)},_removePath:function(o){ue(o._path),o.removeInteractiveTarget(o._path),delete this._layers[p(o)]},_updatePath:function(o){o._project(),o._update()},_updateStyle:function(o){var d=o._path,_=o.options;!d||(_.stroke?(d.setAttribute("stroke",_.color),d.setAttribute("stroke-opacity",_.opacity),d.setAttribute("stroke-width",_.weight),d.setAttribute("stroke-linecap",_.lineCap),d.setAttribute("stroke-linejoin",_.lineJoin),_.dashArray?d.setAttribute("stroke-dasharray",_.dashArray):d.removeAttribute("stroke-dasharray"),_.dashOffset?d.setAttribute("stroke-dashoffset",_.dashOffset):d.removeAttribute("stroke-dashoffset")):d.setAttribute("stroke","none"),_.fill?(d.setAttribute("fill",_.fillColor||_.color),d.setAttribute("fill-opacity",_.fillOpacity),d.setAttribute("fill-rule",_.fillRule||"evenodd")):d.setAttribute("fill","none"))},_updatePoly:function(o,d){this._setPath(o,xe(o._parts,d))},_updateCircle:function(o){var d=o._point,_=Math.max(Math.round(o._radius),1),w=Math.max(Math.round(o._radiusY),1)||_,M="a"+_+","+w+" 0 1,0 ",O=o._empty()?"M0 0":"M"+(d.x-_)+","+d.y+M+_*2+",0 "+M+-_*2+",0 ";this._setPath(o,O)},_setPath:function(o,d){o._path.setAttribute("d",d)},_bringToFront:function(o){wi(o._path)},_bringToBack:function(o){_i(o._path)}});jt.vml&&Fe.include(Gr);function Zr(o){return jt.svg||jt.vml?new Fe(o):null}he.include({getRenderer:function(o){var d=o.options.renderer||this._getPaneRenderer(o.options.pane)||this.options.renderer||this._renderer;return d||(d=this._renderer=this._createRenderer()),this.hasLayer(d)||this.addLayer(d),d},_getPaneRenderer:function(o){if(o==="overlayPane"||o===void 0)return!1;var d=this._paneRenderers[o];return d===void 0&&(d=this._createRenderer({pane:o}),this._paneRenderers[o]=d),d},_createRenderer:function(o){return this.options.preferCanvas&&_a(o)||Zr(o)}});var fi=ki.extend({initialize:function(o,d){ki.prototype.initialize.call(this,this._boundsToLatLngs(o),d)},setBounds:function(o){return this.setLatLngs(this._boundsToLatLngs(o))},_boundsToLatLngs:function(o){return o=$t(o),[o.getSouthWest(),o.getNorthWest(),o.getNorthEast(),o.getSouthEast()]}});function Jt(o,d){return new fi(o,d)}Fe.create=Ze,Fe.pointsToPath=xe,Fi.geometryToLayer=cr,Fi.coordsToLatLng=Hr,Fi.coordsToLatLngs=Yn,Fi.latLngToCoords=Ur,Fi.latLngsToCoords=hr,Fi.getFeature=Tn,Fi.asFeature=Qn,he.mergeOptions({boxZoom:!0});var vr=Ci.extend({initialize:function(o){this._map=o,this._container=o._container,this._pane=o._panes.overlayPane,this._resetStateTimeout=0,o.on("unload",this._destroy,this)},addHooks:function(){ee(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ce(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ue(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(o){if(!o.shiftKey||o.which!==1&&o.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),j(),Ot(),this._startPoint=this._map.mouseEventToContainerPoint(o),ee(document,{contextmenu:sn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(o){this._moved||(this._moved=!0,this._box=le("div","leaflet-zoom-box",this._container),Kt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(o);var d=new Xt(this._point,this._startPoint),_=d.getSize();Te(this._box,d.min),this._box.style.width=_.x+"px",this._box.style.height=_.y+"px"},_finish:function(){this._moved&&(ue(this._box),Le(this._container,"leaflet-crosshair")),Q(),ne(),Ce(document,{contextmenu:sn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(o){if(!(o.which!==1&&o.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var d=new Wt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(d).fire("boxzoomend",{boxZoomBounds:d})}},_onKeyDown:function(o){o.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});he.addInitHook("addHandler","boxZoom",vr),he.mergeOptions({doubleClickZoom:!0});var yr=Ci.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(o){var d=this._map,_=d.getZoom(),w=d.options.zoomDelta,M=o.originalEvent.shiftKey?_-w:_+w;d.options.doubleClickZoom==="center"?d.setZoom(M):d.setZoomAround(o.containerPoint,M)}});he.addInitHook("addHandler","doubleClickZoom",yr),he.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Vi=Ci.extend({addHooks:function(){if(!this._draggable){var o=this._map;this._draggable=new Wi(o._mapPane,o._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),o.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),o.on("zoomend",this._onZoomEnd,this),o.whenReady(this._onZoomEnd,this))}Kt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Le(this._map._container,"leaflet-grab"),Le(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var o=this._map;if(o._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var d=$t(this._map.options.maxBounds);this._offsetLimit=ie(this._map.latLngToContainerPoint(d.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(d.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;o.fire("movestart").fire("dragstart"),o.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(o){if(this._map.options.inertia){var d=this._lastTime=+new Date,_=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(_),this._times.push(d),this._prunePositions(d)}this._map.fire("move",o).fire("drag",o)},_prunePositions:function(o){for(;this._positions.length>1&&o-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var o=this._map.getSize().divideBy(2),d=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=d.subtract(o).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(o,d){return o-(o-d)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var o=this._draggable._newPos.subtract(this._draggable._startPos),d=this._offsetLimit;o.x<d.min.x&&(o.x=this._viscousLimit(o.x,d.min.x)),o.y<d.min.y&&(o.y=this._viscousLimit(o.y,d.min.y)),o.x>d.max.x&&(o.x=this._viscousLimit(o.x,d.max.x)),o.y>d.max.y&&(o.y=this._viscousLimit(o.y,d.max.y)),this._draggable._newPos=this._draggable._startPos.add(o)}},_onPreDragWrap:function(){var o=this._worldWidth,d=Math.round(o/2),_=this._initialWorldOffset,w=this._draggable._newPos.x,M=(w-d+_)%o+d-_,O=(w+d+_)%o-d-_,K=Math.abs(M+_)<Math.abs(O+_)?M:O;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=K},_onDragEnd:function(o){var d=this._map,_=d.options,w=!_.inertia||o.noInertia||this._times.length<2;if(d.fire("dragend",o),w)d.fire("moveend");else{this._prunePositions(+new Date);var M=this._lastPos.subtract(this._positions[0]),O=(this._lastTime-this._times[0])/1e3,K=_.easeLinearity,ct=M.multiplyBy(K/O),gt=ct.distanceTo([0,0]),Lt=Math.min(_.inertiaMaxSpeed,gt),It=ct.multiplyBy(Lt/gt),Gt=Lt/(_.inertiaDeceleration*K),se=It.multiplyBy(-Gt/2).round();!se.x&&!se.y?d.fire("moveend"):(se=d._limitOffset(se,d.options.maxBounds),_t(function(){d.panBy(se,{duration:Gt,easeLinearity:K,noMoveStart:!0,animate:!0})}))}}});he.addInitHook("addHandler","dragging",Vi),he.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Re=Ci.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(o){this._map=o,this._setPanDelta(o.options.keyboardPanDelta),this._setZoomDelta(o.options.zoomDelta)},addHooks:function(){var o=this._map._container;o.tabIndex<=0&&(o.tabIndex="0"),ee(o,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ce(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var o=document.body,d=document.documentElement,_=o.scrollTop||d.scrollTop,w=o.scrollLeft||d.scrollLeft;this._map._container.focus(),window.scrollTo(w,_)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(o){var d=this._panKeys={},_=this.keyCodes,w,M;for(w=0,M=_.left.length;w<M;w++)d[_.left[w]]=[-1*o,0];for(w=0,M=_.right.length;w<M;w++)d[_.right[w]]=[o,0];for(w=0,M=_.down.length;w<M;w++)d[_.down[w]]=[0,o];for(w=0,M=_.up.length;w<M;w++)d[_.up[w]]=[0,-1*o]},_setZoomDelta:function(o){var d=this._zoomKeys={},_=this.keyCodes,w,M;for(w=0,M=_.zoomIn.length;w<M;w++)d[_.zoomIn[w]]=o;for(w=0,M=_.zoomOut.length;w<M;w++)d[_.zoomOut[w]]=-o},_addHooks:function(){ee(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ce(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(o){if(!(o.altKey||o.ctrlKey||o.metaKey)){var d=o.keyCode,_=this._map,w;if(d in this._panKeys){if(!_._panAnim||!_._panAnim._inProgress)if(w=this._panKeys[d],o.shiftKey&&(w=At(w).multiplyBy(3)),_.options.maxBounds&&(w=_._limitOffset(At(w),_.options.maxBounds)),_.options.worldCopyJump){var M=_.wrapLatLng(_.unproject(_.project(_.getCenter()).add(w)));_.panTo(M)}else _.panBy(w)}else if(d in this._zoomKeys)_.setZoom(_.getZoom()+(o.shiftKey?3:1)*this._zoomKeys[d]);else if(d===27&&_._popup&&_._popup.options.closeOnEscapeKey)_.closePopup();else return;sn(o)}}});he.addInitHook("addHandler","keyboard",Re),he.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Yr=Ci.extend({addHooks:function(){ee(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ce(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(o){var d=na(o),_=this._map.options.wheelDebounceTime;this._delta+=d,this._lastMousePos=this._map.mouseEventToContainerPoint(o),this._startTime||(this._startTime=+new Date);var w=Math.max(_-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),w),sn(o)},_performZoom:function(){var o=this._map,d=o.getZoom(),_=this._map.options.zoomSnap||0;o._stop();var w=this._delta/(this._map.options.wheelPxPerZoomLevel*4),M=4*Math.log(2/(1+Math.exp(-Math.abs(w))))/Math.LN2,O=_?Math.ceil(M/_)*_:M,K=o._limitZoom(d+(this._delta>0?O:-O))-d;this._delta=0,this._startTime=null,K&&(o.options.scrollWheelZoom==="center"?o.setZoom(d+K):o.setZoomAround(this._lastMousePos,d+K))}});he.addInitHook("addHandler","scrollWheelZoom",Yr);var pi=600;he.mergeOptions({tapHold:jt.touchNative&&jt.safari&&jt.mobile,tapTolerance:15});var oi=Ci.extend({addHooks:function(){ee(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ce(this._map._container,"touchstart",this._onDown,this)},_onDown:function(o){if(clearTimeout(this._holdTimeout),o.touches.length===1){var d=o.touches[0];this._startPos=this._newPos=new Bt(d.clientX,d.clientY),this._holdTimeout=setTimeout(s(function(){this._cancel(),this._isTapValid()&&(ee(document,"touchend",je),ee(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",d))},this),pi),ee(document,"touchend touchcancel contextmenu",this._cancel,this),ee(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function o(){Ce(document,"touchend",je),Ce(document,"touchend touchcancel",o)},_cancel:function(){clearTimeout(this._holdTimeout),Ce(document,"touchend touchcancel contextmenu",this._cancel,this),Ce(document,"touchmove",this._onMove,this)},_onMove:function(o){var d=o.touches[0];this._newPos=new Bt(d.clientX,d.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(o,d){var _=new MouseEvent(o,{bubbles:!0,cancelable:!0,view:window,screenX:d.screenX,screenY:d.screenY,clientX:d.clientX,clientY:d.clientY});_._simulated=!0,d.target.dispatchEvent(_)}});he.addInitHook("addHandler","tapHold",oi),he.mergeOptions({touchZoom:jt.touch,bounceAtZoomLimits:!0});var Gi=Ci.extend({addHooks:function(){Kt(this._map._container,"leaflet-touch-zoom"),ee(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Le(this._map._container,"leaflet-touch-zoom"),Ce(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var d=this._map;if(!(!o.touches||o.touches.length!==2||d._animatingZoom||this._zooming)){var _=d.mouseEventToContainerPoint(o.touches[0]),w=d.mouseEventToContainerPoint(o.touches[1]);this._centerPoint=d.getSize()._divideBy(2),this._startLatLng=d.containerPointToLatLng(this._centerPoint),d.options.touchZoom!=="center"&&(this._pinchStartLatLng=d.containerPointToLatLng(_.add(w)._divideBy(2))),this._startDist=_.distanceTo(w),this._startZoom=d.getZoom(),this._moved=!1,this._zooming=!0,d._stop(),ee(document,"touchmove",this._onTouchMove,this),ee(document,"touchend touchcancel",this._onTouchEnd,this),je(o)}},_onTouchMove:function(o){if(!(!o.touches||o.touches.length!==2||!this._zooming)){var d=this._map,_=d.mouseEventToContainerPoint(o.touches[0]),w=d.mouseEventToContainerPoint(o.touches[1]),M=_.distanceTo(w)/this._startDist;if(this._zoom=d.getScaleZoom(M,this._startZoom),!d.options.bounceAtZoomLimits&&(this._zoom<d.getMinZoom()&&M<1||this._zoom>d.getMaxZoom()&&M>1)&&(this._zoom=d._limitZoom(this._zoom)),d.options.touchZoom==="center"){if(this._center=this._startLatLng,M===1)return}else{var O=_._add(w)._divideBy(2)._subtract(this._centerPoint);if(M===1&&O.x===0&&O.y===0)return;this._center=d.unproject(d.project(this._pinchStartLatLng,this._zoom).subtract(O),this._zoom)}this._moved||(d._moveStart(!0,!1),this._moved=!0),St(this._animRequest);var K=s(d._move,d,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=_t(K,this,!0),je(o)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,St(this._animRequest),Ce(document,"touchmove",this._onTouchMove,this),Ce(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});he.addInitHook("addHandler","touchZoom",Gi),he.BoxZoom=vr,he.DoubleClickZoom=yr,he.Drag=Vi,he.Keyboard=Re,he.ScrollWheelZoom=Yr,he.TapHold=oi,he.TouchZoom=Gi,e.Bounds=Xt,e.Browser=jt,e.CRS=re,e.Canvas=_r,e.Circle=Ri,e.CircleMarker=Zn,e.Class=bt,e.Control=ai,e.DivIcon=ma,e.DivOverlay=ti,e.DomEvent=Ea,e.DomUtil=Sa,e.Draggable=Wi,e.Evented=Et,e.FeatureGroup=Ni,e.GeoJSON=Fi,e.GridLayer=Xn,e.Handler=Ci,e.Icon=Sn,e.ImageOverlay=dr,e.LatLng=Ut,e.LatLngBounds=Wt,e.Layer=yi,e.LayerGroup=Pn,e.LineUtil=Ia,e.Map=he,e.Marker=ur,e.Mixin=Aa,e.Path=Je,e.Point=Bt,e.PolyUtil=Da,e.Polygon=ki,e.Polyline=zi,e.Popup=pr,e.PosAnimation=ra,e.Projection=sr,e.Rectangle=fi,e.Renderer=Mi,e.SVG=Fe,e.SVGOverlay=pa,e.TileLayer=dn,e.Tooltip=mr,e.Transformation=Zt,e.Util=zt,e.VideoOverlay=Wr,e.bind=s,e.bounds=ie,e.canvas=_a,e.circle=Fa,e.circleMarker=za,e.control=qi,e.divIcon=$a,e.extend=r,e.featureGroup=Na,e.geoJSON=qr,e.geoJson=$r,e.gridLayer=Wa,e.icon=Ra,e.imageOverlay=fr,e.latLng=Ht,e.latLngBounds=$t,e.layerGroup=Fr,e.map=pe,e.marker=fa,e.point=At,e.polygon=Va,e.polyline=Vr,e.popup=Ua,e.rectangle=Jt,e.setOptions=T,e.stamp=p,e.svg=Zr,e.svgOverlay=Ha,e.tileLayer=gr,e.tooltip=qa,e.transformation=ae,e.version=n,e.videoOverlay=ja;var Se=window.L;e.noConflict=function(){return window.L=Se,this},window.L=e})})(leafletSrc,leafletSrc.exports);var L$1=leafletSrc.exports,leaflet="";(()=>{var Do,Bn;var i=Object.create,t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,r=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,s=(l,u)=>()=>(u||l((u={exports:{}}).exports,u),u.exports),c=(l,u,f,m)=>{if(u&&typeof u=="object"||typeof u=="function")for(let v of n(u))!a.call(l,v)&&v!==f&&t(l,v,{get:()=>u[v],enumerable:!(m=e(u,v))||m.enumerable});return l},p=(l,u,f)=>(f=l!=null?i(r(l)):{},c(u||!l||!l.__esModule?t(f,"default",{value:l,enumerable:!0}):f,l)),g=s((l,u)=>{function f(){this.__data__=[],this.size=0}u.exports=f}),y=s((l,u)=>{function f(m,v){return m===v||m!==m&&v!==v}u.exports=f}),b=s((l,u)=>{var f=y();function m(v,x){for(var k=v.length;k--;)if(f(v[k][0],x))return k;return-1}u.exports=m}),C=s((l,u)=>{var f=b(),m=Array.prototype,v=m.splice;function x(k){var P=this.__data__,E=f(P,k);if(E<0)return!1;var D=P.length-1;return E==D?P.pop():v.call(P,E,1),--this.size,!0}u.exports=x}),S=s((l,u)=>{var f=b();function m(v){var x=this.__data__,k=f(x,v);return k<0?void 0:x[k][1]}u.exports=m}),A=s((l,u)=>{var f=b();function m(v){return f(this.__data__,v)>-1}u.exports=m}),T=s((l,u)=>{var f=b();function m(v,x){var k=this.__data__,P=f(k,v);return P<0?(++this.size,k.push([v,x])):k[P][1]=x,this}u.exports=m}),I=s((l,u)=>{var f=g(),m=C(),v=S(),x=A(),k=T();function P(E){var D=-1,Z=E==null?0:E.length;for(this.clear();++D<Z;){var $=E[D];this.set($[0],$[1])}}P.prototype.clear=f,P.prototype.delete=m,P.prototype.get=v,P.prototype.has=x,P.prototype.set=k,u.exports=P}),z=s((l,u)=>{var f=I();function m(){this.__data__=new f,this.size=0}u.exports=m}),q=s((l,u)=>{function f(m){var v=this.__data__,x=v.delete(m);return this.size=v.size,x}u.exports=f}),Y=s((l,u)=>{function f(m){return this.__data__.get(m)}u.exports=f}),at=s((l,u)=>{function f(m){return this.__data__.has(m)}u.exports=f}),G=s((l,u)=>{var f=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal;u.exports=f}),ht=s((l,u)=>{var f=G(),m=typeof self=="object"&&self&&self.Object===Object&&self,v=f||m||Function("return this")();u.exports=v}),et=s((l,u)=>{var f=ht(),m=f.Symbol;u.exports=m}),ot=s((l,u)=>{var f=et(),m=Object.prototype,v=m.hasOwnProperty,x=m.toString,k=f?f.toStringTag:void 0;function P(E){var D=v.call(E,k),Z=E[k];try{E[k]=void 0;var $=!0}catch{}var ut=x.call(E);return $&&(D?E[k]=Z:delete E[k]),ut}u.exports=P}),vt=s((l,u)=>{var f=Object.prototype,m=f.toString;function v(x){return m.call(x)}u.exports=v}),wt=s((l,u)=>{var f=et(),m=ot(),v=vt(),x="[object Null]",k="[object Undefined]",P=f?f.toStringTag:void 0;function E(D){return D==null?D===void 0?k:x:P&&P in Object(D)?m(D):v(D)}u.exports=E}),_t=s((l,u)=>{function f(m){var v=typeof m;return m!=null&&(v=="object"||v=="function")}u.exports=f}),St=s((l,u)=>{var f=wt(),m=_t(),v="[object AsyncFunction]",x="[object Function]",k="[object GeneratorFunction]",P="[object Proxy]";function E(D){if(!m(D))return!1;var Z=f(D);return Z==x||Z==k||Z==v||Z==P}u.exports=E}),zt=s((l,u)=>{var f=ht(),m=f["__core-js_shared__"];u.exports=m}),bt=s((l,u)=>{var f=zt(),m=function(){var x=/[^.]+$/.exec(f&&f.keys&&f.keys.IE_PROTO||"");return x?"Symbol(src)_1."+x:""}();function v(x){return!!m&&m in x}u.exports=v}),Ct=s((l,u)=>{var f=Function.prototype,m=f.toString;function v(x){if(x!=null){try{return m.call(x)}catch{}try{return x+""}catch{}}return""}u.exports=v}),Tt=s((l,u)=>{var f=St(),m=bt(),v=_t(),x=Ct(),k=/[\\^$.*+?()[\]{}|]/g,P=/^\[object .+?Constructor\]$/,E=Function.prototype,D=Object.prototype,Z=E.toString,$=D.hasOwnProperty,ut=RegExp("^"+Z.call($).replace(k,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function mt(Mt){if(!v(Mt)||m(Mt))return!1;var Dt=f(Mt)?ut:P;return Dt.test(x(Mt))}u.exports=mt}),Et=s((l,u)=>{function f(m,v){return m==null?void 0:m[v]}u.exports=f}),Bt=s((l,u)=>{var f=Tt(),m=Et();function v(x,k){var P=m(x,k);return f(P)?P:void 0}u.exports=v}),Qt=s((l,u)=>{var f=Bt(),m=ht(),v=f(m,"Map");u.exports=v}),At=s((l,u)=>{var f=Bt(),m=f(Object,"create");u.exports=m}),Xt=s((l,u)=>{var f=At();function m(){this.__data__=f?f(null):{},this.size=0}u.exports=m}),ie=s((l,u)=>{function f(m){var v=this.has(m)&&delete this.__data__[m];return this.size-=v?1:0,v}u.exports=f}),Wt=s((l,u)=>{var f=At(),m="__lodash_hash_undefined__",v=Object.prototype,x=v.hasOwnProperty;function k(P){var E=this.__data__;if(f){var D=E[P];return D===m?void 0:D}return x.call(E,P)?E[P]:void 0}u.exports=k}),$t=s((l,u)=>{var f=At(),m=Object.prototype,v=m.hasOwnProperty;function x(k){var P=this.__data__;return f?P[k]!==void 0:v.call(P,k)}u.exports=x}),Ut=s((l,u)=>{var f=At(),m="__lodash_hash_undefined__";function v(x,k){var P=this.__data__;return this.size+=this.has(x)?0:1,P[x]=f&&k===void 0?m:k,this}u.exports=v}),Ht=s((l,u)=>{var f=Xt(),m=ie(),v=Wt(),x=$t(),k=Ut();function P(E){var D=-1,Z=E==null?0:E.length;for(this.clear();++D<Z;){var $=E[D];this.set($[0],$[1])}}P.prototype.clear=f,P.prototype.delete=m,P.prototype.get=v,P.prototype.has=x,P.prototype.set=k,u.exports=P}),re=s((l,u)=>{var f=Ht(),m=I(),v=Qt();function x(){this.size=0,this.__data__={hash:new f,map:new(v||m),string:new f}}u.exports=x}),te=s((l,u)=>{function f(m){var v=typeof m;return v=="string"||v=="number"||v=="symbol"||v=="boolean"?m!=="__proto__":m===null}u.exports=f}),Ft=s((l,u)=>{var f=te();function m(v,x){var k=v.__data__;return f(x)?k[typeof x=="string"?"string":"hash"]:k.map}u.exports=m}),oe=s((l,u)=>{var f=Ft();function m(v){var x=f(this,v).delete(v);return this.size-=x?1:0,x}u.exports=m}),Zt=s((l,u)=>{var f=Ft();function m(v){return f(this,v).get(v)}u.exports=m}),ae=s((l,u)=>{var f=Ft();function m(v){return f(this,v).has(v)}u.exports=m}),ce=s((l,u)=>{var f=Ft();function m(v,x){var k=f(this,v),P=k.size;return k.set(v,x),this.size+=k.size==P?0:1,this}u.exports=m}),_e=s((l,u)=>{var f=re(),m=oe(),v=Zt(),x=ae(),k=ce();function P(E){var D=-1,Z=E==null?0:E.length;for(this.clear();++D<Z;){var $=E[D];this.set($[0],$[1])}}P.prototype.clear=f,P.prototype.delete=m,P.prototype.get=v,P.prototype.has=x,P.prototype.set=k,u.exports=P}),de=s((l,u)=>{var f=I(),m=Qt(),v=_e(),x=200;function k(P,E){var D=this.__data__;if(D instanceof f){var Z=D.__data__;if(!m||Z.length<x-1)return Z.push([P,E]),this.size=++D.size,this;D=this.__data__=new v(Z)}return D.set(P,E),this.size=D.size,this}u.exports=k}),xe=s((l,u)=>{var f=I(),m=z(),v=q(),x=Y(),k=at(),P=de();function E(D){var Z=this.__data__=new f(D);this.size=Z.size}E.prototype.clear=m,E.prototype.delete=v,E.prototype.get=x,E.prototype.has=k,E.prototype.set=P,u.exports=E}),ve=s((l,u)=>{var f=Bt(),m=function(){try{var v=f(Object,"defineProperty");return v({},"",{}),v}catch{}}();u.exports=m}),ii=s((l,u)=>{var f=ve();function m(v,x,k){x=="__proto__"&&f?f(v,x,{configurable:!0,enumerable:!0,value:k,writable:!0}):v[x]=k}u.exports=m}),ni=s((l,u)=>{var f=ii(),m=y();function v(x,k,P){(P!==void 0&&!m(x[k],P)||P===void 0&&!(k in x))&&f(x,k,P)}u.exports=v}),li=s((l,u)=>{function f(m){return function(v,x,k){for(var P=-1,E=Object(v),D=k(v),Z=D.length;Z--;){var $=D[m?Z:++P];if(x(E[$],$,E)===!1)break}return v}}u.exports=f}),ze=s((l,u)=>{var f=li(),m=f();u.exports=m}),fn=s((l,u)=>{var f=ht(),m=typeof l=="object"&&l&&!l.nodeType&&l,v=m&&typeof u=="object"&&u&&!u.nodeType&&u,x=v&&v.exports===m,k=x?f.Buffer:void 0,P=k?k.allocUnsafe:void 0;function E(D,Z){if(Z)return D.slice();var $=D.length,ut=P?P($):new D.constructor($);return D.copy(ut),ut}u.exports=E}),pn=s((l,u)=>{var f=ht(),m=f.Uint8Array;u.exports=m}),An=s((l,u)=>{var f=pn();function m(v){var x=new v.constructor(v.byteLength);return new f(x).set(new f(v)),x}u.exports=m}),mn=s((l,u)=>{var f=An();function m(v,x){var k=x?f(v.buffer):v.buffer;return new v.constructor(k,v.byteOffset,v.length)}u.exports=m}),Qi=s((l,u)=>{function f(m,v){var x=-1,k=m.length;for(v||(v=Array(k));++x<k;)v[x]=m[x];return v}u.exports=f}),Ti=s((l,u)=>{var f=_t(),m=Object.create,v=function(){function x(){}return function(k){if(!f(k))return{};if(m)return m(k);x.prototype=k;var P=new x;return x.prototype=void 0,P}}();u.exports=v}),Ki=s((l,u)=>{function f(m,v){return function(x){return m(v(x))}}u.exports=f}),Xi=s((l,u)=>{var f=Ki(),m=f(Object.getPrototypeOf,Object);u.exports=m}),ji=s((l,u)=>{var f=Object.prototype;function m(v){var x=v&&v.constructor,k=typeof x=="function"&&x.prototype||f;return v===k}u.exports=m}),Ei=s((l,u)=>{var f=Ti(),m=Xi(),v=ji();function x(k){return typeof k.constructor=="function"&&!v(k)?f(m(k)):{}}u.exports=x}),ui=s((l,u)=>{function f(m){return m!=null&&typeof m=="object"}u.exports=f}),Pt=s((l,u)=>{var f=wt(),m=ui(),v="[object Arguments]";function x(k){return m(k)&&f(k)==v}u.exports=x}),Yt=s((l,u)=>{var f=Pt(),m=ui(),v=Object.prototype,x=v.hasOwnProperty,k=v.propertyIsEnumerable,P=f(function(){return arguments}())?f:function(E){return m(E)&&x.call(E,"callee")&&!k.call(E,"callee")};u.exports=P}),fe=s((l,u)=>{var f=Array.isArray;u.exports=f}),ye=s((l,u)=>{var f=9007199254740991;function m(v){return typeof v=="number"&&v>-1&&v%1==0&&v<=f}u.exports=m}),we=s((l,u)=>{var f=St(),m=ye();function v(x){return x!=null&&m(x.length)&&!f(x)}u.exports=v}),$e=s((l,u)=>{var f=we(),m=ui();function v(x){return m(x)&&f(x)}u.exports=v}),Ji=s((l,u)=>{function f(){return!1}u.exports=f}),Bi=s((l,u)=>{var f=ht(),m=Ji(),v=typeof l=="object"&&l&&!l.nodeType&&l,x=v&&typeof u=="object"&&u&&!u.nodeType&&u,k=x&&x.exports===v,P=k?f.Buffer:void 0,E=P?P.isBuffer:void 0,D=E||m;u.exports=D}),Dn=s((l,u)=>{var f=wt(),m=Xi(),v=ui(),x="[object Object]",k=Function.prototype,P=Object.prototype,E=k.toString,D=P.hasOwnProperty,Z=E.call(Object);function $(ut){if(!v(ut)||f(ut)!=x)return!1;var mt=m(ut);if(mt===null)return!0;var Mt=D.call(mt,"constructor")&&mt.constructor;return typeof Mt=="function"&&Mt instanceof Mt&&E.call(Mt)==Z}u.exports=$}),On=s((l,u)=>{var f=wt(),m=ye(),v=ui(),x="[object Arguments]",k="[object Array]",P="[object Boolean]",E="[object Date]",D="[object Error]",Z="[object Function]",$="[object Map]",ut="[object Number]",mt="[object Object]",Mt="[object RegExp]",Dt="[object Set]",Rt="[object String]",me="[object WeakMap]",W="[object ArrayBuffer]",X="[object DataView]",nt="[object Float32Array]",pt="[object Float64Array]",rt="[object Int8Array]",dt="[object Int16Array]",B="[object Int32Array]",R="[object Uint8Array]",V="[object Uint8ClampedArray]",F="[object Uint16Array]",H="[object Uint32Array]",U={};U[nt]=U[pt]=U[rt]=U[dt]=U[B]=U[R]=U[V]=U[F]=U[H]=!0,U[x]=U[k]=U[W]=U[P]=U[X]=U[E]=U[D]=U[Z]=U[$]=U[ut]=U[mt]=U[Mt]=U[Dt]=U[Rt]=U[me]=!1;function tt(J){return v(J)&&m(J.length)&&!!U[f(J)]}u.exports=tt}),In=s((l,u)=>{function f(m){return function(v){return m(v)}}u.exports=f}),Mr=s((l,u)=>{var f=G(),m=typeof l=="object"&&l&&!l.nodeType&&l,v=m&&typeof u=="object"&&u&&!u.nodeType&&u,x=v&&v.exports===m,k=x&&f.process,P=function(){try{var E=v&&v.require&&v.require("util").types;return E||k&&k.binding&&k.binding("util")}catch{}}();u.exports=P}),tr=s((l,u)=>{var f=On(),m=In(),v=Mr(),x=v&&v.isTypedArray,k=x?m(x):f;u.exports=k}),er=s((l,u)=>{function f(m,v){if(!(v==="constructor"&&typeof m[v]=="function")&&v!="__proto__")return m[v]}u.exports=f}),ir=s((l,u)=>{var f=ii(),m=y(),v=Object.prototype,x=v.hasOwnProperty;function k(P,E,D){var Z=P[E];(!(x.call(P,E)&&m(Z,D))||D===void 0&&!(E in P))&&f(P,E,D)}u.exports=k}),Pr=s((l,u)=>{var f=ir(),m=ii();function v(x,k,P,E){var D=!P;P||(P={});for(var Z=-1,$=k.length;++Z<$;){var ut=k[Z],mt=E?E(P[ut],x[ut],ut,P,x):void 0;mt===void 0&&(mt=x[ut]),D?m(P,ut,mt):f(P,ut,mt)}return P}u.exports=v}),Nn=s((l,u)=>{function f(m,v){for(var x=-1,k=Array(m);++x<m;)k[x]=v(x);return k}u.exports=f}),nr=s((l,u)=>{var f=9007199254740991,m=/^(?:0|[1-9]\d*)$/;function v(x,k){var P=typeof x;return k=k!=null?k:f,!!k&&(P=="number"||P!="symbol"&&m.test(x))&&x>-1&&x%1==0&&x<k}u.exports=v}),gn=s((l,u)=>{var f=Nn(),m=Yt(),v=fe(),x=Bi(),k=nr(),P=tr(),E=Object.prototype,D=E.hasOwnProperty;function Z($,ut){var mt=v($),Mt=!mt&&m($),Dt=!mt&&!Mt&&x($),Rt=!mt&&!Mt&&!Dt&&P($),me=mt||Mt||Dt||Rt,W=me?f($.length,String):[],X=W.length;for(var nt in $)(ut||D.call($,nt))&&!(me&&(nt=="length"||Dt&&(nt=="offset"||nt=="parent")||Rt&&(nt=="buffer"||nt=="byteLength"||nt=="byteOffset")||k(nt,X)))&&W.push(nt);return W}u.exports=Z}),Sr=s((l,u)=>{function f(m){var v=[];if(m!=null)for(var x in Object(m))v.push(x);return v}u.exports=f}),Tr=s((l,u)=>{var f=_t(),m=ji(),v=Sr(),x=Object.prototype,k=x.hasOwnProperty;function P(E){if(!f(E))return v(E);var D=m(E),Z=[];for(var $ in E)$=="constructor"&&(D||!k.call(E,$))||Z.push($);return Z}u.exports=P}),Qe=s((l,u)=>{var f=gn(),m=Tr(),v=we();function x(k){return v(k)?f(k,!0):m(k)}u.exports=x}),jt=s((l,u)=>{var f=Pr(),m=Qe();function v(x){return f(x,m(x))}u.exports=v}),rr=s((l,u)=>{var f=ni(),m=fn(),v=mn(),x=Qi(),k=Ei(),P=Yt(),E=fe(),D=$e(),Z=Bi(),$=St(),ut=_t(),mt=Dn(),Mt=tr(),Dt=er(),Rt=jt();function me(W,X,nt,pt,rt,dt,B){var R=Dt(W,nt),V=Dt(X,nt),F=B.get(V);if(F){f(W,nt,F);return}var H=dt?dt(R,V,nt+"",W,X,B):void 0,U=H===void 0;if(U){var tt=E(V),J=!tt&&Z(V),it=!tt&&!J&&Mt(V);H=V,tt||J||it?E(R)?H=R:D(R)?H=x(R):J?(U=!1,H=m(V,!0)):it?(U=!1,H=v(V,!0)):H=[]:mt(V)||P(V)?(H=R,P(R)?H=Rt(R):(!ut(R)||$(R))&&(H=k(V))):U=!1}U&&(B.set(V,H),rt(H,V,pt,dt,B),B.delete(V)),f(W,nt,H)}u.exports=me}),Rn=s((l,u)=>{var f=xe(),m=ni(),v=ze(),x=rr(),k=_t(),P=Qe(),E=er();function D(Z,$,ut,mt,Mt){Z!==$&&v($,function(Dt,Rt){if(Mt||(Mt=new f),k(Dt))x(Z,$,Rt,ut,D,mt,Mt);else{var me=mt?mt(E(Z,Rt),Dt,Rt+"",Z,$,Mt):void 0;me===void 0&&(me=Dt),m(Z,Rt,me)}},P)}u.exports=D}),zn=s((l,u)=>{function f(m){return m}u.exports=f}),Fn=s((l,u)=>{function f(m,v,x){switch(x.length){case 0:return m.call(v);case 1:return m.call(v,x[0]);case 2:return m.call(v,x[0],x[1]);case 3:return m.call(v,x[0],x[1],x[2])}return m.apply(v,x)}u.exports=f}),_n=s((l,u)=>{var f=Fn(),m=Math.max;function v(x,k,P){return k=m(k===void 0?x.length-1:k,0),function(){for(var E=arguments,D=-1,Z=m(E.length-k,0),$=Array(Z);++D<Z;)$[D]=E[k+D];D=-1;for(var ut=Array(k+1);++D<k;)ut[D]=E[D];return ut[k]=P($),f(x,this,ut)}}u.exports=v}),Vn=s((l,u)=>{function f(m){return function(){return m}}u.exports=f}),Ai=s((l,u)=>{var f=Vn(),m=ve(),v=zn(),x=m?function(k,P){return m(k,"toString",{configurable:!0,enumerable:!1,value:f(P),writable:!0})}:v;u.exports=x}),vn=s((l,u)=>{var f=800,m=16,v=Date.now;function x(k){var P=0,E=0;return function(){var D=v(),Z=m-(D-E);if(E=D,Z>0){if(++P>=f)return arguments[0]}else P=0;return k.apply(void 0,arguments)}}u.exports=x}),Di=s((l,u)=>{var f=Ai(),m=vn(),v=m(f);u.exports=v}),tn=s((l,u)=>{var f=zn(),m=_n(),v=Di();function x(k,P){return v(m(k,P,f),k+"")}u.exports=x}),en=s((l,u)=>{var f=y(),m=we(),v=nr(),x=_t();function k(P,E,D){if(!x(D))return!1;var Z=typeof E;return(Z=="number"?m(D)&&v(E,D.length):Z=="string"&&E in D)?f(D[E],P):!1}u.exports=k}),yn=s((l,u)=>{var f=tn(),m=en();function v(x){return f(function(k,P){var E=-1,D=P.length,Z=D>1?P[D-1]:void 0,$=D>2?P[2]:void 0;for(Z=x.length>3&&typeof Z=="function"?(D--,Z):void 0,$&&m(P[0],P[1],$)&&(Z=D<3?void 0:Z,D=1),k=Object(k);++E<D;){var ut=P[E];ut&&x(k,ut,E,Z)}return k})}u.exports=v}),Hi=s((l,u)=>{var f=Rn(),m=yn(),v=m(function(x,k,P){f(x,k,P)});u.exports=v}),jn=s((l,u)=>{var f=wt(),m=ui(),v="[object Symbol]";function x(k){return typeof k=="symbol"||m(k)&&f(k)==v}u.exports=x}),bn=s((l,u)=>{var f=fe(),m=jn(),v=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,x=/^\w*$/;function k(P,E){if(f(P))return!1;var D=typeof P;return D=="number"||D=="symbol"||D=="boolean"||P==null||m(P)?!0:x.test(P)||!v.test(P)||E!=null&&P in Object(E)}u.exports=k}),xn=s((l,u)=>{var f=_e(),m="Expected a function";function v(x,k){if(typeof x!="function"||k!=null&&typeof k!="function")throw new TypeError(m);var P=function(){var E=arguments,D=k?k.apply(this,E):E[0],Z=P.cache;if(Z.has(D))return Z.get(D);var $=x.apply(this,E);return P.cache=Z.set(D,$)||Z,$};return P.cache=new(v.Cache||f),P}v.Cache=f,u.exports=v}),Ke=s((l,u)=>{var f=xn(),m=500;function v(x){var k=f(x,function(E){return P.size===m&&P.clear(),E}),P=k.cache;return k}u.exports=v}),Ui=s((l,u)=>{var f=Ke(),m=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,v=/\\(\\)?/g,x=f(function(k){var P=[];return k.charCodeAt(0)===46&&P.push(""),k.replace(m,function(E,D,Z,$){P.push(Z?$.replace(v,"$1"):D||E)}),P});u.exports=x}),bi=s((l,u)=>{function f(m,v){for(var x=-1,k=m==null?0:m.length,P=Array(k);++x<k;)P[x]=v(m[x],x,m);return P}u.exports=f}),mi=s((l,u)=>{var f=et(),m=bi(),v=fe(),x=jn(),k=1/0,P=f?f.prototype:void 0,E=P?P.toString:void 0;function D(Z){if(typeof Z=="string")return Z;if(v(Z))return m(Z,D)+"";if(x(Z))return E?E.call(Z):"";var $=Z+"";return $=="0"&&1/Z==-k?"-0":$}u.exports=D}),Oi=s((l,u)=>{var f=mi();function m(v){return v==null?"":f(v)}u.exports=m}),Ue=s((l,u)=>{var f=fe(),m=bn(),v=Ui(),x=Oi();function k(P,E){return f(P)?P:m(P,E)?[P]:v(x(P))}u.exports=k}),ci=s((l,u)=>{var f=jn(),m=1/0;function v(x){if(typeof x=="string"||f(x))return x;var k=x+"";return k=="0"&&1/x==-m?"-0":k}u.exports=v}),Hn=s((l,u)=>{var f=Ue(),m=ci();function v(x,k){k=f(k,x);for(var P=0,E=k.length;x!=null&&P<E;)x=x[m(k[P++])];return P&&P==E?x:void 0}u.exports=v}),gi=s((l,u)=>{var f=Hn();function m(v,x,k){var P=v==null?void 0:f(v,x);return P===void 0?k:P}u.exports=m}),le=s((l,u)=>{(function(f,m){typeof l=="object"&&typeof u<"u"?u.exports=m():(f=f||self).RBush=m()})(l,function(){function f(W,X,nt,pt,rt){(function dt(B,R,V,F,H){for(;F>V;){if(F-V>600){var U=F-V+1,tt=R-V+1,J=Math.log(U),it=.5*Math.exp(2*J/3),lt=.5*Math.sqrt(J*it*(U-it)/U)*(tt-U/2<0?-1:1),st=Math.max(V,Math.floor(R-tt*it/U+lt)),xt=Math.min(F,Math.floor(R+(U-tt)*it/U+lt));dt(B,R,st,xt,H)}var Nt=B[R],Vt=V,qt=F;for(m(B,V,R),H(B[F],Nt)>0&&m(B,V,F);Vt<qt;){for(m(B,Vt,qt),Vt++,qt--;H(B[Vt],Nt)<0;)Vt++;for(;H(B[qt],Nt)>0;)qt--}H(B[V],Nt)===0?m(B,V,qt):m(B,++qt,F),qt<=R&&(V=qt+1),R<=qt&&(F=qt-1)}})(W,X,nt||0,pt||W.length-1,rt||v)}function m(W,X,nt){var pt=W[X];W[X]=W[nt],W[nt]=pt}function v(W,X){return W<X?-1:W>X?1:0}var x=function(W){W===void 0&&(W=9),this._maxEntries=Math.max(4,W),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function k(W,X,nt){if(!nt)return X.indexOf(W);for(var pt=0;pt<X.length;pt++)if(nt(W,X[pt]))return pt;return-1}function P(W,X){E(W,0,W.children.length,X,W)}function E(W,X,nt,pt,rt){rt||(rt=Rt(null)),rt.minX=1/0,rt.minY=1/0,rt.maxX=-1/0,rt.maxY=-1/0;for(var dt=X;dt<nt;dt++){var B=W.children[dt];D(rt,W.leaf?pt(B):B)}return rt}function D(W,X){return W.minX=Math.min(W.minX,X.minX),W.minY=Math.min(W.minY,X.minY),W.maxX=Math.max(W.maxX,X.maxX),W.maxY=Math.max(W.maxY,X.maxY),W}function Z(W,X){return W.minX-X.minX}function $(W,X){return W.minY-X.minY}function ut(W){return(W.maxX-W.minX)*(W.maxY-W.minY)}function mt(W){return W.maxX-W.minX+(W.maxY-W.minY)}function Mt(W,X){return W.minX<=X.minX&&W.minY<=X.minY&&X.maxX<=W.maxX&&X.maxY<=W.maxY}function Dt(W,X){return X.minX<=W.maxX&&X.minY<=W.maxY&&X.maxX>=W.minX&&X.maxY>=W.minY}function Rt(W){return{children:W,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function me(W,X,nt,pt,rt){for(var dt=[X,nt];dt.length;)if(!((nt=dt.pop())-(X=dt.pop())<=pt)){var B=X+Math.ceil((nt-X)/pt/2)*pt;f(W,B,X,nt,rt),dt.push(X,B,B,nt)}}return x.prototype.all=function(){return this._all(this.data,[])},x.prototype.search=function(W){var X=this.data,nt=[];if(!Dt(W,X))return nt;for(var pt=this.toBBox,rt=[];X;){for(var dt=0;dt<X.children.length;dt++){var B=X.children[dt],R=X.leaf?pt(B):B;Dt(W,R)&&(X.leaf?nt.push(B):Mt(W,R)?this._all(B,nt):rt.push(B))}X=rt.pop()}return nt},x.prototype.collides=function(W){var X=this.data;if(!Dt(W,X))return!1;for(var nt=[];X;){for(var pt=0;pt<X.children.length;pt++){var rt=X.children[pt],dt=X.leaf?this.toBBox(rt):rt;if(Dt(W,dt)){if(X.leaf||Mt(W,dt))return!0;nt.push(rt)}}X=nt.pop()}return!1},x.prototype.load=function(W){if(!W||!W.length)return this;if(W.length<this._minEntries){for(var X=0;X<W.length;X++)this.insert(W[X]);return this}var nt=this._build(W.slice(),0,W.length-1,0);if(this.data.children.length)if(this.data.height===nt.height)this._splitRoot(this.data,nt);else{if(this.data.height<nt.height){var pt=this.data;this.data=nt,nt=pt}this._insert(nt,this.data.height-nt.height-1,!0)}else this.data=nt;return this},x.prototype.insert=function(W){return W&&this._insert(W,this.data.height-1),this},x.prototype.clear=function(){return this.data=Rt([]),this},x.prototype.remove=function(W,X){if(!W)return this;for(var nt,pt,rt,dt=this.data,B=this.toBBox(W),R=[],V=[];dt||R.length;){if(dt||(dt=R.pop(),pt=R[R.length-1],nt=V.pop(),rt=!0),dt.leaf){var F=k(W,dt.children,X);if(F!==-1)return dt.children.splice(F,1),R.push(dt),this._condense(R),this}rt||dt.leaf||!Mt(dt,B)?pt?(nt++,dt=pt.children[nt],rt=!1):dt=null:(R.push(dt),V.push(nt),nt=0,pt=dt,dt=dt.children[0])}return this},x.prototype.toBBox=function(W){return W},x.prototype.compareMinX=function(W,X){return W.minX-X.minX},x.prototype.compareMinY=function(W,X){return W.minY-X.minY},x.prototype.toJSON=function(){return this.data},x.prototype.fromJSON=function(W){return this.data=W,this},x.prototype._all=function(W,X){for(var nt=[];W;)W.leaf?X.push.apply(X,W.children):nt.push.apply(nt,W.children),W=nt.pop();return X},x.prototype._build=function(W,X,nt,pt){var rt,dt=nt-X+1,B=this._maxEntries;if(dt<=B)return P(rt=Rt(W.slice(X,nt+1)),this.toBBox),rt;pt||(pt=Math.ceil(Math.log(dt)/Math.log(B)),B=Math.ceil(dt/Math.pow(B,pt-1))),(rt=Rt([])).leaf=!1,rt.height=pt;var R=Math.ceil(dt/B),V=R*Math.ceil(Math.sqrt(B));me(W,X,nt,V,this.compareMinX);for(var F=X;F<=nt;F+=V){var H=Math.min(F+V-1,nt);me(W,F,H,R,this.compareMinY);for(var U=F;U<=H;U+=R){var tt=Math.min(U+R-1,H);rt.children.push(this._build(W,U,tt,pt-1))}}return P(rt,this.toBBox),rt},x.prototype._chooseSubtree=function(W,X,nt,pt){for(;pt.push(X),!X.leaf&&pt.length-1!==nt;){for(var rt=1/0,dt=1/0,B=void 0,R=0;R<X.children.length;R++){var V=X.children[R],F=ut(V),H=(U=W,tt=V,(Math.max(tt.maxX,U.maxX)-Math.min(tt.minX,U.minX))*(Math.max(tt.maxY,U.maxY)-Math.min(tt.minY,U.minY))-F);H<dt?(dt=H,rt=F<rt?F:rt,B=V):H===dt&&F<rt&&(rt=F,B=V)}X=B||X.children[0]}var U,tt;return X},x.prototype._insert=function(W,X,nt){var pt=nt?W:this.toBBox(W),rt=[],dt=this._chooseSubtree(pt,this.data,X,rt);for(dt.children.push(W),D(dt,pt);X>=0&&rt[X].children.length>this._maxEntries;)this._split(rt,X),X--;this._adjustParentBBoxes(pt,rt,X)},x.prototype._split=function(W,X){var nt=W[X],pt=nt.children.length,rt=this._minEntries;this._chooseSplitAxis(nt,rt,pt);var dt=this._chooseSplitIndex(nt,rt,pt),B=Rt(nt.children.splice(dt,nt.children.length-dt));B.height=nt.height,B.leaf=nt.leaf,P(nt,this.toBBox),P(B,this.toBBox),X?W[X-1].children.push(B):this._splitRoot(nt,B)},x.prototype._splitRoot=function(W,X){this.data=Rt([W,X]),this.data.height=W.height+1,this.data.leaf=!1,P(this.data,this.toBBox)},x.prototype._chooseSplitIndex=function(W,X,nt){for(var pt,rt,dt,B,R,V,F,H=1/0,U=1/0,tt=X;tt<=nt-X;tt++){var J=E(W,0,tt,this.toBBox),it=E(W,tt,nt,this.toBBox),lt=(rt=J,dt=it,B=void 0,R=void 0,V=void 0,F=void 0,B=Math.max(rt.minX,dt.minX),R=Math.max(rt.minY,dt.minY),V=Math.min(rt.maxX,dt.maxX),F=Math.min(rt.maxY,dt.maxY),Math.max(0,V-B)*Math.max(0,F-R)),st=ut(J)+ut(it);lt<H?(H=lt,pt=tt,U=st<U?st:U):lt===H&&st<U&&(U=st,pt=tt)}return pt||nt-X},x.prototype._chooseSplitAxis=function(W,X,nt){var pt=W.leaf?this.compareMinX:Z,rt=W.leaf?this.compareMinY:$;this._allDistMargin(W,X,nt,pt)<this._allDistMargin(W,X,nt,rt)&&W.children.sort(pt)},x.prototype._allDistMargin=function(W,X,nt,pt){W.children.sort(pt);for(var rt=this.toBBox,dt=E(W,0,X,rt),B=E(W,nt-X,nt,rt),R=mt(dt)+mt(B),V=X;V<nt-X;V++){var F=W.children[V];D(dt,W.leaf?rt(F):F),R+=mt(dt)}for(var H=nt-X-1;H>=X;H--){var U=W.children[H];D(B,W.leaf?rt(U):U),R+=mt(B)}return R},x.prototype._adjustParentBBoxes=function(W,X,nt){for(var pt=nt;pt>=0;pt--)D(X[pt],W)},x.prototype._condense=function(W){for(var X=W.length-1,nt=void 0;X>=0;X--)W[X].children.length===0?X>0?(nt=W[X-1].children).splice(nt.indexOf(W[X]),1):this.clear():P(W[X],this.toBBox)},x})}),ue=s(l=>{Object.defineProperty(l,"__esModule",{value:!0}),l.earthRadius=63710088e-1,l.factors={centimeters:l.earthRadius*100,centimetres:l.earthRadius*100,degrees:l.earthRadius/111325,feet:l.earthRadius*3.28084,inches:l.earthRadius*39.37,kilometers:l.earthRadius/1e3,kilometres:l.earthRadius/1e3,meters:l.earthRadius,metres:l.earthRadius,miles:l.earthRadius/1609.344,millimeters:l.earthRadius*1e3,millimetres:l.earthRadius*1e3,nauticalmiles:l.earthRadius/1852,radians:1,yards:l.earthRadius*1.0936},l.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/l.earthRadius,yards:1.0936133},l.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function u(F,H,U){U===void 0&&(U={});var tt={type:"Feature"};return(U.id===0||U.id)&&(tt.id=U.id),U.bbox&&(tt.bbox=U.bbox),tt.properties=H||{},tt.geometry=F,tt}l.feature=u;function f(F,H,U){switch(F){case"Point":return m(H).geometry;case"LineString":return P(H).geometry;case"Polygon":return x(H).geometry;case"MultiPoint":return $(H).geometry;case"MultiLineString":return Z(H).geometry;case"MultiPolygon":return ut(H).geometry;default:throw new Error(F+" is invalid")}}l.geometry=f;function m(F,H,U){if(U===void 0&&(U={}),!F)throw new Error("coordinates is required");if(!Array.isArray(F))throw new Error("coordinates must be an Array");if(F.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!dt(F[0])||!dt(F[1]))throw new Error("coordinates must contain numbers");var tt={type:"Point",coordinates:F};return u(tt,H,U)}l.point=m;function v(F,H,U){return U===void 0&&(U={}),D(F.map(function(tt){return m(tt,H)}),U)}l.points=v;function x(F,H,U){U===void 0&&(U={});for(var tt=0,J=F;tt<J.length;tt++){var it=J[tt];if(it.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var lt=0;lt<it[it.length-1].length;lt++)if(it[it.length-1][lt]!==it[0][lt])throw new Error("First and last Position are not equivalent.")}var st={type:"Polygon",coordinates:F};return u(st,H,U)}l.polygon=x;function k(F,H,U){return U===void 0&&(U={}),D(F.map(function(tt){return x(tt,H)}),U)}l.polygons=k;function P(F,H,U){if(U===void 0&&(U={}),F.length<2)throw new Error("coordinates must be an array of two or more positions");var tt={type:"LineString",coordinates:F};return u(tt,H,U)}l.lineString=P;function E(F,H,U){return U===void 0&&(U={}),D(F.map(function(tt){return P(tt,H)}),U)}l.lineStrings=E;function D(F,H){H===void 0&&(H={});var U={type:"FeatureCollection"};return H.id&&(U.id=H.id),H.bbox&&(U.bbox=H.bbox),U.features=F,U}l.featureCollection=D;function Z(F,H,U){U===void 0&&(U={});var tt={type:"MultiLineString",coordinates:F};return u(tt,H,U)}l.multiLineString=Z;function $(F,H,U){U===void 0&&(U={});var tt={type:"MultiPoint",coordinates:F};return u(tt,H,U)}l.multiPoint=$;function ut(F,H,U){U===void 0&&(U={});var tt={type:"MultiPolygon",coordinates:F};return u(tt,H,U)}l.multiPolygon=ut;function mt(F,H,U){U===void 0&&(U={});var tt={type:"GeometryCollection",geometries:F};return u(tt,H,U)}l.geometryCollection=mt;function Mt(F,H){if(H===void 0&&(H=0),H&&!(H>=0))throw new Error("precision must be a positive number");var U=Math.pow(10,H||0);return Math.round(F*U)/U}l.round=Mt;function Dt(F,H){H===void 0&&(H="kilometers");var U=l.factors[H];if(!U)throw new Error(H+" units is invalid");return F*U}l.radiansToLength=Dt;function Rt(F,H){H===void 0&&(H="kilometers");var U=l.factors[H];if(!U)throw new Error(H+" units is invalid");return F/U}l.lengthToRadians=Rt;function me(F,H){return X(Rt(F,H))}l.lengthToDegrees=me;function W(F){var H=F%360;return H<0&&(H+=360),H}l.bearingToAzimuth=W;function X(F){var H=F%(2*Math.PI);return H*180/Math.PI}l.radiansToDegrees=X;function nt(F){var H=F%360;return H*Math.PI/180}l.degreesToRadians=nt;function pt(F,H,U){if(H===void 0&&(H="kilometers"),U===void 0&&(U="kilometers"),!(F>=0))throw new Error("length must be a positive number");return Dt(Rt(F,H),U)}l.convertLength=pt;function rt(F,H,U){if(H===void 0&&(H="meters"),U===void 0&&(U="kilometers"),!(F>=0))throw new Error("area must be a positive number");var tt=l.areaFactors[H];if(!tt)throw new Error("invalid original units");var J=l.areaFactors[U];if(!J)throw new Error("invalid final units");return F/tt*J}l.convertArea=rt;function dt(F){return!isNaN(F)&&F!==null&&!Array.isArray(F)}l.isNumber=dt;function B(F){return!!F&&F.constructor===Object}l.isObject=B;function R(F){if(!F)throw new Error("bbox is required");if(!Array.isArray(F))throw new Error("bbox must be an Array");if(F.length!==4&&F.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");F.forEach(function(H){if(!dt(H))throw new Error("bbox must only contain numbers")})}l.validateBBox=R;function V(F){if(!F)throw new Error("id is required");if(["string","number"].indexOf(typeof F)===-1)throw new Error("id must be a number or a string")}l.validateId=V}),xi=s(l=>{Object.defineProperty(l,"__esModule",{value:!0});var u=ue();function f(X,nt,pt){if(X!==null)for(var rt,dt,B,R,V,F,H,U=0,tt=0,J,it=X.type,lt=it==="FeatureCollection",st=it==="Feature",xt=lt?X.features.length:1,Nt=0;Nt<xt;Nt++){H=lt?X.features[Nt].geometry:st?X.geometry:X,J=H?H.type==="GeometryCollection":!1,V=J?H.geometries.length:1;for(var Vt=0;Vt<V;Vt++){var qt=0,be=0;if(R=J?H.geometries[Vt]:H,R!==null){F=R.coordinates;var ke=R.type;switch(U=pt&&(ke==="Polygon"||ke==="MultiPolygon")?1:0,ke){case null:break;case"Point":if(nt(F,tt,Nt,qt,be)===!1)return!1;tt++,qt++;break;case"LineString":case"MultiPoint":for(rt=0;rt<F.length;rt++){if(nt(F[rt],tt,Nt,qt,be)===!1)return!1;tt++,ke==="MultiPoint"&&qt++}ke==="LineString"&&qt++;break;case"Polygon":case"MultiLineString":for(rt=0;rt<F.length;rt++){for(dt=0;dt<F[rt].length-U;dt++){if(nt(F[rt][dt],tt,Nt,qt,be)===!1)return!1;tt++}ke==="MultiLineString"&&qt++,ke==="Polygon"&&be++}ke==="Polygon"&&qt++;break;case"MultiPolygon":for(rt=0;rt<F.length;rt++){for(be=0,dt=0;dt<F[rt].length;dt++){for(B=0;B<F[rt][dt].length-U;B++){if(nt(F[rt][dt][B],tt,Nt,qt,be)===!1)return!1;tt++}be++}qt++}break;case"GeometryCollection":for(rt=0;rt<R.geometries.length;rt++)if(f(R.geometries[rt],nt,pt)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function m(X,nt,pt,rt){var dt=pt;return f(X,function(B,R,V,F,H){R===0&&pt===void 0?dt=B:dt=nt(dt,B,R,V,F,H)},rt),dt}function v(X,nt){var pt;switch(X.type){case"FeatureCollection":for(pt=0;pt<X.features.length&&nt(X.features[pt].properties,pt)!==!1;pt++);break;case"Feature":nt(X.properties,0);break}}function x(X,nt,pt){var rt=pt;return v(X,function(dt,B){B===0&&pt===void 0?rt=dt:rt=nt(rt,dt,B)}),rt}function k(X,nt){if(X.type==="Feature")nt(X,0);else if(X.type==="FeatureCollection")for(var pt=0;pt<X.features.length&&nt(X.features[pt],pt)!==!1;pt++);}function P(X,nt,pt){var rt=pt;return k(X,function(dt,B){B===0&&pt===void 0?rt=dt:rt=nt(rt,dt,B)}),rt}function E(X){var nt=[];return f(X,function(pt){nt.push(pt)}),nt}function D(X,nt){var pt,rt,dt,B,R,V,F,H,U,tt,J=0,it=X.type==="FeatureCollection",lt=X.type==="Feature",st=it?X.features.length:1;for(pt=0;pt<st;pt++){for(V=it?X.features[pt].geometry:lt?X.geometry:X,H=it?X.features[pt].properties:lt?X.properties:{},U=it?X.features[pt].bbox:lt?X.bbox:void 0,tt=it?X.features[pt].id:lt?X.id:void 0,F=V?V.type==="GeometryCollection":!1,R=F?V.geometries.length:1,dt=0;dt<R;dt++){if(B=F?V.geometries[dt]:V,B===null){if(nt(null,J,H,U,tt)===!1)return!1;continue}switch(B.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(nt(B,J,H,U,tt)===!1)return!1;break}case"GeometryCollection":{for(rt=0;rt<B.geometries.length;rt++)if(nt(B.geometries[rt],J,H,U,tt)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}J++}}function Z(X,nt,pt){var rt=pt;return D(X,function(dt,B,R,V,F){B===0&&pt===void 0?rt=dt:rt=nt(rt,dt,B,R,V,F)}),rt}function $(X,nt){D(X,function(pt,rt,dt,B,R){var V=pt===null?null:pt.type;switch(V){case null:case"Point":case"LineString":case"Polygon":return nt(u.feature(pt,dt,{bbox:B,id:R}),rt,0)===!1?!1:void 0}var F;switch(V){case"MultiPoint":F="Point";break;case"MultiLineString":F="LineString";break;case"MultiPolygon":F="Polygon";break}for(var H=0;H<pt.coordinates.length;H++){var U=pt.coordinates[H],tt={type:F,coordinates:U};if(nt(u.feature(tt,dt),rt,H)===!1)return!1}})}function ut(X,nt,pt){var rt=pt;return $(X,function(dt,B,R){B===0&&R===0&&pt===void 0?rt=dt:rt=nt(rt,dt,B,R)}),rt}function mt(X,nt){$(X,function(pt,rt,dt){var B=0;if(pt.geometry){var R=pt.geometry.type;if(!(R==="Point"||R==="MultiPoint")){var V,F=0,H=0,U=0;if(f(pt,function(tt,J,it,lt,st){if(V===void 0||rt>F||lt>H||st>U){V=tt,F=rt,H=lt,U=st,B=0;return}var xt=u.lineString([V,tt],pt.properties);if(nt(xt,rt,dt,st,B)===!1)return!1;B++,V=tt})===!1)return!1}}})}function Mt(X,nt,pt){var rt=pt,dt=!1;return mt(X,function(B,R,V,F,H){dt===!1&&pt===void 0?rt=B:rt=nt(rt,B,R,V,F,H),dt=!0}),rt}function Dt(X,nt){if(!X)throw new Error("geojson is required");$(X,function(pt,rt,dt){if(pt.geometry!==null){var B=pt.geometry.type,R=pt.geometry.coordinates;switch(B){case"LineString":if(nt(pt,rt,dt,0,0)===!1)return!1;break;case"Polygon":for(var V=0;V<R.length;V++)if(nt(u.lineString(R[V],pt.properties),rt,dt,V)===!1)return!1;break}}})}function Rt(X,nt,pt){var rt=pt;return Dt(X,function(dt,B,R,V){B===0&&pt===void 0?rt=dt:rt=nt(rt,dt,B,R,V)}),rt}function me(X,nt){if(nt=nt||{},!u.isObject(nt))throw new Error("options is invalid");var pt=nt.featureIndex||0,rt=nt.multiFeatureIndex||0,dt=nt.geometryIndex||0,B=nt.segmentIndex||0,R=nt.properties,V;switch(X.type){case"FeatureCollection":pt<0&&(pt=X.features.length+pt),R=R||X.features[pt].properties,V=X.features[pt].geometry;break;case"Feature":R=R||X.properties,V=X.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":V=X;break;default:throw new Error("geojson is invalid")}if(V===null)return null;var F=V.coordinates;switch(V.type){case"Point":case"MultiPoint":return null;case"LineString":return B<0&&(B=F.length+B-1),u.lineString([F[B],F[B+1]],R,nt);case"Polygon":return dt<0&&(dt=F.length+dt),B<0&&(B=F[dt].length+B-1),u.lineString([F[dt][B],F[dt][B+1]],R,nt);case"MultiLineString":return rt<0&&(rt=F.length+rt),B<0&&(B=F[rt].length+B-1),u.lineString([F[rt][B],F[rt][B+1]],R,nt);case"MultiPolygon":return rt<0&&(rt=F.length+rt),dt<0&&(dt=F[rt].length+dt),B<0&&(B=F[rt][dt].length-B-1),u.lineString([F[rt][dt][B],F[rt][dt][B+1]],R,nt)}throw new Error("geojson is invalid")}function W(X,nt){if(nt=nt||{},!u.isObject(nt))throw new Error("options is invalid");var pt=nt.featureIndex||0,rt=nt.multiFeatureIndex||0,dt=nt.geometryIndex||0,B=nt.coordIndex||0,R=nt.properties,V;switch(X.type){case"FeatureCollection":pt<0&&(pt=X.features.length+pt),R=R||X.features[pt].properties,V=X.features[pt].geometry;break;case"Feature":R=R||X.properties,V=X.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":V=X;break;default:throw new Error("geojson is invalid")}if(V===null)return null;var F=V.coordinates;switch(V.type){case"Point":return u.point(F,R,nt);case"MultiPoint":return rt<0&&(rt=F.length+rt),u.point(F[rt],R,nt);case"LineString":return B<0&&(B=F.length+B),u.point(F[B],R,nt);case"Polygon":return dt<0&&(dt=F.length+dt),B<0&&(B=F[dt].length+B),u.point(F[dt][B],R,nt);case"MultiLineString":return rt<0&&(rt=F.length+rt),B<0&&(B=F[rt].length+B),u.point(F[rt][B],R,nt);case"MultiPolygon":return rt<0&&(rt=F.length+rt),dt<0&&(dt=F[rt].length+dt),B<0&&(B=F[rt][dt].length-B),u.point(F[rt][dt][B],R,nt)}throw new Error("geojson is invalid")}l.coordAll=E,l.coordEach=f,l.coordReduce=m,l.featureEach=k,l.featureReduce=P,l.findPoint=W,l.findSegment=me,l.flattenEach=$,l.flattenReduce=ut,l.geomEach=D,l.geomReduce=Z,l.lineEach=Dt,l.lineReduce=Rt,l.propEach=v,l.propReduce=x,l.segmentEach=mt,l.segmentReduce=Mt}),wi=s(l=>{Object.defineProperty(l,"__esModule",{value:!0});var u=xi();function f(m){var v=[1/0,1/0,-1/0,-1/0];return u.coordEach(m,function(x){v[0]>x[0]&&(v[0]=x[0]),v[1]>x[1]&&(v[1]=x[1]),v[2]<x[0]&&(v[2]=x[0]),v[3]<x[1]&&(v[3]=x[1])}),v}f.default=f,l.default=f}),_i=s((l,u)=>{var f=le(),m=ue(),v=xi(),x=wi().default,k=v.featureEach;v.coordEach,m.polygon;var P=m.featureCollection;function E(D){var Z=new f(D);return Z.insert=function($){if($.type!=="Feature")throw new Error("invalid feature");return $.bbox=$.bbox?$.bbox:x($),f.prototype.insert.call(this,$)},Z.load=function($){var ut=[];return Array.isArray($)?$.forEach(function(mt){if(mt.type!=="Feature")throw new Error("invalid features");mt.bbox=mt.bbox?mt.bbox:x(mt),ut.push(mt)}):k($,function(mt){if(mt.type!=="Feature")throw new Error("invalid features");mt.bbox=mt.bbox?mt.bbox:x(mt),ut.push(mt)}),f.prototype.load.call(this,ut)},Z.remove=function($,ut){if($.type!=="Feature")throw new Error("invalid feature");return $.bbox=$.bbox?$.bbox:x($),f.prototype.remove.call(this,$,ut)},Z.clear=function(){return f.prototype.clear.call(this)},Z.search=function($){var ut=f.prototype.search.call(this,this.toBBox($));return P(ut)},Z.collides=function($){return f.prototype.collides.call(this,this.toBBox($))},Z.all=function(){var $=f.prototype.all.call(this);return P($)},Z.toJSON=function(){return f.prototype.toJSON.call(this)},Z.fromJSON=function($){return f.prototype.fromJSON.call(this,$)},Z.toBBox=function($){var ut;if($.bbox)ut=$.bbox;else if(Array.isArray($)&&$.length===4)ut=$;else if(Array.isArray($)&&$.length===6)ut=[$[0],$[1],$[3],$[4]];else if($.type==="Feature")ut=x($);else if($.type==="FeatureCollection")ut=x($);else throw new Error("invalid geojson");return{minX:ut[0],minY:ut[1],maxX:ut[2],maxY:ut[3]}},Z}u.exports=E,u.exports.default=E});Array.prototype.findIndex=Array.prototype.findIndex||function(l){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof l!="function")throw new TypeError("callback must be a function");for(var u=Object(this),f=u.length>>>0,m=arguments[1],v=0;v<f;v++)if(l.call(m,u[v],v,u))return v;return-1},Array.prototype.find=Array.prototype.find||function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("callback must be a function");for(var u=Object(this),f=u.length>>>0,m=arguments[1],v=0;v<f;v++){var x=u[v];if(l.call(m,x,v,u))return x}},typeof Object.assign!="function"&&(Object.assign=function(l){if(l==null)throw new TypeError("Cannot convert undefined or null to object");l=Object(l);for(var u=1;u<arguments.length;u++){var f=arguments[u];if(f!=null)for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(l[m]=f[m])}return l}),function(l){l.forEach(function(u){u.hasOwnProperty("remove")||Object.defineProperty(u,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype]),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(l,u){if(this==null)throw new TypeError('"this" is null or not defined');var f=Object(this),m=f.length>>>0;if(m===0)return!1;var v=u|0,x=Math.max(v>=0?v:m-Math.abs(v),0);function k(P,E){return P===E||typeof P=="number"&&typeof E=="number"&&isNaN(P)&&isNaN(E)}for(;x<m;){if(k(f[x],l))return!0;x++}return!1}});var nn={name:"@geoman-io/leaflet-geoman-free",version:"2.17.0",description:"A Leaflet Plugin For Editing Geometry Layers in Leaflet 1.0",keywords:["leaflet","geoman","polygon management","geometry editing","map data","map overlay","polygon","geojson","leaflet-draw","data-field-geojson","ui-leaflet-draw"],files:["dist"],main:"dist/leaflet-geoman.js",types:"dist/leaflet-geoman.d.ts",dependencies:{"@turf/boolean-contains":"^6.5.0","@turf/kinks":"^6.5.0","@turf/line-intersect":"^6.5.0","@turf/line-split":"^6.5.0",lodash:"4.17.21","polyclip-ts":"^0.16.5"},devDependencies:{"@types/leaflet":"^1.7.9","cross-env":"^7.0.3",cypress:"6.9.1","cypress-wait-until":"1.7.1",esbuild:"^0.20.0",eslint:"8.56.0","eslint-config-airbnb-base":"15.0.0","eslint-config-prettier":"9.1.0","eslint-plugin-cypress":"2.15.1","eslint-plugin-import":"2.29.1",husky:"^9.0.7",leaflet:"1.9.3","lint-staged":"^15.2.1",prettier:"3.2.4","prosthetic-hand":"1.3.1","ts-node":"^10.9.2"},peerDependencies:{leaflet:"^1.2.0"},scripts:{start:"pnpm run dev",dev:"cross-env DEV=true ts-node bundle.mjs",build:"ts-node bundle.mjs",test:"cypress run",cypress:"cypress open",prepare:"pnpm run build && husky","eslint-check":"eslint --print-config . | eslint-config-prettier-check",eslint:'eslint "{src,cypress,demo}/**/*.js" --fix ',prettier:'prettier --write "{src,cypress,demo}/**/*.{js,css}" --log-level=warn',lint:"pnpm run eslint && pnpm run prettier"},repository:{type:"git",url:"git://github.com/geoman-io/leaflet-geoman.git"},author:{name:"Geoman.io",email:"sales@geoman.io",url:"http://geoman.io"},license:"MIT",bugs:{url:"https://github.com/geoman-io/leaflet-geoman/issues"},homepage:"https://geoman.io",prettier:{trailingComma:"es5",tabWidth:2,semi:!0,singleQuote:!0},"lint-staged":{"*.js":'eslint "{src,cypress,demo}/**/*.js" --fix',"*.{js,css,md}":'prettier --write "{src,cypress,demo}/**/*.{js,css}"'}},Kt=p(Hi()),Le={tooltips:{placeMarker:"Click to place marker",firstVertex:"Click to place first vertex",continueLine:"Click to continue drawing",finishLine:"Click any existing marker to finish",finishPoly:"Click first marker to finish",finishRect:"Click to finish",startCircle:"Click to place circle center",finishCircle:"Click to finish circle",placeCircleMarker:"Click to place circle marker",placeText:"Click to place text",selectFirstLayerFor:"Select first layer for {action}",selectSecondLayerFor:"Select second layer for {action}"},actions:{finish:"Finish",cancel:"Cancel",removeLastVertex:"Remove Last Vertex"},buttonTitles:{drawMarkerButton:"Draw Marker",drawPolyButton:"Draw Polygons",drawLineButton:"Draw Polyline",drawCircleButton:"Draw Circle",drawRectButton:"Draw Rectangle",editButton:"Edit Layers",dragButton:"Drag Layers",cutButton:"Cut Layers",deleteButton:"Remove Layers",drawCircleMarkerButton:"Draw Circle Marker",snappingButton:"Snap dragged marker to other layers and vertices",pinningButton:"Pin shared vertices together",rotateButton:"Rotate Layers",drawTextButton:"Draw Text",scaleButton:"Scale Layers",autoTracingButton:"Auto trace Line",snapGuidesButton:"Show SnapGuides",unionButton:"Union layers",differenceButton:"Subtract layers"},measurements:{totalLength:"Length",segmentLength:"Segment length",area:"Area",radius:"Radius",perimeter:"Perimeter",height:"Height",width:"Width",coordinates:"Position",coordinatesMarker:"Position Marker"}},ri={tooltips:{placeMarker:"Platziere den Marker mit Klick",firstVertex:"Platziere den ersten Marker mit Klick",continueLine:"Klicke, um weiter zu zeichnen",finishLine:"Beende mit Klick auf existierenden Marker",finishPoly:"Beende mit Klick auf ersten Marker",finishRect:"Beende mit Klick",startCircle:"Platziere das Kreiszentrum mit Klick",finishCircle:"Beende den Kreis mit Klick",placeCircleMarker:"Platziere den Kreismarker mit Klick",placeText:"Platziere den Text mit Klick"},actions:{finish:"Beenden",cancel:"Abbrechen",removeLastVertex:"Letzten Vertex l\xF6schen"},buttonTitles:{drawMarkerButton:"Marker zeichnen",drawPolyButton:"Polygon zeichnen",drawLineButton:"Polyline zeichnen",drawCircleButton:"Kreis zeichnen",drawRectButton:"Rechteck zeichnen",editButton:"Layer editieren",dragButton:"Layer bewegen",cutButton:"Layer schneiden",deleteButton:"Layer l\xF6schen",drawCircleMarkerButton:"Kreismarker zeichnen",snappingButton:"Bewegter Layer an andere Layer oder Vertexe einhacken",pinningButton:"Vertexe an der gleichen Position verkn\xFCpfen",rotateButton:"Layer drehen",drawTextButton:"Text zeichnen",scaleButton:"Layer skalieren",autoTracingButton:"Linie automatisch nachzeichen"},measurements:{totalLength:"L\xE4nge",segmentLength:"Segment L\xE4nge",area:"Fl\xE4che",radius:"Radius",perimeter:"Umfang",height:"H\xF6he",width:"Breite",coordinates:"Position",coordinatesMarker:"Position Marker"}},wn={tooltips:{placeMarker:"Clicca per posizionare un Marker",firstVertex:"Clicca per posizionare il primo vertice",continueLine:"Clicca per continuare a disegnare",finishLine:"Clicca qualsiasi marker esistente per terminare",finishPoly:"Clicca il primo marker per terminare",finishRect:"Clicca per terminare",startCircle:"Clicca per posizionare il punto centrale del cerchio",finishCircle:"Clicca per terminare il cerchio",placeCircleMarker:"Clicca per posizionare un Marker del cherchio"},actions:{finish:"Termina",cancel:"Annulla",removeLastVertex:"Rimuovi l'ultimo vertice"},buttonTitles:{drawMarkerButton:"Disegna Marker",drawPolyButton:"Disegna Poligoni",drawLineButton:"Disegna Polilinea",drawCircleButton:"Disegna Cerchio",drawRectButton:"Disegna Rettangolo",editButton:"Modifica Livelli",dragButton:"Sposta Livelli",cutButton:"Ritaglia Livelli",deleteButton:"Elimina Livelli",drawCircleMarkerButton:"Disegna Marker del Cerchio",snappingButton:"Snap ha trascinato il pennarello su altri strati e vertici",pinningButton:"Pin condiviso vertici insieme",rotateButton:"Ruota livello"}},We={tooltips:{placeMarker:"Klik untuk menempatkan marker",firstVertex:"Klik untuk menempatkan vertex pertama",continueLine:"Klik untuk meneruskan digitasi",finishLine:"Klik pada sembarang marker yang ada untuk mengakhiri",finishPoly:"Klik marker pertama untuk mengakhiri",finishRect:"Klik untuk mengakhiri",startCircle:"Klik untuk menempatkan titik pusat lingkaran",finishCircle:"Klik untuk mengakhiri lingkaran",placeCircleMarker:"Klik untuk menempatkan penanda lingkarann"},actions:{finish:"Selesai",cancel:"Batal",removeLastVertex:"Hilangkan Vertex Terakhir"},buttonTitles:{drawMarkerButton:"Digitasi Marker",drawPolyButton:"Digitasi Polygon",drawLineButton:"Digitasi Polyline",drawCircleButton:"Digitasi Lingkaran",drawRectButton:"Digitasi Segi Empat",editButton:"Edit Layer",dragButton:"Geser Layer",cutButton:"Potong Layer",deleteButton:"Hilangkan Layer",drawCircleMarkerButton:"Digitasi Penanda Lingkaran",snappingButton:"Jepretkan penanda yang ditarik ke lapisan dan simpul lain",pinningButton:"Sematkan simpul bersama bersama",rotateButton:"Putar lapisan"}},Un={tooltips:{placeMarker:"Adaug\u0103 un punct",firstVertex:"Apas\u0103 aici pentru a ad\u0103uga primul Vertex",continueLine:"Apas\u0103 aici pentru a continua desenul",finishLine:"Apas\u0103 pe orice obiect pentru a finisa desenul",finishPoly:"Apas\u0103 pe primul obiect pentru a finisa",finishRect:"Apas\u0103 pentru a finisa",startCircle:"Apas\u0103 pentru a desena un cerc",finishCircle:"Apas\u0103 pentru a finisa un cerc",placeCircleMarker:"Adaug\u0103 un punct"},actions:{finish:"Termin\u0103",cancel:"Anuleaz\u0103",removeLastVertex:"\u0218terge ultimul Vertex"},buttonTitles:{drawMarkerButton:"Adaug\u0103 o bulin\u0103",drawPolyButton:"Deseneaz\u0103 un poligon",drawLineButton:"Deseneaz\u0103 o linie",drawCircleButton:"Deseneaz\u0103 un cerc",drawRectButton:"Deseneaz\u0103 un dreptunghi",editButton:"Editeaz\u0103 straturile",dragButton:"Mut\u0103 straturile",cutButton:"Taie straturile",deleteButton:"\u0218terge straturile",drawCircleMarkerButton:"Deseneaz\u0103 marcatorul cercului",snappingButton:"Fixa\u021Bi marcatorul glisat pe alte straturi \u0219i v\xE2rfuri",pinningButton:"Fixa\u021Bi v\xE2rfurile partajate \xEEmpreun\u0103",rotateButton:"Roti\u021Bi stratul"}},rn={tooltips:{placeMarker:"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043C\u0430\u0440\u043A\u0435\u0440",firstVertex:"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043F\u0435\u0440\u0432\u044B\u0439 \u043E\u0431\u044A\u0435\u043A\u0442",continueLine:"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u044C \u0440\u0438\u0441\u043E\u0432\u0430\u043D\u0438\u0435",finishLine:"\u041D\u0430\u0436\u043C\u0438\u0442\u0435 \u043B\u044E\u0431\u043E\u0439 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044E\u0449\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u0434\u043B\u044F \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u0438\u044F",finishPoly:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043F\u0435\u0440\u0432\u0443\u044E \u0442\u043E\u0447\u043A\u0443, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u043A\u043E\u043D\u0447\u0438\u0442\u044C",finishRect:"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u043A\u043E\u043D\u0447\u0438\u0442\u044C",startCircle:"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0446\u0435\u043D\u0442\u0440 \u043A\u0440\u0443\u0433\u0430",finishCircle:"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u0434\u0430\u0442\u044C \u0440\u0430\u0434\u0438\u0443\u0441",placeCircleMarker:"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043A\u0440\u0443\u0433\u043E\u0432\u043E\u0439 \u043C\u0430\u0440\u043A\u0435\u0440"},actions:{finish:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044C",cancel:"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",removeLastVertex:"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C \u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0435\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435"},buttonTitles:{drawMarkerButton:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043C\u0430\u0440\u043A\u0435\u0440",drawPolyButton:"\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043F\u043E\u043B\u0438\u0433\u043E\u043D",drawLineButton:"\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043A\u0440\u0438\u0432\u0443\u044E",drawCircleButton:"\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043A\u0440\u0443\u0433",drawRectButton:"\u0420\u0438\u0441\u043E\u0432\u0430\u0442\u044C \u043F\u0440\u044F\u043C\u043E\u0443\u0433\u043E\u043B\u044C\u043D\u0438\u043A",editButton:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u043B\u043E\u0439",dragButton:"\u041F\u0435\u0440\u0435\u043D\u0435\u0441\u0442\u0438 \u0441\u043B\u043E\u0439",cutButton:"\u0412\u044B\u0440\u0435\u0437\u0430\u0442\u044C \u0441\u043B\u043E\u0439",deleteButton:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0441\u043B\u043E\u0439",drawCircleMarkerButton:"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043A\u0440\u0443\u0433\u043E\u0432\u043E\u0439 \u043C\u0430\u0440\u043A\u0435\u0440",snappingButton:"\u041F\u0440\u0438\u0432\u044F\u0437\u0430\u0442\u044C \u043F\u0435\u0440\u0435\u0442\u0430\u0441\u043A\u0438\u0432\u0430\u0435\u043C\u044B\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u043A \u0434\u0440\u0443\u0433\u0438\u043C \u0441\u043B\u043E\u044F\u043C \u0438 \u0432\u0435\u0440\u0448\u0438\u043D\u0430\u043C",pinningButton:"\u0421\u0432\u044F\u0437\u0430\u0442\u044C \u043E\u0431\u0449\u0438\u0435 \u0442\u043E\u0447\u043A\u0438 \u0432\u043C\u0435\u0441\u0442\u0435",rotateButton:"\u041F\u043E\u0432\u043E\u0440\u043E\u0442 \u0441\u043B\u043E\u044F"}},Ii={tooltips:{placeMarker:"Presiona para colocar un marcador",firstVertex:"Presiona para colocar el primer v\xE9rtice",continueLine:"Presiona para continuar dibujando",finishLine:"Presiona cualquier marcador existente para finalizar",finishPoly:"Presiona el primer marcador para finalizar",finishRect:"Presiona para finalizar",startCircle:"Presiona para colocar el centro del c\xEDrculo",finishCircle:"Presiona para finalizar el c\xEDrculo",placeCircleMarker:"Presiona para colocar un marcador de c\xEDrculo"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Eliminar \xFAltimo v\xE9rtice"},buttonTitles:{drawMarkerButton:"Dibujar Marcador",drawPolyButton:"Dibujar Pol\xEDgono",drawLineButton:"Dibujar L\xEDnea",drawCircleButton:"Dibujar C\xEDrculo",drawRectButton:"Dibujar Rect\xE1ngulo",editButton:"Editar Capas",dragButton:"Arrastrar Capas",cutButton:"Cortar Capas",deleteButton:"Eliminar Capas",drawCircleMarkerButton:"Dibujar Marcador de C\xEDrculo",snappingButton:"El marcador de Snap arrastrado a otras capas y v\xE9rtices",pinningButton:"Fijar juntos los v\xE9rtices compartidos",rotateButton:"Rotar capa"}},Te={tooltips:{placeMarker:"Klik om een marker te plaatsen",firstVertex:"Klik om het eerste punt te plaatsen",continueLine:"Klik om te blijven tekenen",finishLine:"Klik op een bestaand punt om te be\xEBindigen",finishPoly:"Klik op het eerst punt om te be\xEBindigen",finishRect:"Klik om te be\xEBindigen",startCircle:"Klik om het middelpunt te plaatsen",finishCircle:"Klik om de cirkel te be\xEBindigen",placeCircleMarker:"Klik om een marker te plaatsen"},actions:{finish:"Bewaar",cancel:"Annuleer",removeLastVertex:"Verwijder laatste punt"},buttonTitles:{drawMarkerButton:"Plaats Marker",drawPolyButton:"Teken een vlak",drawLineButton:"Teken een lijn",drawCircleButton:"Teken een cirkel",drawRectButton:"Teken een vierkant",editButton:"Bewerk",dragButton:"Verplaats",cutButton:"Knip",deleteButton:"Verwijder",drawCircleMarkerButton:"Plaats Marker",snappingButton:"Snap gesleepte marker naar andere lagen en hoekpunten",pinningButton:"Speld gedeelde hoekpunten samen",rotateButton:"Laag roteren"}},N={tooltips:{placeMarker:"Cliquez pour placer un marqueur",firstVertex:"Cliquez pour placer le premier sommet",continueLine:"Cliquez pour continuer \xE0 dessiner",finishLine:"Cliquez sur n'importe quel marqueur pour terminer",finishPoly:"Cliquez sur le premier marqueur pour terminer",finishRect:"Cliquez pour terminer",startCircle:"Cliquez pour placer le centre du cercle",finishCircle:"Cliquez pour finir le cercle",placeCircleMarker:"Cliquez pour placer le marqueur circulaire"},actions:{finish:"Terminer",cancel:"Annuler",removeLastVertex:"Retirer le dernier sommet"},buttonTitles:{drawMarkerButton:"Placer des marqueurs",drawPolyButton:"Dessiner des polygones",drawLineButton:"Dessiner des polylignes",drawCircleButton:"Dessiner un cercle",drawRectButton:"Dessiner un rectangle",editButton:"\xC9diter des calques",dragButton:"D\xE9placer des calques",cutButton:"Couper des calques",deleteButton:"Supprimer des calques",drawCircleMarkerButton:"Dessiner un marqueur circulaire",snappingButton:"Glisser le marqueur vers d'autres couches et sommets",pinningButton:"\xC9pingler ensemble les sommets partag\xE9s",rotateButton:"Tourner des calques"}},j={tooltips:{placeMarker:"\u5355\u51FB\u653E\u7F6E\u6807\u8BB0",firstVertex:"\u5355\u51FB\u653E\u7F6E\u9996\u4E2A\u9876\u70B9",continueLine:"\u5355\u51FB\u7EE7\u7EED\u7ED8\u5236",finishLine:"\u5355\u51FB\u4EFB\u4F55\u5B58\u5728\u7684\u6807\u8BB0\u4EE5\u5B8C\u6210",finishPoly:"\u5355\u51FB\u7B2C\u4E00\u4E2A\u6807\u8BB0\u4EE5\u5B8C\u6210",finishRect:"\u5355\u51FB\u5B8C\u6210",startCircle:"\u5355\u51FB\u653E\u7F6E\u5706\u5FC3",finishCircle:"\u5355\u51FB\u5B8C\u6210\u5706\u5F62",placeCircleMarker:"\u70B9\u51FB\u653E\u7F6E\u5706\u5F62\u6807\u8BB0"},actions:{finish:"\u5B8C\u6210",cancel:"\u53D6\u6D88",removeLastVertex:"\u79FB\u9664\u6700\u540E\u7684\u9876\u70B9"},buttonTitles:{drawMarkerButton:"\u7ED8\u5236\u6807\u8BB0",drawPolyButton:"\u7ED8\u5236\u591A\u8FB9\u5F62",drawLineButton:"\u7ED8\u5236\u7EBF\u6BB5",drawCircleButton:"\u7ED8\u5236\u5706\u5F62",drawRectButton:"\u7ED8\u5236\u957F\u65B9\u5F62",editButton:"\u7F16\u8F91\u56FE\u5C42",dragButton:"\u62D6\u62FD\u56FE\u5C42",cutButton:"\u526A\u5207\u56FE\u5C42",deleteButton:"\u5220\u9664\u56FE\u5C42",drawCircleMarkerButton:"\u753B\u5706\u5708\u6807\u8BB0",snappingButton:"\u5C06\u62D6\u52A8\u7684\u6807\u8BB0\u6355\u6349\u5230\u5176\u4ED6\u56FE\u5C42\u548C\u9876\u70B9",pinningButton:"\u5C06\u5171\u4EAB\u9876\u70B9\u56FA\u5B9A\u5728\u4E00\u8D77",rotateButton:"\u65CB\u8F6C\u56FE\u5C42"}},Q={tooltips:{placeMarker:"\u55AE\u64CA\u653E\u7F6E\u6A19\u8A18",firstVertex:"\u55AE\u64CA\u653E\u7F6E\u7B2C\u4E00\u500B\u9802\u9EDE",continueLine:"\u55AE\u64CA\u7E7C\u7E8C\u7E6A\u88FD",finishLine:"\u55AE\u64CA\u4EFB\u4F55\u5B58\u5728\u7684\u6A19\u8A18\u4EE5\u5B8C\u6210",finishPoly:"\u55AE\u64CA\u7B2C\u4E00\u500B\u6A19\u8A18\u4EE5\u5B8C\u6210",finishRect:"\u55AE\u64CA\u5B8C\u6210",startCircle:"\u55AE\u64CA\u653E\u7F6E\u5713\u5FC3",finishCircle:"\u55AE\u64CA\u5B8C\u6210\u5713\u5F62",placeCircleMarker:"\u9EDE\u64CA\u653E\u7F6E\u5713\u5F62\u6A19\u8A18"},actions:{finish:"\u5B8C\u6210",cancel:"\u53D6\u6D88",removeLastVertex:"\u79FB\u9664\u6700\u5F8C\u4E00\u500B\u9802\u9EDE"},buttonTitles:{drawMarkerButton:"\u653E\u7F6E\u6A19\u8A18",drawPolyButton:"\u7E6A\u88FD\u591A\u908A\u5F62",drawLineButton:"\u7E6A\u88FD\u7DDA\u6BB5",drawCircleButton:"\u7E6A\u88FD\u5713\u5F62",drawRectButton:"\u7E6A\u88FD\u65B9\u5F62",editButton:"\u7DE8\u8F2F\u5716\u5F62",dragButton:"\u79FB\u52D5\u5716\u5F62",cutButton:"\u88C1\u5207\u5716\u5F62",deleteButton:"\u522A\u9664\u5716\u5F62",drawCircleMarkerButton:"\u756B\u5713\u5708\u6A19\u8A18",snappingButton:"\u5C07\u62D6\u52D5\u7684\u6A19\u8A18\u5C0D\u9F4A\u5230\u5176\u4ED6\u5716\u5C64\u548C\u9802\u9EDE",pinningButton:"\u5C07\u5171\u4EAB\u9802\u9EDE\u56FA\u5B9A\u5728\u4E00\u8D77",rotateButton:"\u65CB\u8F49\u5716\u5F62"}},ft={tooltips:{placeMarker:"Clique para posicionar o marcador",firstVertex:"Clique para posicionar o primeiro v\xE9rtice",continueLine:"Clique para continuar desenhando",finishLine:"Clique em qualquer marcador existente para finalizar",finishPoly:"Clique no primeiro marcador para finalizar",finishRect:"Clique para finalizar",startCircle:"Clique para posicionar o centro do c\xEDrculo",finishCircle:"Clique para finalizar o c\xEDrculo",placeCircleMarker:"Clique para posicionar o marcador circular",placeText:"Clique para inserir texto"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Remover \xFAltimo v\xE9rtice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Pol\xEDgonos",drawLineButton:"Desenhar Linha Poligonal",drawCircleButton:"Desenhar C\xEDrculo",drawRectButton:"Desenhar Ret\xE2ngulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Recortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de C\xEDrculo",snappingButton:"Ajustar marcador arrastado a outras camadas e v\xE9rtices",pinningButton:"Unir v\xE9rtices compartilhados",rotateButton:"Rotacionar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Redimensionar Camadas",autoTracingButton:"Tra\xE7ado Autom\xE1tico de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"\xC1rea",radius:"Raio",perimeter:"Per\xEDmetro",height:"Altura",width:"Largura",coordinates:"Posi\xE7\xE3o",coordinatesMarker:"Marcador de Posi\xE7\xE3o"}},kt={tooltips:{placeMarker:"Clique para colocar marcador",firstVertex:"Clique para colocar primeiro v\xE9rtice",continueLine:"Clique para continuar a desenhar",finishLine:"Clique num marcador existente para terminar",finishPoly:"Clique no primeiro marcador para terminar",finishRect:"Clique para terminar",startCircle:"Clique para colocar o centro do c\xEDrculo",finishCircle:"Clique para terminar o c\xEDrculo",placeCircleMarker:"Clique para colocar marcador de c\xEDrculo",placeText:"Clique para colocar texto"},actions:{finish:"Terminar",cancel:"Cancelar",removeLastVertex:"Remover \xDAltimo V\xE9rtice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Pol\xEDgonos",drawLineButton:"Desenhar Polilinha",drawCircleButton:"Desenhar C\xEDrculo",drawRectButton:"Desenhar Ret\xE2ngulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Cortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de C\xEDrculo",snappingButton:"Ajustar marcador arrastado a outras camadas e v\xE9rtices",pinningButton:"Unir v\xE9rtices partilhados",rotateButton:"Rodar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Escalar Camadas",autoTracingButton:"Tra\xE7ado Autom\xE1tico de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"\xC1rea",radius:"Raio",perimeter:"Per\xEDmetro",height:"Altura",width:"Largura",coordinates:"Posi\xE7\xE3o",coordinatesMarker:"Marcador de Posi\xE7\xE3o"}},Ot={tooltips:{placeMarker:"Kliknij, aby umie\u015Bci\u0107 znacznik",firstVertex:"Kliknij, aby umie\u015Bci\u0107 pierwszy wierzcho\u0142ek",continueLine:"Kliknij, aby kontynuowa\u0107 rysowanie",finishLine:"Kliknij dowolny istniej\u0105cy znacznik, aby zako\u0144czy\u0107",finishPoly:"Kliknij pierwszy znacznik, aby zako\u0144czy\u0107",finishRect:"Kliknij, aby zako\u0144czy\u0107",startCircle:"Kliknij, aby umie\u015Bci\u0107 \u015Brodek okr\u0119gu",finishCircle:"Kliknij, aby zako\u0144czy\u0107 okr\u0105g",placeCircleMarker:"Kliknij, aby umie\u015Bci\u0107 znacznik okr\u0119gu",placeText:"Kliknij, aby umie\u015Bci\u0107 tekst"},actions:{finish:"Zako\u0144cz",cancel:"Anuluj",removeLastVertex:"Usu\u0144 ostatni wierzcho\u0142ek"},buttonTitles:{drawMarkerButton:"Rysuj znacznik",drawPolyButton:"Rysuj wielok\u0105t",drawLineButton:"Rysuj lini\u0119",drawCircleButton:"Rysuj okr\u0105g",drawRectButton:"Rysuj prostok\u0105t",editButton:"Edytuj warstwy",dragButton:"Przeci\u0105gnij warstwy",cutButton:"Wytnij warstwy",deleteButton:"Usu\u0144 warstwy",drawCircleMarkerButton:"Rysuj znacznik okr\u0105g\u0142y",snappingButton:"Przyci\u0105gnij przenoszony znacznik do innych warstw i wierzcho\u0142k\xF3w",pinningButton:"Przypnij wsp\xF3lne wierzcho\u0142ki razem",rotateButton:"Obr\xF3\u0107 warstwy",drawTextButton:"Rysuj tekst",scaleButton:"Skaluj warstwy",autoTracingButton:"Automatyczne \u015Bledzenie linii"},measurements:{totalLength:"D\u0142ugo\u015B\u0107",segmentLength:"D\u0142ugo\u015B\u0107 odcinka",area:"Obszar",radius:"Promie\u0144",perimeter:"Obw\xF3d",height:"Wysoko\u015B\u0107",width:"Szeroko\u015B\u0107",coordinates:"Pozycja",coordinatesMarker:"Znacznik pozycji"}},ne={tooltips:{placeMarker:"Klicka f\xF6r att placera mark\xF6r",firstVertex:"Klicka f\xF6r att placera f\xF6rsta h\xF6rnet",continueLine:"Klicka f\xF6r att forts\xE4tta rita",finishLine:"Klicka p\xE5 en existerande punkt f\xF6r att slutf\xF6ra",finishPoly:"Klicka p\xE5 den f\xF6rsta punkten f\xF6r att slutf\xF6ra",finishRect:"Klicka f\xF6r att slutf\xF6ra",startCircle:"Klicka f\xF6r att placera cirkelns centrum",finishCircle:"Klicka f\xF6r att slutf\xF6ra cirkeln",placeCircleMarker:"Klicka f\xF6r att placera cirkelmark\xF6r"},actions:{finish:"Slutf\xF6r",cancel:"Avbryt",removeLastVertex:"Ta bort sista h\xF6rnet"},buttonTitles:{drawMarkerButton:"Rita Mark\xF6r",drawPolyButton:"Rita Polygoner",drawLineButton:"Rita Linje",drawCircleButton:"Rita Cirkel",drawRectButton:"Rita Rektangel",editButton:"Redigera Lager",dragButton:"Dra Lager",cutButton:"Klipp i Lager",deleteButton:"Ta bort Lager",drawCircleMarkerButton:"Rita Cirkelmark\xF6r",snappingButton:"Sn\xE4pp dra mark\xF6ren till andra lager och h\xF6rn",pinningButton:"F\xE4st delade h\xF6rn tillsammans",rotateButton:"Rotera lagret"}},Pe={tooltips:{placeMarker:"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u0394\u03B5\u03AF\u03BA\u03C4\u03B7",firstVertex:"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u03C4\u03BF \u03C0\u03C1\u03CE\u03C4\u03BF \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF",continueLine:"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C3\u03C5\u03BD\u03B5\u03C7\u03AF\u03C3\u03B5\u03C4\u03B5 \u03BD\u03B1 \u03C3\u03C7\u03B5\u03B4\u03B9\u03AC\u03B6\u03B5\u03C4\u03B5",finishLine:"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03C3\u03B5 \u03BF\u03C0\u03BF\u03B9\u03BF\u03BD\u03B4\u03AE\u03C0\u03BF\u03C4\u03B5 \u03C5\u03C0\u03AC\u03C1\u03C7\u03BF\u03BD \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03BF\u03BB\u03BF\u03BA\u03BB\u03B7\u03C1\u03C9\u03B8\u03B5\u03AF",finishPoly:"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03C3\u03C4\u03BF \u03C0\u03C1\u03CE\u03C4\u03BF \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03B5\u03BB\u03B5\u03B9\u03CE\u03C3\u03B5\u03C4\u03B5",finishRect:"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03B5\u03BB\u03B5\u03B9\u03CE\u03C3\u03B5\u03C4\u03B5",startCircle:"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u03BA\u03AD\u03BD\u03C4\u03C1\u03BF \u039A\u03CD\u03BA\u03BB\u03BF\u03C5",finishCircle:"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03BF\u03BB\u03BF\u03BA\u03BB\u03B7\u03C1\u03CE\u03C3\u03B5\u03C4\u03B5 \u03C4\u03BF\u03BD \u039A\u03CD\u03BA\u03BB\u03BF",placeCircleMarker:"\u039A\u03AC\u03BD\u03C4\u03B5 \u03BA\u03BB\u03B9\u03BA \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03C4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C4\u03AE\u03C3\u03B5\u03C4\u03B5 \u039A\u03C5\u03BA\u03BB\u03B9\u03BA\u03CC \u0394\u03B5\u03AF\u03BA\u03C4\u03B7"},actions:{finish:"\u03A4\u03AD\u03BB\u03BF\u03C2",cancel:"\u0391\u03BA\u03CD\u03C1\u03C9\u03C3\u03B7",removeLastVertex:"\u039A\u03B1\u03C4\u03AC\u03C1\u03B3\u03B7\u03C3\u03B7 \u03C4\u03B5\u03BB\u03B5\u03C5\u03C4\u03B1\u03AF\u03BF\u03C5 \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF\u03C5"},buttonTitles:{drawMarkerButton:"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u0394\u03B5\u03AF\u03BA\u03C4\u03B7",drawPolyButton:"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u03A0\u03BF\u03BB\u03C5\u03B3\u03CE\u03BD\u03BF\u03C5",drawLineButton:"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u0393\u03C1\u03B1\u03BC\u03BC\u03AE\u03C2",drawCircleButton:"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u039A\u03CD\u03BA\u03BB\u03BF\u03C5",drawRectButton:"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u039F\u03C1\u03B8\u03BF\u03B3\u03C9\u03BD\u03AF\u03BF\u03C5",editButton:"\u0395\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03AF\u03B1 \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD",dragButton:"\u039C\u03B5\u03C4\u03B1\u03C6\u03BF\u03C1\u03AC \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD",cutButton:"\u0391\u03C0\u03BF\u03BA\u03BF\u03C0\u03AE \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD",deleteButton:"\u039A\u03B1\u03C4\u03AC\u03C1\u03B3\u03B7\u03C3\u03B7 \u0395\u03C0\u03B9\u03C0\u03AD\u03B4\u03C9\u03BD",drawCircleMarkerButton:"\u03A3\u03C7\u03B5\u03B4\u03AF\u03B1\u03C3\u03B7 \u039A\u03C5\u03BA\u03BB\u03B9\u03BA\u03BF\u03CD \u0394\u03B5\u03AF\u03BA\u03C4\u03B7",snappingButton:"\u03A0\u03C1\u03BF\u03C3\u03BA\u03CC\u03BB\u03BB\u03B7\u03C3\u03B7 \u03C4\u03BF\u03C5 \u0394\u03B5\u03AF\u03BA\u03C4\u03B7 \u03BC\u03B5\u03C4\u03B1\u03C6\u03BF\u03C1\u03AC\u03C2 \u03C3\u03B5 \u03AC\u03BB\u03BB\u03B1 \u0395\u03C0\u03AF\u03C0\u03B5\u03B4\u03B1 \u03BA\u03B1\u03B9 \u039A\u03BF\u03C1\u03C5\u03C6\u03AD\u03C2",pinningButton:"\u03A0\u03B5\u03C1\u03B9\u03BA\u03BF\u03C0\u03AE \u03BA\u03BF\u03B9\u03BD\u03CE\u03BD \u03BA\u03BF\u03C1\u03C5\u03C6\u03CE\u03BD \u03BC\u03B1\u03B6\u03AF",rotateButton:"\u03A0\u03B5\u03C1\u03B9\u03C3\u03C4\u03C1\u03AD\u03C8\u03C4\u03B5 \u03C4\u03BF \u03C3\u03C4\u03C1\u03CE\u03BC\u03B1"}},Be={tooltips:{placeMarker:"Kattintson a jel\xF6l\u0151 elhelyez\xE9s\xE9hez",firstVertex:"Kattintson az els\u0151 pont elhelyez\xE9s\xE9hez",continueLine:"Kattintson a k\xF6vetkez\u0151 pont elhelyez\xE9s\xE9hez",finishLine:"A befejez\xE9shez kattintson egy megl\xE9v\u0151 pontra",finishPoly:"A befejez\xE9shez kattintson az els\u0151 pontra",finishRect:"Kattintson a befejez\xE9shez",startCircle:"Kattintson a k\xF6r k\xF6z\xE9ppontj\xE1nak elhelyez\xE9s\xE9hez",finishCircle:"Kattintson a k\xF6r befejez\xE9s\xE9hez",placeCircleMarker:"Kattintson a k\xF6rjel\xF6l\u0151 elhelyez\xE9s\xE9hez"},actions:{finish:"Befejez\xE9s",cancel:"M\xE9gse",removeLastVertex:"Utols\xF3 pont elt\xE1vol\xEDt\xE1sa"},buttonTitles:{drawMarkerButton:"Jel\xF6l\u0151 rajzol\xE1sa",drawPolyButton:"Poligon rajzol\xE1sa",drawLineButton:"Vonal rajzol\xE1sa",drawCircleButton:"K\xF6r rajzol\xE1sa",drawRectButton:"N\xE9gyzet rajzol\xE1sa",editButton:"Elemek szerkeszt\xE9se",dragButton:"Elemek mozgat\xE1sa",cutButton:"Elemek v\xE1g\xE1sa",deleteButton:"Elemek t\xF6rl\xE9se",drawCircleMarkerButton:"K\xF6r jel\xF6l\u0151 rajzol\xE1sa",snappingButton:"Kapcsolja a jel\xF6lt\u0151t m\xE1sik elemhez vagy ponthoz",pinningButton:"K\xF6z\xF6s pontok \xF6sszek\xF6t\xE9se",rotateButton:"F\xF3lia elforgat\xE1sa"}},Ne={tooltips:{placeMarker:"Tryk for at placere en mark\xF8r",firstVertex:"Tryk for at placere det f\xF8rste punkt",continueLine:"Tryk for at forts\xE6tte linjen",finishLine:"Tryk p\xE5 et eksisterende punkt for at afslutte",finishPoly:"Tryk p\xE5 det f\xF8rste punkt for at afslutte",finishRect:"Tryk for at afslutte",startCircle:"Tryk for at placere cirklens center",finishCircle:"Tryk for at afslutte cirklen",placeCircleMarker:"Tryk for at placere en cirkelmark\xF8r"},actions:{finish:"Afslut",cancel:"Afbryd",removeLastVertex:"Fjern sidste punkt"},buttonTitles:{drawMarkerButton:"Placer mark\xF8r",drawPolyButton:"Tegn polygon",drawLineButton:"Tegn linje",drawCircleButton:"Tegn cirkel",drawRectButton:"Tegn firkant",editButton:"Rediger",dragButton:"Tr\xE6k",cutButton:"Klip",deleteButton:"Fjern",drawCircleMarkerButton:"Tegn cirkelmark\xF8r",snappingButton:"Fastg\xF8r trukket mark\xF8r til andre elementer",pinningButton:"Sammenl\xE6g delte elementer",rotateButton:"Roter laget"}},Ge={tooltips:{placeMarker:"Klikk for \xE5 plassere punkt",firstVertex:"Klikk for \xE5 plassere f\xF8rste punkt",continueLine:"Klikk for \xE5 tegne videre",finishLine:"Klikk p\xE5 et eksisterende punkt for \xE5 fullf\xF8re",finishPoly:"Klikk f\xF8rste punkt for \xE5 fullf\xF8re",finishRect:"Klikk for \xE5 fullf\xF8re",startCircle:"Klikk for \xE5 sette sirkel midtpunkt",finishCircle:"Klikk for \xE5 fullf\xF8re sirkel",placeCircleMarker:"Klikk for \xE5 plassere sirkel",placeText:"Klikk for \xE5 plassere tekst"},actions:{finish:"Fullf\xF8r",cancel:"Kanseller",removeLastVertex:"Fjern forrige punkt"},buttonTitles:{drawMarkerButton:"Tegn punkt",drawPolyButton:"Tegn flate",drawLineButton:"Tegn linje",drawCircleButton:"Tegn sirkel",drawRectButton:"Tegn rektangel",editButton:"Rediger objekter",dragButton:"Dra objekter",cutButton:"Kutt objekter",deleteButton:"Fjern objekter",drawCircleMarkerButton:"Tegn sirkel-punkt",snappingButton:"Fest dratt punkt til andre objekter og punkt",pinningButton:"Pin delte punkter sammen",rotateButton:"Rot\xE9r objekter",drawTextButton:"Tegn tekst",scaleButton:"Skal\xE9r objekter",autoTracingButton:"Automatisk sporing av linje"},measurements:{totalLength:"Lengde",segmentLength:"Segmentlengde",area:"Omr\xE5de",radius:"Radius",perimeter:"Omriss",height:"H\xF8yde",width:"Bredde",coordinates:"Posisjon",coordinatesMarker:"Posisjonsmark\xF8r"}},Jr={tooltips:{placeMarker:"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u062C\u0627\u0646\u0645\u0627\u06CC\u06CC \u0646\u0634\u0627\u0646",firstVertex:"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0631\u0633\u0645 \u0627\u0648\u0644\u06CC\u0646 \u0631\u0623\u0633",continueLine:"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0627\u062F\u0627\u0645\u0647 \u0631\u0633\u0645",finishLine:"\u06A9\u0644\u06CC\u06A9 \u0631\u0648\u06CC \u0647\u0631 \u0646\u0634\u0627\u0646 \u0645\u0648\u062C\u0648\u062F \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646",finishPoly:"\u06A9\u0644\u06CC\u06A9 \u0631\u0648\u06CC \u0627\u0648\u0644\u06CC\u0646 \u0646\u0634\u0627\u0646 \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646",finishRect:"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646",startCircle:"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0631\u0633\u0645 \u0645\u0631\u06A9\u0632 \u062F\u0627\u06CC\u0631\u0647",finishCircle:"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u067E\u0627\u06CC\u0627\u0646 \u0631\u0633\u0645 \u062F\u0627\u06CC\u0631\u0647",placeCircleMarker:"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0631\u0633\u0645 \u0646\u0634\u0627\u0646 \u062F\u0627\u06CC\u0631\u0647",placeText:"\u06A9\u0644\u06CC\u06A9 \u0628\u0631\u0627\u06CC \u0646\u0648\u0634\u062A\u0646 \u0645\u062A\u0646"},actions:{finish:"\u067E\u0627\u06CC\u0627\u0646",cancel:"\u0644\u0641\u0648",removeLastVertex:"\u062D\u0630\u0641 \u0622\u062E\u0631\u06CC\u0646 \u0631\u0623\u0633"},buttonTitles:{drawMarkerButton:"\u062F\u0631\u062C \u0646\u0634\u0627\u0646",drawPolyButton:"\u0631\u0633\u0645 \u0686\u0646\u062F\u0636\u0644\u0639\u06CC",drawLineButton:"\u0631\u0633\u0645 \u062E\u0637",drawCircleButton:"\u0631\u0633\u0645 \u062F\u0627\u06CC\u0631\u0647",drawRectButton:"\u0631\u0633\u0645 \u0686\u0647\u0627\u0631\u0636\u0644\u0639\u06CC",editButton:"\u0648\u06CC\u0631\u0627\u06CC\u0634 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627",dragButton:"\u062C\u0627\u0628\u062C\u0627\u06CC\u06CC \u0644\u0627\u06CC\u0647\u200C\u0647\u0627",cutButton:"\u0628\u0631\u0634 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627",deleteButton:"\u062D\u0630\u0641 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627",drawCircleMarkerButton:"\u0631\u0633\u0645 \u0646\u0634\u0627\u0646 \u062F\u0627\u06CC\u0631\u0647",snappingButton:"\u0646\u0634\u0627\u0646\u06AF\u0631 \u0631\u0627 \u0628\u0647 \u0644\u0627\u06CC\u0647\u200C\u0647\u0627 \u0648 \u0631\u0626\u0648\u0633 \u062F\u06CC\u06AF\u0631 \u0628\u06A9\u0634\u06CC\u062F",pinningButton:"\u0631\u0626\u0648\u0633 \u0645\u0634\u062A\u0631\u06A9 \u0631\u0627 \u0628\u0627 \u0647\u0645 \u067E\u06CC\u0646 \u06A9\u0646\u06CC\u062F",rotateButton:"\u0686\u0631\u062E\u0634 \u0644\u0627\u06CC\u0647",drawTextButton:"\u0631\u0633\u0645 \u0645\u062A\u0646",scaleButton:"\u0645\u0642\u06CC\u0627\u0633\u200C\u06AF\u0630\u0627\u0631\u06CC",autoTracingButton:"\u0631\u062F\u06CC\u0627\u0628 \u062E\u0648\u062F\u06A9\u0627\u0631"},measurements:{totalLength:"\u0637\u0648\u0644",segmentLength:"\u0637\u0648\u0644 \u0628\u062E\u0634",area:"\u0646\u0627\u062D\u06CC\u0647",radius:"\u0634\u0639\u0627\u0639",perimeter:"\u0645\u062D\u06CC\u0637",height:"\u0627\u0631\u062A\u0641\u0627\u0639",width:"\u0639\u0631\u0636",coordinates:"\u0645\u0648\u0642\u0639\u06CC\u062A",coordinatesMarker:"\u0645\u0648\u0642\u0639\u06CC\u062A \u0646\u0634\u0627\u0646"}},Er={tooltips:{placeMarker:"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043C\u0430\u0440\u043A\u0435\u0440",firstVertex:"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043F\u0435\u0440\u0448\u0443 \u0432\u0435\u0440\u0448\u0438\u043D\u0443",continueLine:"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043F\u0440\u043E\u0434\u043E\u0432\u0436\u0438\u0442\u0438 \u043C\u0430\u043B\u044E\u0432\u0430\u0442\u0438",finishLine:"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C \u0431\u0443\u0434\u044C-\u044F\u043A\u0438\u0439 \u0456\u0441\u043D\u0443\u044E\u0447\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u0434\u043B\u044F \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u043D\u044F",finishPoly:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044C \u043F\u0435\u0440\u0448\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440, \u0449\u043E\u0431 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438",finishRect:"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438",startCircle:"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u0434\u043E\u0434\u0430\u0442\u0438 \u0446\u0435\u043D\u0442\u0440 \u043A\u043E\u043B\u0430",finishCircle:"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438 \u043A\u043E\u043B\u043E",placeCircleMarker:"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C, \u0449\u043E\u0431 \u043D\u0430\u043D\u0435\u0441\u0442\u0438 \u043A\u0440\u0443\u0433\u043E\u0432\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440"},actions:{finish:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0438",cancel:"\u0412\u0456\u0434\u043C\u0456\u043D\u0438\u0442\u0438",removeLastVertex:"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u043F\u043E\u043F\u0435\u0440\u0435\u0434\u043D\u044E \u0432\u0435\u0440\u0448\u0438\u043D\u0443"},buttonTitles:{drawMarkerButton:"\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043C\u0430\u0440\u043A\u0435\u0440",drawPolyButton:"\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043F\u043E\u043B\u0456\u0433\u043E\u043D",drawLineButton:"\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043A\u0440\u0438\u0432\u0443",drawCircleButton:"\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043A\u043E\u043B\u043E",drawRectButton:"\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043F\u0440\u044F\u043C\u043E\u043A\u0443\u0442\u043D\u0438\u043A",editButton:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0448\u0430\u0440\u0438",dragButton:"\u041F\u0435\u0440\u0435\u043D\u0435\u0441\u0442\u0438 \u0448\u0430\u0440\u0438",cutButton:"\u0412\u0438\u0440\u0456\u0437\u0430\u0442\u0438 \u0448\u0430\u0440\u0438",deleteButton:"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438 \u0448\u0430\u0440\u0438",drawCircleMarkerButton:"\u041C\u0430\u043B\u044E\u0432\u0430\u0442\u0438 \u043A\u0440\u0443\u0433\u043E\u0432\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440",snappingButton:"\u041F\u0440\u0438\u0432\u2019\u044F\u0437\u0430\u0442\u0438 \u043F\u0435\u0440\u0435\u0442\u044F\u0433\u043D\u0443\u0442\u0438\u0439 \u043C\u0430\u0440\u043A\u0435\u0440 \u0434\u043E \u0456\u043D\u0448\u0438\u0445 \u0448\u0430\u0440\u0456\u0432 \u0442\u0430 \u0432\u0435\u0440\u0448\u0438\u043D",pinningButton:"\u0417\u0432'\u044F\u0437\u0430\u0442\u0438 \u0441\u043F\u0456\u043B\u044C\u043D\u0456 \u0432\u0435\u0440\u0448\u0438\u043D\u0438 \u0440\u0430\u0437\u043E\u043C",rotateButton:"\u041F\u043E\u0432\u0435\u0440\u043D\u0443\u0442\u0438 \u0448\u0430\u0440"}},Sa={tooltips:{placeMarker:"\u0130\u015Faret\xE7i yerle\u015Ftirmek i\xE7in t\u0131klay\u0131n",firstVertex:"\u0130lk tepe noktas\u0131n\u0131 yerle\u015Ftirmek i\xE7in t\u0131klay\u0131n",continueLine:"\xC7izime devam etmek i\xE7in t\u0131klay\u0131n",finishLine:"Bitirmek i\xE7in mevcut herhangi bir i\u015Faret\xE7iyi t\u0131klay\u0131n",finishPoly:"Bitirmek i\xE7in ilk i\u015Faret\xE7iyi t\u0131klay\u0131n",finishRect:"Bitirmek i\xE7in t\u0131klay\u0131n",startCircle:"Daire merkezine yerle\u015Ftirmek i\xE7in t\u0131klay\u0131n",finishCircle:"Daireyi bitirmek i\xE7in t\u0131klay\u0131n",placeCircleMarker:"Daire i\u015Faret\xE7isi yerle\u015Ftirmek i\xE7in t\u0131klay\u0131n"},actions:{finish:"Bitir",cancel:"\u0130ptal",removeLastVertex:"Son k\xF6\u015Feyi kald\u0131r"},buttonTitles:{drawMarkerButton:"\xC7izim \u0130\u015Faret\xE7isi",drawPolyButton:"\xC7okgenler \xE7iz",drawLineButton:"\xC7oklu \xE7izgi \xE7iz",drawCircleButton:"\xC7ember \xE7iz",drawRectButton:"Dikd\xF6rtgen \xE7iz",editButton:"Katmanlar\u0131 d\xFCzenle",dragButton:"Katmanlar\u0131 s\xFCr\xFCkle",cutButton:"Katmanlar\u0131 kes",deleteButton:"Katmanlar\u0131 kald\u0131r",drawCircleMarkerButton:"Daire i\u015Faret\xE7isi \xE7iz",snappingButton:"S\xFCr\xFCklenen i\u015Faret\xE7iyi di\u011Fer katmanlara ve k\xF6\u015Felere yap\u0131\u015Ft\u0131r",pinningButton:"Payla\u015F\u0131lan k\xF6\u015Feleri birbirine sabitle",rotateButton:"Katman\u0131 d\xF6nd\xFCr"}},ee={tooltips:{placeMarker:"Kliknut\xEDm vytvo\u0159\xEDte zna\u010Dku",firstVertex:"Kliknut\xEDm vytvo\u0159\xEDte prvn\xED objekt",continueLine:"Kliknut\xEDm pokra\u010Dujte v kreslen\xED",finishLine:"Kliknut\xED na libovolnou existuj\xEDc\xED zna\u010Dku pro dokon\u010Den\xED",finishPoly:"Vyberte prvn\xED bod pro dokon\u010Den\xED",finishRect:"Klikn\u011Bte pro dokon\u010Den\xED",startCircle:"Kliknut\xEDm p\u0159idejte st\u0159ed kruhu",finishCircle:"\u041D\u0430\u0436\u043C\u0438\u0442\u0435, \u0447\u0442\u043E\u0431\u044B \u0437\u0430\u0434\u0430\u0442\u044C \u0440\u0430\u0434\u0438\u0443\u0441",placeCircleMarker:"Kliknut\xEDm nastavte polom\u011Br"},actions:{finish:"Dokon\u010Dit",cancel:"Zru\u0161it",removeLastVertex:"Zru\u0161it posledn\xED akci"},buttonTitles:{drawMarkerButton:"P\u0159idat zna\u010Dku",drawPolyButton:"Nakreslit polygon",drawLineButton:"Nakreslit k\u0159ivku",drawCircleButton:"Nakreslit kruh",drawRectButton:"Nakreslit obd\xE9ln\xEDk",editButton:"Upravit vrstvu",dragButton:"P\u0159eneste vrstvu",cutButton:"Vyjmout vrstvu",deleteButton:"Smazat vrstvu",drawCircleMarkerButton:"P\u0159idat kruhovou zna\u010Dku",snappingButton:"Nav\xE1zat ta\u017Enou zna\u010Dku k dal\u0161\xEDm vrstv\xE1m a vrchol\u016Fm",pinningButton:"Spojit spole\u010Dn\xE9 body dohromady",rotateButton:"Oto\u010Dte vrstvu"}},Li={tooltips:{placeMarker:"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u30DE\u30FC\u30AB\u30FC\u3092\u914D\u7F6E",firstVertex:"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u6700\u521D\u306E\u9802\u70B9\u3092\u914D\u7F6E",continueLine:"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u63CF\u753B\u3092\u7D9A\u3051\u308B",finishLine:"\u4EFB\u610F\u306E\u30DE\u30FC\u30AB\u30FC\u3092\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u7D42\u4E86",finishPoly:"\u6700\u521D\u306E\u30DE\u30FC\u30AB\u30FC\u3092\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u7D42\u4E86",finishRect:"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u7D42\u4E86",startCircle:"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u5186\u306E\u4E2D\u5FC3\u3092\u914D\u7F6E",finishCircle:"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u5186\u306E\u63CF\u753B\u3092\u7D42\u4E86",placeCircleMarker:"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u5186\u30DE\u30FC\u30AB\u30FC\u3092\u914D\u7F6E",placeText:"\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u30C6\u30AD\u30B9\u30C8\u3092\u914D\u7F6E"},actions:{finish:"\u7D42\u4E86",cancel:"\u30AD\u30E3\u30F3\u30BB\u30EB",removeLastVertex:"\u6700\u5F8C\u306E\u9802\u70B9\u3092\u524A\u9664"},buttonTitles:{drawMarkerButton:"\u30DE\u30FC\u30AB\u30FC\u3092\u63CF\u753B",drawPolyButton:"\u30DD\u30EA\u30B4\u30F3\u3092\u63CF\u753B",drawLineButton:"\u6298\u308C\u7DDA\u3092\u63CF\u753B",drawCircleButton:"\u5186\u3092\u63CF\u753B",drawRectButton:"\u77E9\u5F62\u3092\u63CF\u753B",editButton:"\u30EC\u30A4\u30E4\u30FC\u3092\u7DE8\u96C6",dragButton:"\u30EC\u30A4\u30E4\u30FC\u3092\u30C9\u30E9\u30C3\u30B0",cutButton:"\u30EC\u30A4\u30E4\u30FC\u3092\u5207\u308A\u53D6\u308A",deleteButton:"\u30EC\u30A4\u30E4\u30FC\u3092\u524A\u9664",drawCircleMarkerButton:"\u5186\u30DE\u30FC\u30AB\u30FC\u3092\u63CF\u753B",snappingButton:"\u30C9\u30E9\u30C3\u30B0\u3057\u305F\u30DE\u30FC\u30AB\u30FC\u3092\u4ED6\u306E\u30EC\u30A4\u30E4\u30FC\u3084\u9802\u70B9\u306B\u30B9\u30CA\u30C3\u30D7\u3059\u308B",pinningButton:"\u5171\u6709\u3059\u308B\u9802\u70B9\u3092\u540C\u6642\u306B\u52D5\u304B\u3059",rotateButton:"\u30EC\u30A4\u30E4\u30FC\u3092\u56DE\u8EE2",drawTextButton:"\u30C6\u30AD\u30B9\u30C8\u3092\u63CF\u753B"}},Ce={tooltips:{placeMarker:"Klikkaa asettaaksesi merkin",firstVertex:"Klikkaa asettaakseni ensimm\xE4isen osuuden",continueLine:"Klikkaa jatkaaksesi piirt\xE4mist\xE4",finishLine:"Klikkaa olemassa olevaa merkki\xE4 lopettaaksesi",finishPoly:"Klikkaa ensimm\xE4ist\xE4 merkki\xE4 lopettaaksesi",finishRect:"Klikkaa lopettaaksesi",startCircle:"Klikkaa asettaaksesi ympyr\xE4n keskipisteen",finishCircle:"Klikkaa lopettaaksesi ympyr\xE4n",placeCircleMarker:"Klikkaa asettaaksesi ympyr\xE4merkin",placeText:"Klikkaa asettaaksesi tekstin"},actions:{finish:"Valmis",cancel:"Peruuta",removeLastVertex:"Poista viimeinen osuus"},buttonTitles:{drawMarkerButton:"Piirr\xE4 merkkej\xE4",drawPolyButton:"Piirr\xE4 monikulmioita",drawLineButton:"Piirr\xE4 viivoja",drawCircleButton:"Piirr\xE4 ympyr\xE4",drawRectButton:"Piirr\xE4 neliskulmioita",editButton:"Muokkaa",dragButton:"Siirr\xE4",cutButton:"Leikkaa",deleteButton:"Poista",drawCircleMarkerButton:"Piirr\xE4 ympyr\xE4merkki",snappingButton:"Kiinnit\xE4 siirrett\xE4v\xE4 merkki toisiin muotoihin",pinningButton:"Kiinnit\xE4 jaetut muodot yhteen",rotateButton:"K\xE4\xE4nn\xE4",drawTextButton:"Piirr\xE4 teksti\xE4"}},ta={tooltips:{placeMarker:"\uB9C8\uCEE4 \uC704\uCE58\uB97C \uD074\uB9AD\uD558\uC138\uC694",firstVertex:"\uCCAB\uBC88\uC9F8 \uAF2D\uC9C0\uC810 \uC704\uCE58\uC744 \uD074\uB9AD\uD558\uC138\uC694",continueLine:"\uACC4\uC18D \uADF8\uB9AC\uB824\uBA74 \uD074\uB9AD\uD558\uC138\uC694",finishLine:"\uB05D\uB0B4\uB824\uBA74 \uAE30\uC874 \uB9C8\uCEE4\uB97C \uD074\uB9AD\uD558\uC138\uC694",finishPoly:"\uB05D\uB0B4\uB824\uBA74 \uCC98\uC74C \uB9C8\uCEE4\uB97C \uD074\uB9AD\uD558\uC138\uC694",finishRect:"\uB05D\uB0B4\uB824\uBA74 \uD074\uB9AD\uD558\uC138\uC694",startCircle:"\uC6D0\uC758 \uC911\uC2EC\uC774 \uB420 \uC704\uCE58\uB97C \uD074\uB9AD\uD558\uC138\uC694",finishCircle:"\uC6D0\uC744 \uB05D\uB0B4\uB824\uBA74 \uD074\uB9AD\uD558\uC138\uC694",placeCircleMarker:"\uC6D0 \uB9C8\uCEE4 \uC704\uCE58\uB97C \uD074\uB9AD\uD558\uC138\uC694",placeText:"\uD14D\uC2A4\uD2B8 \uC704\uCE58\uB97C \uD074\uB9AD\uD558\uC138\uC694"},actions:{finish:"\uB05D\uB0B4\uAE30",cancel:"\uCDE8\uC18C",removeLastVertex:"\uB9C8\uC9C0\uB9C9 \uAF2D\uC9C0\uC810 \uC81C\uAC70"},buttonTitles:{drawMarkerButton:"\uB9C8\uCEE4 \uADF8\uB9AC\uAE30",drawPolyButton:"\uB2E4\uAC01\uD615 \uADF8\uB9AC\uAE30",drawLineButton:"\uB2E4\uAC01\uC120 \uADF8\uB9AC\uAE30",drawCircleButton:"\uC6D0 \uADF8\uB9AC\uAE30",drawRectButton:"\uC9C1\uC0AC\uAC01\uD615 \uADF8\uB9AC\uAE30",editButton:"\uB808\uC774\uC5B4 \uD3B8\uC9D1\uD558\uAE30",dragButton:"\uB808\uC774\uC5B4 \uB04C\uAE30",cutButton:"\uB808\uC774\uC5B4 \uC790\uB974\uAE30",deleteButton:"\uB808\uC774\uC5B4 \uC81C\uAC70\uD558\uAE30",drawCircleMarkerButton:"\uC6D0 \uB9C8\uCEE4 \uADF8\uB9AC\uAE30",snappingButton:"\uC7A1\uC544\uB048 \uB9C8\uCEE4\uB97C \uB2E4\uB978 \uB808\uC774\uC5B4 \uBC0F \uAF2D\uC9C0\uC810\uC5D0 \uB4E4\uB7EC\uBD99\uAC8C \uD558\uAE30",pinningButton:"\uACF5\uC720 \uAF2D\uC9C0\uC810\uC744 \uD568\uAED8 \uCC0D\uAE30",rotateButton:"\uB808\uC774\uC5B4 \uD68C\uC804\uD558\uAE30",drawTextButton:"\uD14D\uC2A4\uD2B8 \uADF8\uB9AC\uAE30"}},Br={tooltips:{placeMarker:"\u041C\u0430\u0440\u043A\u0435\u0440\u0434\u0438 \u0436\u0430\u0439\u0433\u0430\u0448\u0442\u044B\u0440\u0443\u0443 \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437",firstVertex:"\u0411\u0438\u0440\u0438\u043D\u0447\u0438 \u0447\u043E\u043A\u0443\u043D\u0443 \u0436\u0430\u0439\u0433\u0430\u0448\u0442\u044B\u0440\u0443\u0443\u043D\u0443 \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437",continueLine:"\u0421\u04AF\u0440\u04E9\u0442 \u0442\u0430\u0440\u0442\u0443\u0443\u043D\u0443 \u0443\u043B\u0430\u043D\u0442\u0443\u0443 \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437",finishLine:"\u0410\u044F\u043A\u0442\u043E\u043E \u04AF\u0447\u04AF\u043D \u0443\u0447\u0443\u0440\u0434\u0430\u0433\u044B \u043C\u0430\u0440\u043A\u0435\u0440\u0434\u0438 \u0431\u0430\u0441\u044B\u04A3\u044B\u0437",finishPoly:"\u0411\u04AF\u0442\u04AF\u0440\u04AF\u04AF \u04AF\u0447\u04AF\u043D \u0431\u0438\u0440\u0438\u043D\u0447\u0438 \u043C\u0430\u0440\u043A\u0435\u0440\u0434\u0438 \u0431\u0430\u0441\u044B\u04A3\u044B\u0437",finishRect:"\u0411\u04AF\u0442\u04AF\u0440\u04AF\u04AF \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437",startCircle:"\u0410\u0439\u043B\u0430\u043D\u0430\u043D\u044B\u043D \u0431\u043E\u0440\u0431\u043E\u0440\u0443\u043D \u0436\u0430\u0439\u0433\u0430\u0448\u0442\u044B\u0440\u0443\u0443\u043D\u0443 \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437",finishCircle:"\u0410\u0439\u043B\u0430\u043D\u0430\u043D\u044B \u0431\u04AF\u0442\u04AF\u0440\u04AF\u04AF \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437",placeCircleMarker:"\u0422\u0435\u0433\u0435\u0440\u0435\u043A \u043C\u0430\u0440\u043A\u0435\u0440\u0434\u0438 \u0436\u0430\u0439\u0433\u0430\u0448\u0442\u044B\u0440\u0443\u0443 \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437",placeText:"\u0422\u0435\u043A\u0441\u0442\u0442\u0438 \u0436\u0430\u0439\u0433\u0430\u0448\u0442\u044B\u0440\u0443\u0443 \u04AF\u0447\u04AF\u043D \u0431\u0430\u0441\u044B\u04A3\u044B\u0437"},actions:{finish:"\u0410\u044F\u0433\u044B",cancel:"\u0416\u043E\u043A \u043A\u044B\u043B\u0443\u0443",removeLastVertex:"\u0410\u043A\u044B\u0440\u043A\u044B \u0447\u043E\u043A\u0443\u043D\u0443 \u04E9\u0447\u04AF\u0440\u04AF\u04AF"},buttonTitles:{drawMarkerButton:"\u041C\u0430\u0440\u043A\u0435\u0440\u0434\u0438 \u0447\u0438\u0437\u0443\u0443",drawPolyButton:"\u041F\u043E\u043B\u0438\u0433\u043E\u043D \u0447\u0438\u0437\u0443\u0443",drawLineButton:"\u041F\u043E\u043B\u0438\u043B\u0438\u043D\u0438\u044F \u0447\u0438\u0437\u0443\u0443",drawCircleButton:"\u0414\u0430\u0439\u044B\u043D\u0434\u044B \u0447\u0438\u0437\u0443\u0443",drawRectButton:"\u041F\u0440\u044F\u043C\u043E\u0443\u0433\u043E\u043B\u044C\u043D\u0438\u043A \u0447\u0438\u0437\u0443\u0443",editButton:"\u0421\u043B\u043E\u043E\u043F\u0442\u0443 \u0442\u04AF\u0437\u04E9\u0442\u04AF\u04AF",dragButton:"\u0421\u043B\u043E\u043E\u043F\u0442\u0443 \u043A\u0430\u0440\u0430\u043F \u0441\u04AF\u0439\u043B\u04E9\u04AF",cutButton:"\u0421\u043B\u043E\u043E\u043F\u0442\u0443\u043D \u0431\u0430\u0448\u044B\u043D \u043A\u0435\u0441\u04AF\u04AF",deleteButton:"\u0421\u043B\u043E\u043E\u043F\u0442\u0443\u043D \u04E9\u0447\u04AF\u0440\u04AF\u04AF",drawCircleMarkerButton:"\u0414\u0430\u0439\u044B\u043D\u0434\u044B \u043C\u0430\u0440\u043A\u0435\u0440\u0434\u0438 \u0447\u0438\u0437\u0443\u0443",snappingButton:"\u0411\u0430\u0448\u043A\u0430 \u0441\u043B\u043E\u043E\u043F\u0442\u043E\u0440\u0434\u0443\u043D \u0436\u0430\u043D\u0430 \u0432\u0435\u0440\u0442\u0435\u043A\u0441\u0442\u0435\u0440\u0434\u0438\u043D \u0430\u0440\u0430\u0441\u044B\u043D\u0430 \u0447\u0435\u043A\u0438\u043B\u0434\u04E9\u04E9",pinningButton:"\u0411\u04E9\u043B\u04AF\u0448\u043A\u04E9\u043D \u0432\u0435\u0440\u0442\u0435\u043A\u0441\u0442\u0435\u0440\u0434\u0438 \u0431\u0438\u0440\u0433\u0435 \u0442\u0443\u0442\u0443\u0448\u0442\u0443\u0440\u0443\u0443",rotateButton:"\u0421\u043B\u043E\u043E\u043F\u0442\u0443\u043D \u04E9\u0437\u0433\u04E9\u0440\u0442\u04AF\u04AF",drawTextButton:"\u0422\u0435\u043A\u0441\u0442 \u0447\u0438\u0437\u0443\u0443",scaleButton:"\u0421\u043B\u043E\u043E\u043F\u0442\u0443\u043D \u04E9\u043B\u0447\u04E9\u043C\u04AF\u043D \u04E9\u0437\u0433\u04E9\u0440\u0442\u04AF\u04AF",autoTracingButton:"\u0410\u0432\u0442\u043E\u043C\u0430\u0442\u0442\u044B\u043A \u0442\u0438\u0437\u043C\u0435\u0433\u0438 \u0447\u0438\u0437\u0443\u0443"},measurements:{totalLength:"\u0423\u0437\u0443\u043D\u0434\u0443\u043A",segmentLength:"\u0421\u0435\u0433\u043C\u0435\u043D\u0442 \u0443\u0437\u0443\u043D\u0434\u0443\u0433\u0443",area:"\u0410\u0439\u043C\u0430\u043A",radius:"\u0420\u0430\u0434\u0438\u0443\u0441",perimeter:"\u041F\u0435\u0440\u0438\u043C\u0435\u0442\u0440",height:"\u0414\u0438\u0430\u043C\u0435\u0442\u0440",width:"\u041A\u0435\u043D\u0447\u0438\u043B\u0438\u043A",coordinates:"\u041A\u043E\u043E\u0440\u0434\u0438\u043D\u0430\u0442\u0442\u0430\u0440",coordinatesMarker:"\u041C\u0430\u0440\u043A\u0435\u0440\u0434\u0438\u043D \u043A\u043E\u043E\u0440\u0434\u0438\u043D\u0430\u0442\u0442\u0430\u0440\u044B"}},an={en:Le,de:ri,it:wn,id:We,ro:Un,ru:rn,es:Ii,nl:Te,fr:N,pt_br:ft,pt_pt:kt,zh:j,zh_tw:Q,pl:Ot,sv:ne,el:Pe,hu:Be,da:Ne,no:Ge,fa:Jr,ua:Er,tr:Sa,cz:ee,ja:Li,fi:Ce,ko:ta,ky:Br},Ar={_globalEditModeEnabled:!1,enableGlobalEditMode(l){let u={...l};this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(f=>{this._isRelevantForEdit(f)&&f.pm.enable(u)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayersEdit={},this.map.on("layeradd",this._layerAddedEdit,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(l=>{l.pm.disable()}),this.map.off("layeradd",this._layerAddedEdit,this),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled(){return this.globalEditModeEnabled()},globalEditModeEnabled(){return this._globalEditModeEnabled},toggleGlobalEditMode(l=this.globalOptions){this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(l)},handleLayerAdditionInGlobalEditMode(){let l=this._addedLayersEdit;if(this._addedLayersEdit={},this.globalEditModeEnabled())for(let u in l){let f=l[u];this._isRelevantForEdit(f)&&f.pm.enable({...this.globalOptions})}},_layerAddedEdit({layer:l}){this._addedLayersEdit[L.stamp(l)]=l},_isRelevantForEdit(l){return l.pm&&!(l instanceof L.LayerGroup)&&(!L.PM.optIn&&!l.options.pmIgnore||L.PM.optIn&&l.options.pmIgnore===!1)&&!l._pmTempLayer&&l.pm.options.allowEditing}},on=Ar,Dr={_globalDragModeEnabled:!1,enableGlobalDragMode(){let l=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},l.forEach(u=>{this._isRelevantForDrag(u)&&u.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode(){let l=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,l.forEach(u=>{u.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled(){return!!this._globalDragModeEnabled},toggleGlobalDragMode(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode(){let l=this._addedLayersDrag;if(this._addedLayersDrag={},this.globalDragModeEnabled())for(let u in l){let f=l[u];this._isRelevantForDrag(f)&&f.pm.enableLayerDrag()}},_layerAddedDrag({layer:l}){this._addedLayersDrag[L.stamp(l)]=l},_isRelevantForDrag(l){return l.pm&&!(l instanceof L.LayerGroup)&&(!L.PM.optIn&&!l.options.pmIgnore||L.PM.optIn&&l.options.pmIgnore===!1)&&!l._pmTempLayer&&l.pm.options.draggable}},qn=Dr,je={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode(){this._globalRemovalModeEnabled=!0,this.map.eachLayer(l=>{this._isRelevantForRemoval(l)&&(l.pm.enabled()&&l.pm.disable(),l.on("click",this.removeLayer,this))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.handleLayerAdditionInGlobalRemovalMode,100,this)),this._addedLayersRemoval={},this.map.on("layeradd",this._layerAddedRemoval,this),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode(){this._globalRemovalModeEnabled=!1,this.map.eachLayer(l=>{l.off("click",this.removeLayer,this)}),this.map.off("layeradd",this._layerAddedRemoval,this),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},removeLayer(l){let u=l.target;this._isRelevantForRemoval(u)&&!u.pm.dragging()&&(u.removeFrom(this.map.pm._getContainingLayer()),u.remove(),u instanceof L.LayerGroup?(this._fireRemoveLayerGroup(u),this._fireRemoveLayerGroup(this.map,u)):(u.pm._fireRemove(u),u.pm._fireRemove(this.map,u)))},_isRelevantForRemoval(l){return l.pm&&!(l instanceof L.LayerGroup)&&(!L.PM.optIn&&!l.options.pmIgnore||L.PM.optIn&&l.options.pmIgnore===!1)&&!l._pmTempLayer&&l.pm.options.allowRemoval},handleLayerAdditionInGlobalRemovalMode(){let l=this._addedLayersRemoval;if(this._addedLayersRemoval={},this.globalRemovalModeEnabled())for(let u in l){let f=l[u];this._isRelevantForRemoval(f)&&(f.pm.enabled()&&f.pm.disable(),f.on("click",this.removeLayer,this))}},_layerAddedRemoval({layer:l}){this._addedLayersRemoval[L.stamp(l)]=l}},sn=je,ea={_globalRotateModeEnabled:!1,enableGlobalRotateMode(){this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(l=>l instanceof L.Polyline).forEach(l=>{this._isRelevantForRotate(l)&&l.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this.handleLayerAdditionInGlobalRotateMode,100,this)),this._addedLayersRotate={},this.map.on("layeradd",this._layerAddedRotate,this),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(l=>l instanceof L.Polyline).forEach(l=>{l.pm.disableRotate()}),this.map.off("layeradd",this._layerAddedRotate,this),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_isRelevantForRotate(l){return l.pm&&l instanceof L.Polyline&&!(l instanceof L.LayerGroup)&&(!L.PM.optIn&&!l.options.pmIgnore||L.PM.optIn&&l.options.pmIgnore===!1)&&!l._pmTempLayer&&l.pm.options.allowRotation},handleLayerAdditionInGlobalRotateMode(){let l=this._addedLayersRotate;if(this._addedLayersRotate={},this.globalRotateModeEnabled())for(let u in l){let f=l[u];this._isRelevantForRemoval(f)&&f.pm.enableRotate()}},_layerAddedRotate({layer:l}){this._addedLayersRotate[L.stamp(l)]=l}},ia=ea,Ta=p(Hi()),na={_fireDrawStart(l="Draw",u={}){this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},l,u)},_fireDrawEnd(l="Draw",u={}){this.__fire(this._map,"pm:drawend",{shape:this._shape},l,u)},_fireCreate(l,u="Draw",f={}){this.__fire(this._map,"pm:create",{shape:this._shape,marker:l,layer:l},u,f)},_fireCenterPlaced(l="Draw",u={}){let f=l==="Draw"?this._layer:void 0,m=l!=="Draw"?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:f,layer:m,latlng:this._layer.getLatLng()},l,u)},_fireCut(l,u,f,m="Draw",v={}){this.__fire(l,"pm:cut",{shape:this._shape,layer:u,originalLayer:f},m,v)},_fireEdit(l=this._layer,u="Edit",f={}){this.__fire(l,"pm:edit",{layer:this._layer,shape:this.getShape()},u,f)},_fireEnable(l="Edit",u={}){this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},l,u)},_fireDisable(l="Edit",u={}){this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},l,u)},_fireUpdate(l="Edit",u={}){this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},l,u)},_fireMarkerDragStart(l,u=void 0,f="Edit",m={}){this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:l,shape:this.getShape(),indexPath:u},f,m)},_fireMarkerDrag(l,u=void 0,f="Edit",m={}){this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:l,shape:this.getShape(),indexPath:u},f,m)},_fireMarkerDragEnd(l,u=void 0,f=void 0,m="Edit",v={}){this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:l,shape:this.getShape(),indexPath:u,intersectionReset:f},m,v)},_fireDragStart(l="Edit",u={}){this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},l,u)},_fireDrag(l,u="Edit",f={}){this.__fire(this._layer,"pm:drag",{...l,shape:this.getShape()},u,f)},_fireDragEnd(l="Edit",u={}){this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},l,u)},_fireDragEnable(l="Edit",u={}){this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},l,u)},_fireDragDisable(l="Edit",u={}){this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},l,u)},_fireRemove(l,u=l,f="Edit",m={}){this.__fire(l,"pm:remove",{layer:u,shape:this.getShape()},f,m)},_fireVertexAdded(l,u,f,m="Edit",v={}){this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:l,indexPath:u,latlng:f,shape:this.getShape()},m,v)},_fireVertexRemoved(l,u,f="Edit",m={}){this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:l,indexPath:u,shape:this.getShape()},f,m)},_fireVertexClick(l,u,f="Edit",m={}){this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:l,indexPath:u,shape:this.getShape()},f,m)},_fireIntersect(l,u=this._layer,f="Edit",m={}){this.__fire(u,"pm:intersect",{layer:this._layer,intersection:l,shape:this.getShape()},f,m)},_fireLayerReset(l,u,f="Edit",m={}){this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:l,indexPath:u,shape:this.getShape()},f,m)},_fireChange(l,u="Edit",f={}){this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:l,shape:this.getShape()},u,f)},_fireTextChange(l,u="Edit",f={}){this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:l,shape:this.getShape()},u,f)},_fireTextFocus(l="Edit",u={}){this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},l,u)},_fireTextBlur(l="Edit",u={}){this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},l,u)},_fireSnapDrag(l,u,f="Snapping",m={}){this.__fire(l,"pm:snapdrag",u,f,m)},_fireSnap(l,u,f="Snapping",m={}){this.__fire(l,"pm:snap",u,f,m)},_fireUnsnap(l,u,f="Snapping",m={}){this.__fire(l,"pm:unsnap",u,f,m)},_fireRotationEnable(l,u,f="Rotation",m={}){this.__fire(l,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},f,m)},_fireRotationDisable(l,u="Rotation",f={}){this.__fire(l,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},u,f)},_fireRotationStart(l,u,f="Rotation",m={}){this.__fire(l,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:u},f,m)},_fireRotation(l,u,f,m=this._rotationLayer,v="Rotation",x={}){this.__fire(l,"pm:rotate",{layer:m,helpLayer:this._layer,startAngle:this._startAngle,angle:m.pm.getAngle(),angleDiff:u,oldLatLngs:f,newLatLngs:m.getLatLngs()},v,x)},_fireRotationEnd(l,u,f,m="Rotation",v={}){this.__fire(l,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:u,angle:this._rotationLayer.pm.getAngle(),originLatLngs:f,newLatLngs:this._rotationLayer.getLatLngs()},m,v)},_fireActionClick(l,u,f,m="Toolbar",v={}){this.__fire(this._map,"pm:actionclick",{text:l.text,action:l,btnName:u,button:f},m,v)},_fireButtonClick(l,u,f="Toolbar",m={}){this.__fire(this._map,"pm:buttonclick",{btnName:l,button:u},f,m)},_fireLangChange(l,u,f,m,v="Global",x={}){this.__fire(this.map,"pm:langchange",{oldLang:l,activeLang:u,fallback:f,translations:m},v,x)},_fireGlobalDragModeToggled(l,u="Global",f={}){this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:l,map:this.map},u,f)},_fireGlobalEditModeToggled(l,u="Global",f={}){this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:l,map:this.map},u,f)},_fireGlobalRemovalModeToggled(l,u="Global",f={}){this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:l,map:this.map},u,f)},_fireGlobalCutModeToggled(l="Global",u={}){this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},l,u)},_fireGlobalDrawModeToggled(l="Global",u={}){this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},l,u)},_fireGlobalRotateModeToggled(l="Global",u={}){this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},l,u)},_fireRemoveLayerGroup(l,u=l,f="Edit",m={}){this.__fire(l,"pm:remove",{layer:u,shape:void 0},f,m)},_fireKeyeventEvent(l,u,f,m="Global",v={}){this.__fire(this.map,"pm:keyevent",{event:l,eventType:u,focusOn:f},m,v)},__fire(l,u,f,m,v={}){f=(0,Ta.default)(f,v,{source:m}),L.PM.Utils._fireEvent(l,u,f)}},Ln=na,Ea=()=>({_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener(l){this.map=l,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this),l.once("unload",this._unbindKeyListenerEvents,this)},_unbindKeyListenerEvents(){L.DomEvent.off(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.off(window,"blur",this._onBlur,this)},_onKeyListener(l){let u="document";this.map.getContainer().contains(l.target)&&(u="map");let f={event:l,eventType:l.type,focusOn:u};this._lastEvents[l.type]=f,this._lastEvents.current=f,this.map.pm._fireKeyeventEvent(l,l.type,u)},_onBlur(l){l.altKey=!1;let u={event:l,eventType:l.type,focusOn:"document"};this._lastEvents[l.type]=u,this._lastEvents.current=u},getLastKeyEvent(l="current"){return this._lastEvents[l]},isShiftKeyPressed(){var l;return(l=this._lastEvents.current)==null?void 0:l.event.shiftKey},isAltKeyPressed(){var l;return(l=this._lastEvents.current)==null?void 0:l.event.altKey},isCtrlKeyPressed(){var l;return(l=this._lastEvents.current)==null?void 0:l.event.ctrlKey},isMetaKeyPressed(){var l;return(l=this._lastEvents.current)==null?void 0:l.event.metaKey},getPressedKey(){var l;return(l=this._lastEvents.current)==null?void 0:l.event.key}}),ra=Ea,he=p(gi());function pe(l){let u=L.PM.activeLang;return(0,he.default)(an[u],l)||(0,he.default)(an.en,l)||l}function ai(l){for(let u=0;u<l.length;u+=1){let f=l[u];if(Array.isArray(f)){if(ai(f))return!0}else if(f!=null&&f!=="")return!0}return!1}function qi(l){return l.reduce((u,f)=>{if(f.length!==0){let m=Array.isArray(f)?qi(f):f;Array.isArray(m)?m.length!==0&&u.push(m):u.push(m)}return u},[])}function aa(l,u,f){let m={a:L.CRS.Earth.R,b:63567523142e-4,f:.0033528106647474805},{a:v,b:x,f:k}=m,P=l.lng,E=l.lat,D=f,Z=Math.PI,$=u*Z/180,ut=Math.sin($),mt=Math.cos($),Mt=(1-k)*Math.tan(E*Z/180),Dt=1/Math.sqrt(1+Mt*Mt),Rt=Mt*Dt,me=Math.atan2(Mt,mt),W=Dt*ut,X=1-W*W,nt=X*(v*v-x*x)/(x*x),pt=1+nt/16384*(4096+nt*(-768+nt*(320-175*nt))),rt=nt/1024*(256+nt*(-128+nt*(74-47*nt))),dt=D/(x*pt),B=2*Math.PI,R,V,F;for(;Math.abs(dt-B)>1e-12;){R=Math.cos(2*me+dt),V=Math.sin(dt),F=Math.cos(dt);let xt=rt*V*(R+rt/4*(F*(-1+2*R*R)-rt/6*R*(-3+4*V*V)*(-3+4*R*R)));B=dt,dt=D/(x*pt)+xt}let H=Rt*V-Dt*F*mt,U=Math.atan2(Rt*F+Dt*V*mt,(1-k)*Math.sqrt(W*W+H*H)),tt=Math.atan2(V*ut,Dt*F-Rt*V*mt),J=k/16*X*(4+k*(4-3*X)),it=tt-(1-J)*k*W*(dt+J*V*(R+J*F*(-1+2*R*R))),lt=P+it*180/Z,st=U*180/Z;return L.latLng(lt,st)}function oa(l,u,f,m,v=!0){let x,k,P,E=[];for(let D=0;D<f;D+=1){if(v)x=D*360/f+m,k=aa(l,x,u),P=L.latLng(k.lng,k.lat);else{let Z=l.lat+Math.cos(2*D*Math.PI/f)*u,$=l.lng+Math.sin(2*D*Math.PI/f)*u;P=L.latLng(Z,$)}E.push(P)}return E}function Or(l,u,f){u=(u+360)%360;let m=Math.PI/180,v=180/Math.PI,{R:x}=L.CRS.Earth,k=l.lng*m,P=l.lat*m,E=u*m,D=Math.sin(P),Z=Math.cos(P),$=Math.cos(f/x),ut=Math.sin(f/x),mt=Math.asin(D*$+Z*ut*Math.cos(E)),Mt=k+Math.atan2(Math.sin(E)*ut*Z,$-D*Math.sin(mt));Mt*=v;let Dt=Mt-360,Rt=Mt<-180?Mt+360:Mt;return Mt=Mt>180?Dt:Rt,L.latLng([mt*v,Mt])}function Ir(l,u,f){let m=l.latLngToContainerPoint(u),v=l.latLngToContainerPoint(f),x=Math.atan2(v.y-m.y,v.x-m.x)*180/Math.PI+90;return x+=x<0?360:0,x}function $n(l,u,f,m){let v=Ir(l,u,f);return Or(u,v,m)}function Ba(l,u,f="asc"){if(!u||Object.keys(u).length===0)return(E,D)=>E-D;let m=Object.keys(u),v,x=m.length-1,k={};for(;x>=0;)v=m[x],k[v.toLowerCase()]=u[v],x-=1;function P(E){if(E instanceof L.Marker)return"Marker";if(E instanceof L.Circle)return"Circle";if(E instanceof L.CircleMarker)return"CircleMarker";if(E instanceof L.Rectangle)return"Rectangle";if(E instanceof L.Polygon)return"Polygon";if(E instanceof L.Polyline)return"Line"}return(E,D)=>{let Z,$;if(l==="instanceofShape"){if(Z=P(E.layer).toLowerCase(),$=P(D.layer).toLowerCase(),!Z||!$)return 0}else{if(!E.hasOwnProperty(l)||!D.hasOwnProperty(l))return 0;Z=E[l].toLowerCase(),$=D[l].toLowerCase()}let ut=Z in k?k[Z]:Number.MAX_SAFE_INTEGER,mt=$ in k?k[$]:Number.MAX_SAFE_INTEGER,Mt=0;return ut<mt?Mt=-1:ut>mt&&(Mt=1),f==="desc"?Mt*-1:Mt}}function $i(l,u=l.getLatLngs()){return l instanceof L.Polygon?L.polygon(u).getLatLngs():L.polyline(u).getLatLngs()}function ar(l,u){var f,m,v,x;if((m=(f=u.options.crs)==null?void 0:f.projection)!=null&&m.MAX_LATITUDE){let k=(x=(v=u.options.crs)==null?void 0:v.projection)==null?void 0:x.MAX_LATITUDE;l.lat=Math.max(Math.min(k,l.lat),-k)}return l}function Cn(l){return l.options.renderer||l._map&&(l._map._getPaneRenderer(l.options.pane)||l._map.options.renderer||l._map._renderer)||l._renderer}var Ci=L.Class.extend({includes:[on,qn,sn,ia,Ln],initialize(l){this.map=l,this.Draw=new L.PM.Draw(l),this.Toolbar=new L.PM.Toolbar(l),this.Keyboard=ra(),this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(l)},setLang(l="en",u,f="en"){let m=L.PM.activeLang;u&&(an[l]=(0,Kt.default)(an[f],u)),L.PM.activeLang=l,this.map.pm.Toolbar.reinit(),this._fireLangChange(m,l,f,an[l])},addControls(l){this.Toolbar.addControls(l)},removeControls(){this.Toolbar.removeControls()},toggleControls(){this.Toolbar.toggleControls()},controlsVisible(){return this.Toolbar.isVisible},enableDraw(l="Polygon",u){l==="Poly"&&(l="Polygon"),this.Draw.enable(l,u)},disableDraw(l="Polygon"){l==="Poly"&&(l="Polygon"),this.Draw.disable(l)},setPathOptions(l,u={}){let f=u.ignoreShapes||[],m=u.merge||!1;this.map.pm.Draw.shapes.forEach(v=>{f.indexOf(v)===-1&&this.map.pm.Draw[v].setPathOptions(l,m)})},getGlobalOptions(){return this.globalOptions},setGlobalOptions(l){let u=(0,Kt.default)(this.globalOptions,l);u.editable&&(u.resizeableCircleMarker=u.editable,delete u.editable);let f=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.resizeableCircleMarker!=!!u.resizeableCircleMarker&&(this.map.pm.Draw.CircleMarker.disable(),f=!0);let m=!1;this.map.pm.Draw.Circle.enabled()&&!!this.map.pm.Draw.Circle.options.resizableCircle!=!!u.resizableCircle&&(this.map.pm.Draw.Circle.disable(),m=!0),this.map.pm.Draw.shapes.forEach(v=>{this.map.pm.Draw[v].setOptions(u)}),f&&this.map.pm.Draw.CircleMarker.enable(),m&&this.map.pm.Draw.Circle.enable(),L.PM.Utils.findLayers(this.map).forEach(v=>{v.pm.setOptions(u)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=u,this.applyGlobalOptions()},applyGlobalOptions(){L.PM.Utils.findLayers(this.map).forEach(l=>{l.pm.enabled()&&l.pm.applyOptions()})},globalDrawModeEnabled(){return!!this.Draw.getActiveShape()},globalCutModeEnabled(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode(l){return this.Draw.Cut.enable(l)},toggleGlobalCutMode(l){return this.Draw.Cut.toggle(l)},disableGlobalCutMode(){return this.Draw.Cut.disable()},getGeomanLayers(l=!1){let u=L.PM.Utils.findLayers(this.map);if(!l)return u;let f=L.featureGroup();return f._pmTempLayer=!0,u.forEach(m=>{f.addLayer(m)}),f},getGeomanDrawLayers(l=!1){let u=L.PM.Utils.findLayers(this.map).filter(m=>m._drawnByGeoman===!0);if(!l)return u;let f=L.featureGroup();return f._pmTempLayer=!0,u.forEach(m=>{f.addLayer(m)}),f},_getContainingLayer(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents(l){this._touchEventCounter===0&&(L.DomEvent.on(l,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(l,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents(l){this._touchEventCounter===1&&(L.DomEvent.off(l,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(l,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove(l){Cn(this.map)._onMouseMove(this._createMouseEvent("mousemove",l))},_canvasTouchClick(l){let u="";l.type==="touchstart"||l.type==="pointerdown"?u="mousedown":(l.type==="touchend"||l.type==="pointerup"||l.type==="touchcancel"||l.type==="pointercancel")&&(u="mouseup"),u&&Cn(this.map)._onClick(this._createMouseEvent(u,l))},_createMouseEvent(l,u){let f,m=u.touches[0]||u.changedTouches[0];try{f=new MouseEvent(l,{bubbles:u.bubbles,cancelable:u.cancelable,view:u.view,detail:m.detail,screenX:m.screenX,screenY:m.screenY,clientX:m.clientX,clientY:m.clientY,ctrlKey:u.ctrlKey,altKey:u.altKey,shiftKey:u.shiftKey,metaKey:u.metaKey,button:u.button,relatedTarget:u.relatedTarget})}catch{f=document.createEvent("MouseEvents"),f.initMouseEvent(l,u.bubbles,u.cancelable,u.view,m.detail,m.screenX,m.screenY,m.clientX,m.clientY,u.ctrlKey,u.altKey,u.shiftKey,u.metaKey,u.button,u.relatedTarget)}return f}}),Aa=Ci,sa=L.Control.extend({includes:[Ln],options:{position:"topleft",disableByOtherButtons:!0},initialize(l){this._button=L.Util.extend({},this.options,l)},onAdd(l){return this._map=l,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this._renderButton(),this._container},_renderButton(){let l=this.buttonsDomNode;this.buttonsDomNode=this._makeButton(this._button),l?l.replaceWith(this.buttonsDomNode):this._container.appendChild(this.buttonsDomNode)},onRemove(){return this.buttonsDomNode.remove(),this._container},getText(){return this._button.text},getIconUrl(){return this._button.iconUrl},destroy(){this._button={},this._update()},toggle(l){return typeof l=="boolean"?this._button.toggleStatus=l:this._button.toggleStatus=!this._button.toggleStatus,this._applyStyleClasses(),this._button.toggleStatus},toggled(){return this._button.toggleStatus},onCreate(){this.toggle(!1)},disable(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable(){this._button.disabled=!1,this._updateDisabled()},_triggerClick(l){l&&l.preventDefault(),!this._button.disabled&&(this._button.onClick(l,{button:this,event:l}),this._clicked(l),this._button.afterClick(l,{button:this,event:l}))},_makeButton(l){let u=this.options.position.indexOf("right")>-1?"pos-right":"",f=L.DomUtil.create("div",`button-container  ${u}`,this._container);l.title&&f.setAttribute("title",l.title);let m=L.DomUtil.create("a","leaflet-buttons-control-button",f);m.setAttribute("role","button"),m.setAttribute("tabindex","0"),m.href="#";let v=L.DomUtil.create("div",`leaflet-pm-actions-container ${u}`,f),x=l.actions,k={cancel:{text:pe("actions.cancel"),title:pe("actions.cancel"),onClick(){this._triggerClick()}},finishMode:{text:pe("actions.finish"),title:pe("actions.finish"),onClick(){this._triggerClick()}},removeLastVertex:{text:pe("actions.removeLastVertex"),title:pe("actions.removeLastVertex"),onClick(){this._map.pm.Draw[l.jsClass]._removeLastVertex()}},finish:{text:pe("actions.finish"),title:pe("actions.finish"),onClick(E){this._map.pm.Draw[l.jsClass]._finishShape(E)}}};x.forEach(E=>{let D=typeof E=="string"?E:E.name,Z;if(k[D])Z=k[D];else if(E.text)Z=E;else return;let $=L.DomUtil.create("a",`leaflet-pm-action ${u} action-${D}`,v);if($.setAttribute("role","button"),$.setAttribute("tabindex","0"),$.href="#",Z.title&&($.title=Z.title),$.innerHTML=Z.text,L.DomEvent.disableClickPropagation($),L.DomEvent.on($,"click",L.DomEvent.stop),!l.disabled&&Z.onClick){let ut=mt=>{mt.preventDefault();let Mt="",{buttons:Dt}=this._map.pm.Toolbar;for(let Rt in Dt)if(Dt[Rt]._button===l){Mt=Rt;break}this._fireActionClick(Z,Mt,l)};L.DomEvent.addListener($,"click",ut,this),L.DomEvent.addListener($,"click",Z.onClick,this)}}),l.toggleStatus&&L.DomUtil.addClass(f,"active");let P=L.DomUtil.create("div","control-icon",m);return l.iconUrl&&P.setAttribute("src",l.iconUrl),l.className&&L.DomUtil.addClass(P,l.className),L.DomEvent.disableClickPropagation(m),L.DomEvent.on(m,"click",L.DomEvent.stop),l.disabled||(L.DomEvent.addListener(m,"click",this._onBtnClick,this),L.DomEvent.addListener(m,"click",this._triggerClick,this)),l.disabled&&(L.DomUtil.addClass(m,"pm-disabled"),m.setAttribute("aria-disabled","true")),f},_applyStyleClasses(){this._container&&(!this._button.toggleStatus||this._button.cssToggle===!1?(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")):(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")))},_onBtnClick(){if(this._button.disabled)return;this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);let l="",{buttons:u}=this._map.pm.Toolbar;for(let f in u)if(u[f]._button===this._button){l=f;break}this._fireButtonClick(l,this._button)},_clicked(){this._button.doToggle&&this.toggle()},_updateDisabled(){if(!this._container)return;let l="pm-disabled",u=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(u,l),u.setAttribute("aria-disabled","true")):(L.DomUtil.removeClass(u,l),u.setAttribute("aria-disabled","false"))}}),Wi=sa;L.Control.PMButton=Wi;var la=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize(l){this.customButtons=[],this.options.positions={draw:"",edit:"",options:"",custom:""},this.init(l)},reinit(){let l=this.isVisible;this.removeControls(),this._defineButtons(),l&&this.addControls()},init(l){this.map=l,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer(l){let u=`${l}Container`;return this[u]||(this[u]=L.DomUtil.create("div",`leaflet-pm-toolbar leaflet-pm-${l} leaflet-bar leaflet-control`)),this[u]},getButtons(){return this.buttons},addControls(l=this.options){typeof l.editPolygon<"u"&&(l.editMode=l.editPolygon),typeof l.deleteLayer<"u"&&(l.removalMode=l.deleteLayer),L.Util.setOptions(this,l),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle(){let l=this.getButtons(),u={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(let f in l){let m=l[f];L.Util.setOptions(m,{className:u.geomanIcons[f]})}},removeControls(){let l=this.getButtons();for(let u in l)l[u].remove();this.isVisible=!1},toggleControls(l=this.options){this.isVisible?this.removeControls():this.addControls(l)},_addButton(l,u){return this.buttons[l]=u,this.options[l]=!!this.options[l]||!1,this.buttons[l]},triggerClickOnToggledButtons(l){for(let u in this.buttons){let f=this.buttons[u];f._button.disableByOtherButtons&&f!==l&&f.toggled()&&f._triggerClick()}},toggleButton(l,u,f=!0){return l==="editPolygon"&&(l="editMode"),l==="deleteLayer"&&(l="removalMode"),f&&this.triggerClickOnToggledButtons(this.buttons[l]),this.buttons[l]?this.buttons[l].toggle(u):!1},_defineButtons(){let l={className:"control-icon leaflet-pm-icon-marker",title:pe("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:()=>{},afterClick:(ut,mt)=>{this.map.pm.Draw[mt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},u={title:pe("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:()=>{},afterClick:(ut,mt)=>{this.map.pm.Draw[mt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},f={className:"control-icon leaflet-pm-icon-polyline",title:pe("buttonTitles.drawLineButton"),jsClass:"Line",onClick:()=>{},afterClick:(ut,mt)=>{this.map.pm.Draw[mt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},m={title:pe("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:()=>{},afterClick:(ut,mt)=>{this.map.pm.Draw[mt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},v={title:pe("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:()=>{},afterClick:(ut,mt)=>{this.map.pm.Draw[mt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},x={title:pe("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:()=>{},afterClick:(ut,mt)=>{this.map.pm.Draw[mt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},k={title:pe("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},P={title:pe("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},E={title:pe("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:()=>{},afterClick:(ut,mt)=>{this.map.pm.Draw[mt.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},D={title:pe("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},Z={title:pe("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},$={className:"control-icon leaflet-pm-icon-text",title:pe("buttonTitles.drawTextButton"),jsClass:"Text",onClick:()=>{},afterClick:(ut,mt)=>{this.map.pm.Draw[mt.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(l)),this._addButton("drawPolyline",new L.Control.PMButton(f)),this._addButton("drawRectangle",new L.Control.PMButton(x)),this._addButton("drawPolygon",new L.Control.PMButton(u)),this._addButton("drawCircle",new L.Control.PMButton(m)),this._addButton("drawCircleMarker",new L.Control.PMButton(v)),this._addButton("drawText",new L.Control.PMButton($)),this._addButton("editMode",new L.Control.PMButton(k)),this._addButton("dragMode",new L.Control.PMButton(P)),this._addButton("cutPolygon",new L.Control.PMButton(E)),this._addButton("removalMode",new L.Control.PMButton(D)),this._addButton("rotateMode",new L.Control.PMButton(Z))},_showHideButtons(){if(!this.isVisible)return;this.removeControls(),this.isVisible=!0;let l=this.getButtons(),u=[];this.options.drawControls===!1&&(u=u.concat(Object.keys(l).filter(f=>!l[f]._button.tool))),this.options.editControls===!1&&(u=u.concat(Object.keys(l).filter(f=>l[f]._button.tool==="edit"))),this.options.optionsControls===!1&&(u=u.concat(Object.keys(l).filter(f=>l[f]._button.tool==="options"))),this.options.customControls===!1&&(u=u.concat(Object.keys(l).filter(f=>l[f]._button.tool==="custom")));for(let f in l)if(this.options[f]&&u.indexOf(f)===-1){let m=l[f]._button.tool;m||(m="draw"),l[f].setPosition(this._getBtnPosition(m)),l[f].addTo(this.map)}},_getBtnPosition(l){return this.options.positions&&this.options.positions[l]?this.options.positions[l]:this.options.position},setBlockPosition(l,u){this.options.positions[l]=u,this._showHideButtons(),this.changeControlOrder()},getBlockPositions(){return this.options.positions},copyDrawControl(l,u){if(u)typeof u!="object"&&(u={name:u});else throw new TypeError("Button has no name");let f=this._btnNameMapping(l);if(!u.name)throw new TypeError("Button has no name");if(this.buttons[u.name])throw new TypeError("Button with this name already exists");let m=this.map.pm.Draw.createNewDrawInstance(u.name,f);u={...this.buttons[f]._button,...u};let v=this.createCustomControl(u);return{drawInstance:m,control:v}},createCustomControl(l){var m,v;if(!l.name)throw new TypeError("Button has no name");if(this.buttons[l.name])throw new TypeError("Button with this name already exists");l.onClick||(l.onClick=()=>{}),l.afterClick||(l.afterClick=()=>{}),l.toggle!==!1&&(l.toggle=!0),l.block&&(l.block=l.block.toLowerCase()),(!l.block||l.block==="draw")&&(l.block=""),l.className?l.className.indexOf("control-icon")===-1&&(l.className=`control-icon ${l.className}`):l.className="control-icon";let u={tool:l.block,className:l.className,title:l.title||"",jsClass:l.name,onClick:l.onClick,afterClick:l.afterClick,doToggle:l.toggle,toggleStatus:!1,disableOtherButtons:(m=l.disableOtherButtons)!=null?m:!0,disableByOtherButtons:(v=l.disableByOtherButtons)!=null?v:!0,cssToggle:l.toggle,position:this.options.position,actions:l.actions||[],disabled:!!l.disabled};this.options[l.name]!==!1&&(this.options[l.name]=!0);let f=this._addButton(l.name,new L.Control.PMButton(u));return this.changeControlOrder(),f},controlExists(l){return!!this.getButton(l)},getButton(l){return this.getButtons()[l]},getButtonsInBlock(l){let u={};if(l)for(let f in this.getButtons()){let m=this.getButtons()[f];(m._button.tool===l||l==="draw"&&!m._button.tool)&&(u[f]=m)}return u},changeControlOrder(l=[]){let u=this._shapeMapping(),f=[];l.forEach(x=>{u[x]?f.push(u[x]):f.push(x)});let m=this.getButtons(),v={};f.forEach(x=>{m[x]&&(v[x]=m[x])}),Object.keys(m).filter(x=>!m[x]._button.tool).forEach(x=>{f.indexOf(x)===-1&&(v[x]=m[x])}),Object.keys(m).filter(x=>m[x]._button.tool==="edit").forEach(x=>{f.indexOf(x)===-1&&(v[x]=m[x])}),Object.keys(m).filter(x=>m[x]._button.tool==="options").forEach(x=>{f.indexOf(x)===-1&&(v[x]=m[x])}),Object.keys(m).filter(x=>m[x]._button.tool==="custom").forEach(x=>{f.indexOf(x)===-1&&(v[x]=m[x])}),Object.keys(m).forEach(x=>{f.indexOf(x)===-1&&(v[x]=m[x])}),this.map.pm.Toolbar.buttons=v,this._showHideButtons()},getControlOrder(){let l=this.getButtons(),u=[];for(let f in l)u.push(f);return u},changeActionsOfControl(l,u){let f=this._btnNameMapping(l);if(!f)throw new TypeError("No name passed");if(!u)throw new TypeError("No actions passed");if(!this.buttons[f])throw new TypeError("Button with this name not exists");this.buttons[f]._button.actions=u,this.changeControlOrder()},setButtonDisabled(l,u){let f=this._btnNameMapping(l);u?this.buttons[f].disable():this.buttons[f].enable()},_shapeMapping(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping(l){let u=this._shapeMapping();return u[l]?u[l]:l}}),ua=la,Nr=p(Hi()),Da={_initSnappableMarkers(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents(l){l.forEach(u=>{if(Array.isArray(u)){this._assignEvents(u);return}u.off("drag",this._handleSnapping,this),u.on("drag",this._handleSnapping,this),u.off("dragend",this._cleanupSnapping,this),u.on("dragend",this._cleanupSnapping,this)})},_cleanupSnapping(l){if(l){let u=l.target;u._snapped=!1}delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("layerremove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(u=>{u.remove()})},_handleThrottleSnapping(){this.throttledList&&this._createSnapList()},_handleSnapping(l){var P,E,D;let u=l.target;if(u._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),((P=l==null?void 0:l.originalEvent)==null?void 0:P.altKey)||((D=(E=this._map)==null?void 0:E.pm)==null?void 0:D.Keyboard.isAltKeyPressed())||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;let f=this._calcClosestLayer(u.getLatLng(),this._snapList);if(Object.keys(f).length===0)return!1;let m=f.layer instanceof L.Marker||f.layer instanceof L.CircleMarker||!this.options.snapSegment,v;m?v=f.latlng:v=this._checkPrioritiySnapping(f);let x=this.options.snapDistance,k={marker:u,shape:this._shape,snapLatLng:v,segment:f.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:f.layer,distance:f.distance};if(this._fireSnapDrag(k.marker,k),this._fireSnapDrag(this._layer,k),f.distance<x){u._orgLatLng=u.getLatLng(),u.setLatLng(v),u._snapped=!0,u._snapInfo=k;let Z=()=>{this._snapLatLng=v,this._fireSnap(u,k),this._fireSnap(this._layer,k)},$=this._snapLatLng||{},ut=v||{};($.lat!==ut.lat||$.lng!==ut.lng)&&Z()}else this._snapLatLng&&(this._unsnap(k),u._snapped=!1,u._snapInfo=void 0,this._fireUnsnap(k.marker,k),this._fireUnsnap(this._layer,k));return!0},_createSnapList(){let l=[],u=[],f=this._map;f.off("layerremove",this._handleSnapLayerRemoval,this),f.on("layerremove",this._handleSnapLayerRemoval,this),f.eachLayer(m=>{if((m instanceof L.Polyline||m instanceof L.Marker||m instanceof L.CircleMarker||m instanceof L.ImageOverlay)&&m.options.snapIgnore!==!0){if(m.options.snapIgnore===void 0&&(!L.PM.optIn&&m.options.pmIgnore===!0||L.PM.optIn&&m.options.pmIgnore!==!1))return;(m instanceof L.Circle||m instanceof L.CircleMarker)&&m.pm&&m.pm._hiddenPolyCircle?l.push(m.pm._hiddenPolyCircle):m instanceof L.ImageOverlay&&(m=L.rectangle(m.getBounds())),l.push(m);let v=L.polyline([],{color:"red",pmIgnore:!0});v._pmTempLayer=!0,u.push(v),(m instanceof L.Circle||m instanceof L.CircleMarker)&&u.push(v)}}),l=l.filter(m=>this._layer!==m),l=l.filter(m=>m._latlng||m._latlngs&&ai(m._latlngs)),l=l.filter(m=>!m._pmTempLayer),this._otherSnapLayers?(this._otherSnapLayers.forEach(()=>{let m=L.polyline([],{color:"red",pmIgnore:!0});m._pmTempLayer=!0,u.push(m)}),this._snapList=l.concat(this._otherSnapLayers)):this._snapList=l,this.debugIndicatorLines=u},_handleSnapLayerRemoval({layer:l}){if(!l._leaflet_id)return;let u=this._snapList.findIndex(f=>f._leaflet_id===l._leaflet_id);u>-1&&this._snapList.splice(u,1)},_calcClosestLayer(l,u){return this._calcClosestLayers(l,u,1)[0]},_calcClosestLayers(l,u,f=1){let m=[],v={};u.forEach((k,P)=>{if(k._parentCopy&&k._parentCopy===this._layer)return;let E=this._calcLayerDistances(l,k);if(E.distance=Math.floor(E.distance),this.debugIndicatorLines){if(!this.debugIndicatorLines[P]){let D=L.polyline([],{color:"red",pmIgnore:!0});D._pmTempLayer=!0,this.debugIndicatorLines[P]=D}this.debugIndicatorLines[P].setLatLngs([l,E.latlng])}f===1&&(v.distance===void 0||E.distance-5<=v.distance)?(E.distance+5<v.distance&&(m=[]),v=E,v.layer=k,m.push(v)):f!==1&&(v={},v=E,v.layer=k,m.push(v))}),f!==1&&(m=m.sort((k,P)=>k.distance-P.distance)),f===-1&&(f=m.length);let x=this._getClosestLayerByPriority(m,f);return L.Util.isArray(x)?x:[x]},_calcLayerDistances(l,u){let f=this._map,m=u instanceof L.Marker||u instanceof L.CircleMarker,v=u instanceof L.Polygon,x=l;if(m){let k=u.getLatLng();return{latlng:{...k},distance:this._getDistance(f,k,x)}}return this._calcLatLngDistances(x,u.getLatLngs(),f,v)},_calcLatLngDistances(l,u,f,m=!1){let v,x,k,P=E=>{E.forEach((D,Z)=>{if(Array.isArray(D)){P(D);return}if(this.options.snapSegment){let $=D,ut;m?ut=Z+1===E.length?0:Z+1:ut=Z+1===E.length?void 0:Z+1;let mt=E[ut];if(mt){let Mt=this._getDistanceToSegment(f,l,$,mt);(x===void 0||Mt<x)&&(x=Mt,k=[$,mt])}}else{let $=this._getDistance(f,l,D);(x===void 0||$<x)&&(x=$,v=D)}})};return P(u),this.options.snapSegment?{latlng:{...this._getClosestPointOnSegment(f,l,k[0],k[1])},segment:k,distance:x}:{latlng:v,distance:x}},_getClosestLayerByPriority(l,u=1){l=l.sort((k,P)=>k._leaflet_id-P._leaflet_id);let f=["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],m=this._map.pm.globalOptions.snappingOrder||[],v=0,x={};return m.concat(f).forEach(k=>{x[k]||(v+=1,x[k]=v)}),l.sort(Ba("instanceofShape",x)),u===1?l[0]||{}:l.slice(0,u)},_checkPrioritiySnapping(l){let u=this._map,f=l.segment[0],m=l.segment[1],v=l.latlng,x=this._getDistance(u,f,v),k=this._getDistance(u,m,v),P=x<k?f:m,E=x<k?x:k;if(this.options.snapMiddle){let $=L.PM.Utils.calcMiddleLatLng(u,f,m),ut=this._getDistance(u,$,v);ut<x&&ut<k&&(P=$,E=ut)}let D=this.options.snapDistance,Z;return E<D?Z=P:Z=v,{...Z}},_unsnap(){delete this._snapLatLng},_getClosestPointOnSegment(l,u,f,m){let v=l.getMaxZoom();v===1/0&&(v=l.getZoom());let x=l.project(u,v),k=l.project(f,v),P=l.project(m,v),E=L.LineUtil.closestPointOnSegment(x,k,P);return l.unproject(E,v)},_getDistanceToSegment(l,u,f,m){let v=l.latLngToLayerPoint(u),x=l.latLngToLayerPoint(f),k=l.latLngToLayerPoint(m);return L.LineUtil.pointToSegmentDistance(v,x,k)},_getDistance(l,u,f){return l.latLngToLayerPoint(u).distanceTo(l.latLngToLayerPoint(f))}},Rr=Da,ca=L.Class.extend({includes:[Rr,Ln],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,resizeableCircleMarker:!1,resizableCircle:!0,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1,rectangleAngle:0},setOptions(l){L.Util.setOptions(this,l),this.setStyle(this.options)},setStyle(){},getOptions(){return this.options},initialize(l){let u=new L.Icon.Default;u.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=u,this._map=l,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(f=>{this[f]=new L.PM.Draw[f](this._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions(l,u=!1){u?this.options.pathOptions=(0,Nr.default)(this.options.pathOptions,l):this.options.pathOptions=l},getShapes(){return this.shapes},getShape(){return this._shape},enable(l,u){if(!l)throw new Error(`Error: Please pass a shape as a parameter. Possible shapes are: ${this.getShapes().join(",")}`);this.disable(),this[l].enable(u)},disable(){this.shapes.forEach(l=>{this[l].disable()})},addControls(){this.shapes.forEach(l=>{this[l].addButton()})},getActiveShape(){let l;return this.shapes.forEach(u=>{this[u]._enabled&&(l=u)}),l},_setGlobalDrawMode(){this._shape==="Cut"?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();let l=[];this._map.eachLayer(u=>{(u instanceof L.Polyline||u instanceof L.Marker||u instanceof L.Circle||u instanceof L.CircleMarker||u instanceof L.ImageOverlay)&&(u._pmTempLayer||l.push(u))}),this._enabled?l.forEach(u=>{L.PM.Utils.disablePopup(u)}):l.forEach(u=>{L.PM.Utils.enablePopup(u)})},createNewDrawInstance(l,u){let f=this._getShapeFromBtnName(u);if(this[l])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[f])throw new TypeError(`There is no class L.PM.Draw.${f}`);return this[l]=new L.PM.Draw[f](this._map),this[l].toolbarButtonName=l,this[l]._shape=l,this.shapes.push(l),this[u]&&this[l].setOptions(this[u].options),this[l].setOptions(this[l].options),this[l]},_getShapeFromBtnName(l){let u={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return u[l]?u[l]:this[l]?this[l]._shape:l},_finishLayer(l){l.pm&&(l.pm.setOptions(this.options),l.pm._shape=this._shape,l.pm._map=this._map),this._addDrawnLayerProp(l)},_addDrawnLayerProp(l){l._drawnByGeoman=!0},_setPane(l,u){u==="layerPane"?l.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":u==="vertexPane"?l.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":u==="markerPane"&&(l.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer(){return(this._map||this._layer._map).pm.getGeomanLayers().length===0}}),He=ca;He.Marker=He.extend({initialize(l){this._map=l,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable(l){L.Util.setOptions(this,l),this._enabled=!0,this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(pe("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(u=>{this.isRelevantMarker(u)&&u.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(l=>{this.isRelevantMarker(l)&&l.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(l){this.enabled()?this.disable():this.enable(l)},isRelevantMarker(l){return l instanceof L.Marker&&l.pm&&!l._pmTempLayer&&!l.pm._initTextMarker},_syncHintMarker(l){if(this._hintMarker.setLatLng(l.latlng),this.options.snappable){let u=l;u.target=this._hintMarker,this._handleSnapping(u)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker(l){if(!l.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(l.latlng);let u=this._hintMarker.getLatLng(),f=new L.Marker(u,this.options.markerStyle);this._setPane(f,"markerPane"),this._finishLayer(f),f.pm||(f.options.draggable=!1),f.addTo(this._map.pm._getContainingLayer()),f.pm&&this.options.markerEditable?f.pm.enable():f.dragging&&f.dragging.disable(),this._fireCreate(f),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},setStyle(){var l,u;(l=this.options.markerStyle)!=null&&l.icon&&((u=this._hintMarker)==null||u.setIcon(this.options.markerStyle.icon))}});var Xe=63710088e-1,or={centimeters:Xe*100,centimetres:Xe*100,degrees:Xe/111325,feet:Xe*3.28084,inches:Xe*39.37,kilometers:Xe/1e3,kilometres:Xe/1e3,meters:Xe,metres:Xe,miles:Xe/1609.344,millimeters:Xe*1e3,millimetres:Xe*1e3,nauticalmiles:Xe/1852,radians:1,yards:Xe*1.0936};function kn(l,u,f){f===void 0&&(f={});var m={type:"Feature"};return(f.id===0||f.id)&&(m.id=f.id),f.bbox&&(m.bbox=f.bbox),m.properties=u||{},m.geometry=l,m}function ln(l,u,f){if(f===void 0&&(f={}),!l)throw new Error("coordinates is required");if(!Array.isArray(l))throw new Error("coordinates must be an Array");if(l.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!zr(l[0])||!zr(l[1]))throw new Error("coordinates must contain numbers");var m={type:"Point",coordinates:l};return kn(m,u,f)}function Mn(l,u,f){if(f===void 0&&(f={}),l.length<2)throw new Error("coordinates must be an array of two or more positions");var m={type:"LineString",coordinates:l};return kn(m,u,f)}function vi(l,u){u===void 0&&(u={});var f={type:"FeatureCollection"};return u.id&&(f.id=u.id),u.bbox&&(f.bbox=u.bbox),f.features=l,f}function un(l,u){u===void 0&&(u="kilometers");var f=or[u];if(!f)throw new Error(u+" units is invalid");return l*f}function Oa(l,u){u===void 0&&(u="kilometers");var f=or[u];if(!f)throw new Error(u+" units is invalid");return l/f}function cn(l){var u=l%(2*Math.PI);return u*180/Math.PI}function Ee(l){var u=l%360;return u*Math.PI/180}function zr(l){return!isNaN(l)&&l!==null&&!Array.isArray(l)}function Wn(l){var u,f,m={type:"FeatureCollection",features:[]};if(l.type==="Feature"?f=l.geometry:f=l,f.type==="LineString")u=[f.coordinates];else if(f.type==="MultiLineString")u=f.coordinates;else if(f.type==="MultiPolygon")u=[].concat.apply([],f.coordinates);else if(f.type==="Polygon")u=f.coordinates;else throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");return u.forEach(function(v){u.forEach(function(x){for(var k=0;k<v.length-1;k++)for(var P=k;P<x.length-1;P++)if(!(v===x&&(Math.abs(k-P)===1||k===0&&P===v.length-2&&v[k][0]===v[v.length-1][0]&&v[k][1]===v[v.length-1][1]))){var E=Ia(v[k][0],v[k][1],v[k+1][0],v[k+1][1],x[P][0],x[P][1],x[P+1][0],x[P+1][1]);E&&m.features.push(ln([E[0],E[1]]))}})}),m}function Ia(l,u,f,m,v,x,k,P){var E,D,Z,$,ut,mt={x:null,y:null,onLine1:!1,onLine2:!1};return E=(P-x)*(f-l)-(k-v)*(m-u),E===0?mt.x!==null&&mt.y!==null?mt:!1:(D=u-x,Z=l-v,$=(k-v)*D-(P-x)*Z,ut=(f-l)*D-(m-u)*Z,D=$/E,Z=ut/E,mt.x=l+D*(f-l),mt.y=u+D*(m-u),D>=0&&D<=1&&(mt.onLine1=!0),Z>=0&&Z<=1&&(mt.onLine2=!0),mt.onLine1&&mt.onLine2?[mt.x,mt.y]:!1)}He.Line=He.extend({initialize(l){this._map=l,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable(l){L.Util.setOptions(this,l),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],{...this.options.templineStyle,pmIgnore:!1}),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(pe("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createVertex,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this.isRed=!1,this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(l){this.enabled()?this.disable():this.enable(l)},_syncHintLine(){let l=this._layer.getLatLngs();if(l.length>0){let u=l[l.length-1];this._hintline.setLatLngs([u,this._hintMarker.getLatLng()])}},_syncHintMarker(l){if(this._hintMarker.setLatLng(l.latlng),this.options.snappable){let f=l;f.target=this._hintMarker,this._handleSnapping(f)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());let u=this._layer._defaultShape().slice();u.push(this._hintMarker.getLatLng()),this._change(u)},hasSelfIntersection(){return Wn(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection(l,u){let f=L.polyline(this._layer.getLatLngs());l&&(u||(u=this._hintMarker.getLatLng()),f.addLatLng(u));let m=Wn(f.toGeoJSON(15));this._doesSelfIntersect=m.features.length>0,this._doesSelfIntersect?this.isRed||(this.isRed=!0,this._hintline.setStyle({color:"#f00000ff"}),this._fireIntersect(m,this._map,"Draw")):this._hintline.isEmpty()||(this.isRed=!1,this._hintline.setStyle(this.options.hintlineStyle))},_createVertex(l){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,l.latlng),this._doesSelfIntersect))return;this._hintMarker._snapped||this._hintMarker.setLatLng(l.latlng);let u=this._hintMarker.getLatLng(),f=this._layer.getLatLngs(),m=f[f.length-1];if(u.equals(f[0])||f.length>0&&u.equals(m)){this._finishShape();return}this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:u,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(u);let v=this._createMarker(u);this._setTooltipText(),this._setHintLineAfterNewVertex(u),this._fireVertexAdded(v,void 0,u,"Draw"),this._change(this._layer.getLatLngs()),this.options.finishOn==="snap"&&this._hintMarker._snapped&&this._finishShape(l)},_setHintLineAfterNewVertex(l){this._hintline.setLatLngs([l,l])},_removeLastVertex(){let l=this._markers;if(l.length<=1){this.disable();return}let u=this._layer.getLatLngs(),f=l[l.length-1],{indexPath:m}=L.PM.Utils.findDeepMarkerIndex(l,f);l.pop(),this._layerGroup.removeLayer(f);let v=l[l.length-1],x=u.indexOf(v.getLatLng());u=u.slice(0,x+1),this._layer.setLatLngs(u),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(f,m,"Draw"),this._change(this._layer.getLatLngs())},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!1),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let l=this._layer.getLatLngs();if(l.length<=1)return;let u=L.polyline(l,this.options.pathOptions);this._setPane(u,"layerPane"),this._finishLayer(u),u.addTo(this._map.pm._getContainingLayer()),this._fireCreate(u),this.options.snappable&&this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()},_createMarker(l){let u=new L.Marker(l,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(u,"vertexPane"),u._pmTempLayer=!0,this._layerGroup.addLayer(u),this._markers.push(u),u.on("click",this._finishShape,this),u},_setTooltipText(){let{length:l}=this._layer.getLatLngs().flat(),u="";l<=1?u=pe("tooltips.continueLine"):u=pe("tooltips.finishLine"),this._hintMarker.setTooltipContent(u)},_change(l){this._fireChange(l,"Draw")},setStyle(){var l,u;(l=this._layer)==null||l.setStyle(this.options.templineStyle),(u=this._hintline)==null||u.setStyle(this.options.hintlineStyle)}}),He.Polygon=He.Line.extend({initialize(l){this._map=l,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable(l){L.PM.Draw.Line.prototype.enable.call(this,l),this._layer.pm._shape="Polygon"},_createMarker(l){let u=new L.Marker(l,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(u,"vertexPane"),u._pmTempLayer=!0,this._layerGroup.addLayer(u),this._markers.push(u),this._layer.getLatLngs().flat().length===1?(u.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(u)-1,this.options.snappable&&this._cleanupSnapping()):u.on("click",()=>1),u},_setTooltipText(){let{length:l}=this._layer.getLatLngs().flat(),u="";l<=2?u=pe("tooltips.continueLine"):u=pe("tooltips.finishPoly"),this._hintMarker.setTooltipContent(u)},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let l=this._layer.getLatLngs();if(l.length<=2)return;let u=L.polygon(l,this.options.pathOptions);this._setPane(u,"layerPane"),this._finishLayer(u),u.addTo(this._map.pm._getContainingLayer()),this._fireCreate(u),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this.disable(),this.options.continueDrawing&&this.enable()}}),He.Rectangle=He.extend({initialize(l){this._map=l,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable(l){if(L.Util.setOptions(this,l),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(pe("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(let u=0;u<2;u+=1){let f=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(f,"vertexPane"),f._pmTempLayer=!0,this._layerGroup.addLayer(f),this._styleMarkers.push(f)}}this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(l){this.enabled()?this.disable():this.enable(l)},_placeStartingMarkers(l){this._hintMarker._snapped||this._hintMarker.setLatLng(l.latlng);let u=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(u),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(f=>{L.DomUtil.addClass(f._icon,"visible"),f.setLatLng(u)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(pe("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin(){let l=this._startMarker.getLatLng();l&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([l,l]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker(l){if(this._hintMarker.setLatLng(l.latlng),this.options.snappable){let f=l;f.target=this._hintMarker,this._handleSnapping(f)}let u=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(u,"Draw")},_syncRectangleSize(){let l=ar(this._startMarker.getLatLng(),this._map),u=ar(this._hintMarker.getLatLng(),this._map),f=L.PM.Utils._getRotatedRectangle(l,u,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(f),this.options.cursorMarker&&this._styleMarkers){let m=[];f.forEach(v=>{!v.equals(l,1e-8)&&!v.equals(u,1e-8)&&m.push(v)}),m.forEach((v,x)=>{try{this._styleMarkers[x].setLatLng(v)}catch{}})}},_findCorners(){let l=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(l[0],l[2],this.options.rectangleAngle||0,this._map)},_finishShape(l){this._hintMarker._snapped||this._hintMarker.setLatLng(l.latlng);let u=this._hintMarker.getLatLng(),f=this._startMarker.getLatLng();if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||f.equals(u))return;let m=L.rectangle([f,u],this.options.pathOptions);if(this.options.rectangleAngle){let v=L.PM.Utils._getRotatedRectangle(f,u,this.options.rectangleAngle||0,this._map);m.setLatLngs(v),m.pm&&m.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(m,"layerPane"),this._finishLayer(m),m.addTo(this._map.pm._getContainingLayer()),this._fireCreate(m),this.disable(),this.options.continueDrawing&&this.enable()},setStyle(){var l;(l=this._layer)==null||l.setStyle(this.options.pathOptions)}}),He.CircleMarker=He.extend({initialize(l){this._map=l,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1,this._BaseCircleClass=L.CircleMarker,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._defaultRadius=10},enable(l){if(L.Util.setOptions(this,l),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._map.getContainer().classList.add("geoman-draw-cursor"),this.options[this._editableOption]){let u={};L.extend(u,this.options.templineStyle),u.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=new this._BaseCircleClass(this._map.getCenter(),u),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(pe("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this)}else this._map.on("click",this._createMarker,this),this._hintMarker=new this._BaseCircleClass(this._map.getCenter(),{radius:this._defaultRadius,...this.options.templineStyle}),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(pe("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),this._extendingEnable(),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},_extendingEnable(){!this.options[this._editableOption]&&this.options.markerEditable&&this._map.eachLayer(l=>{this.isRelevantMarker(l)&&l.pm.enable()}),this._layer.bringToBack()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this.options[this._editableOption]?(this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._extendingDisable(),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_extendingDisable(){this._map.eachLayer(l=>{this.isRelevantMarker(l)&&l.pm.disable()})},enabled(){return this._enabled},toggle(l){this.enabled()?this.disable():this.enable(l)},_placeCenterMarker(l){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(l.latlng);let u=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(u),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter(){let l=this._centerMarker.getLatLng();l&&(this._layer.setLatLng(l),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(pe("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine(){let l=this._centerMarker.getLatLng(),u=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([l,u])},_syncCircleRadius(){let l=this._centerMarker.getLatLng(),u=this._hintMarker.getLatLng(),f=this._distanceCalculation(l,u);this.options[this._minRadiusOption]&&f<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&f>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(f)},_syncHintMarker(l){if(this._hintMarker.setLatLng(l.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){let f=l;f.target=this._hintMarker,this._handleSnapping(f)}this._handleHintMarkerSnapping();let u=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(u,"Draw")},isRelevantMarker(l){return l instanceof L.CircleMarker&&!(l instanceof L.Circle)&&l.pm&&!l._pmTempLayer},_createMarker(l){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||!l.latlng||this._layerIsDragging)return;this._hintMarker._snapped||this._hintMarker.setLatLng(l.latlng);let u=this._hintMarker.getLatLng(),f=new this._BaseCircleClass(u,{radius:this._defaultRadius,...this.options.pathOptions});this._setPane(f,"layerPane"),this._finishLayer(f),f.addTo(this._map.pm._getContainingLayer()),this._extendingCreateMarker(f),this._fireCreate(f),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},_extendingCreateMarker(l){l.pm&&this.options.markerEditable&&l.pm.enable()},_finishShape(l){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(l.latlng);let u=this._centerMarker.getLatLng(),f=this._defaultRadius;if(this.options[this._editableOption]){let x=this._hintMarker.getLatLng();f=this._distanceCalculation(u,x),this.options[this._minRadiusOption]&&f<this.options[this._minRadiusOption]?f=this.options[this._minRadiusOption]:this.options[this._maxRadiusOption]&&f>this.options[this._maxRadiusOption]&&(f=this.options[this._maxRadiusOption])}let m={...this.options.pathOptions,radius:f},v=new this._BaseCircleClass(u,m);this._setPane(v,"layerPane"),this._finishLayer(v),v.addTo(this._map.pm._getContainingLayer()),v.pm&&v.pm._updateHiddenPolyCircle(),this._fireCreate(v),this.disable(),this.options.continueDrawing&&this.enable()},_getNewDestinationOfHintMarker(){let l=this._hintMarker.getLatLng();if(this.options[this._editableOption]){if(!this._layerGroup.hasLayer(this._centerMarker))return l;let u=this._centerMarker.getLatLng(),f=this._distanceCalculation(u,l);this.options[this._minRadiusOption]&&f<this.options[this._minRadiusOption]?l=$n(this._map,u,l,this._getMinDistanceInMeter()):this.options[this._maxRadiusOption]&&f>this.options[this._maxRadiusOption]&&(l=$n(this._map,u,l,this._getMaxDistanceInMeter()))}return l},_getMinDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,this._centerMarker.getLatLng())},_getMaxDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,this._centerMarker.getLatLng())},_handleHintMarkerSnapping(){if(this.options[this._editableOption]){if(this._hintMarker._snapped){let l=this._centerMarker.getLatLng(),u=this._hintMarker.getLatLng(),f=this._distanceCalculation(l,u);this._layerGroup.hasLayer(this._centerMarker)&&(this.options[this._minRadiusOption]&&f<this.options[this._minRadiusOption]?this._hintMarker.setLatLng(this._hintMarker._orgLatLng):this.options[this._maxRadiusOption]&&f>this.options[this._maxRadiusOption]&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng))}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},setStyle(){var u,f;let l={};L.extend(l,this.options.templineStyle),this.options[this._editableOption]&&(l.radius=0),(u=this._layer)==null||u.setStyle(l),(f=this._hintline)==null||f.setStyle(this.options.hintlineStyle)},_distanceCalculation(l,u){return this._map.project(l).distanceTo(this._map.project(u))}}),He.Circle=He.CircleMarker.extend({initialize(l){this._map=l,this._shape="Circle",this.toolbarButtonName="drawCircle",this._BaseCircleClass=L.Circle,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizableCircle",this._defaultRadius=100},_extendingEnable(){},_extendingDisable(){},_extendingCreateMarker(){},isRelevantMarker(){},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_distanceCalculation(l,u){return this._map.distance(l,u)}});function hi(l){if(!l)throw new Error("coord is required");if(!Array.isArray(l)){if(l.type==="Feature"&&l.geometry!==null&&l.geometry.type==="Point")return l.geometry.coordinates;if(l.type==="Point")return l.coordinates}if(Array.isArray(l)&&l.length>=2&&!Array.isArray(l[0])&&!Array.isArray(l[1]))return l;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function di(l){if(Array.isArray(l))return l;if(l.type==="Feature"){if(l.geometry!==null)return l.geometry.coordinates}else if(l.coordinates)return l.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function sr(l){return l.type==="Feature"?l.geometry:l}function ha(l,u){return l.type==="FeatureCollection"?"FeatureCollection":l.type==="GeometryCollection"?"GeometryCollection":l.type==="Feature"&&l.geometry!==null?l.geometry.type:l.type}function lr(l,u,f){if(l!==null)for(var m,v,x,k,P,E,D,Z=0,$=0,ut,mt=l.type,Mt=mt==="FeatureCollection",Dt=mt==="Feature",Rt=Mt?l.features.length:1,me=0;me<Rt;me++){D=Mt?l.features[me].geometry:Dt?l.geometry:l,ut=D?D.type==="GeometryCollection":!1,P=ut?D.geometries.length:1;for(var W=0;W<P;W++){var X=0,nt=0;if(k=ut?D.geometries[W]:D,k!==null){E=k.coordinates;var pt=k.type;switch(Z=f&&(pt==="Polygon"||pt==="MultiPolygon")?1:0,pt){case null:break;case"Point":if(u(E,$,me,X,nt)===!1)return!1;$++,X++;break;case"LineString":case"MultiPoint":for(m=0;m<E.length;m++){if(u(E[m],$,me,X,nt)===!1)return!1;$++,pt==="MultiPoint"&&X++}pt==="LineString"&&X++;break;case"Polygon":case"MultiLineString":for(m=0;m<E.length;m++){for(v=0;v<E[m].length-Z;v++){if(u(E[m][v],$,me,X,nt)===!1)return!1;$++}pt==="MultiLineString"&&X++,pt==="Polygon"&&nt++}pt==="Polygon"&&X++;break;case"MultiPolygon":for(m=0;m<E.length;m++){for(nt=0,v=0;v<E[m].length;v++){for(x=0;x<E[m][v].length-Z;x++){if(u(E[m][v][x],$,me,X,nt)===!1)return!1;$++}nt++}X++}break;case"GeometryCollection":for(m=0;m<k.geometries.length;m++)if(lr(k.geometries[m],u,f)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Gn(l,u){if(l.type==="Feature")u(l,0);else if(l.type==="FeatureCollection")for(var f=0;f<l.features.length&&u(l.features[f],f)!==!1;f++);}function yi(l,u,f){var m=f;return Gn(l,function(v,x){x===0&&f===void 0?m=v:m=u(m,v,x)}),m}function Pn(l,u){var f,m,v,x,k,P,E,D,Z,$,ut=0,mt=l.type==="FeatureCollection",Mt=l.type==="Feature",Dt=mt?l.features.length:1;for(f=0;f<Dt;f++){for(P=mt?l.features[f].geometry:Mt?l.geometry:l,D=mt?l.features[f].properties:Mt?l.properties:{},Z=mt?l.features[f].bbox:Mt?l.bbox:void 0,$=mt?l.features[f].id:Mt?l.id:void 0,E=P?P.type==="GeometryCollection":!1,k=E?P.geometries.length:1,v=0;v<k;v++){if(x=E?P.geometries[v]:P,x===null){if(u(null,ut,D,Z,$)===!1)return!1;continue}switch(x.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(u(x,ut,D,Z,$)===!1)return!1;break}case"GeometryCollection":{for(m=0;m<x.geometries.length;m++)if(u(x.geometries[m],ut,D,Z,$)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}ut++}}function Fr(l,u){Pn(l,function(f,m,v,x,k){var P=f===null?null:f.type;switch(P){case null:case"Point":case"LineString":case"Polygon":return u(kn(f,v,{bbox:x,id:k}),m,0)===!1?!1:void 0}var E;switch(P){case"MultiPoint":E="Point";break;case"MultiLineString":E="LineString";break;case"MultiPolygon":E="Polygon";break}for(var D=0;D<f.coordinates.length;D++){var Z=f.coordinates[D],$={type:E,coordinates:Z};if(u(kn($,v),m,D)===!1)return!1}})}function Ni(l){if(!l)throw new Error("geojson is required");var u=[];return Fr(l,function(f){Na(f,u)}),vi(u)}function Na(l,u){var f=[],m=l.geometry;if(m!==null){switch(m.type){case"Polygon":f=di(m);break;case"LineString":f=[di(m)]}f.forEach(function(v){var x=Sn(v,l.properties);x.forEach(function(k){k.id=u.length,u.push(k)})})}}function Sn(l,u){var f=[];return l.reduce(function(m,v){var x=Mn([m,v],u);return x.bbox=Ra(m,v),f.push(x),v}),f}function Ra(l,u){var f=l[0],m=l[1],v=u[0],x=u[1],k=f<v?f:v,P=m<x?m:x,E=f>v?f:v,D=m>x?m:x;return[k,P,E,D]}var hn=Ni,da=p(_i(),1);function ur(l,u){var f={},m=[];if(l.type==="LineString"&&(l=kn(l)),u.type==="LineString"&&(u=kn(u)),l.type==="Feature"&&u.type==="Feature"&&l.geometry!==null&&u.geometry!==null&&l.geometry.type==="LineString"&&u.geometry.type==="LineString"&&l.geometry.coordinates.length===2&&u.geometry.coordinates.length===2){var v=fa(l,u);return v&&m.push(v),vi(m)}var x=(0,da.default)();return x.load(hn(u)),Gn(hn(l),function(k){Gn(x.search(k),function(P){var E=fa(k,P);if(E){var D=di(E).join(",");f[D]||(f[D]=!0,m.push(E))}})}),vi(m)}function fa(l,u){var f=di(l),m=di(u);if(f.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(m.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var v=f[0][0],x=f[0][1],k=f[1][0],P=f[1][1],E=m[0][0],D=m[0][1],Z=m[1][0],$=m[1][1],ut=($-D)*(k-v)-(Z-E)*(P-x),mt=(Z-E)*(x-D)-($-D)*(v-E),Mt=(k-v)*(x-D)-(P-x)*(v-E);if(ut===0)return null;var Dt=mt/ut,Rt=Mt/ut;if(Dt>=0&&Dt<=1&&Rt>=0&&Rt<=1){var me=v+Dt*(k-v),W=x+Dt*(P-x);return ln([me,W])}return null}var Je=ur,Zn=p(_i(),1);function za(l,u,f){f===void 0&&(f={});var m=hi(l),v=hi(u),x=Ee(v[1]-m[1]),k=Ee(v[0]-m[0]),P=Ee(m[1]),E=Ee(v[1]),D=Math.pow(Math.sin(x/2),2)+Math.pow(Math.sin(k/2),2)*Math.cos(P)*Math.cos(E);return un(2*Math.atan2(Math.sqrt(D),Math.sqrt(1-D)),f.units)}var Ri=za;function Fa(l){var u=l[0],f=l[1],m=l[2],v=l[3],x=Ri(l.slice(0,2),[m,f]),k=Ri(l.slice(0,2),[u,v]);if(x>=k){var P=(f+v)/2;return[u,P-(m-u)/2,m,P+(m-u)/2]}else{var E=(u+m)/2;return[E-(v-f)/2,f,E+(v-f)/2,v]}}var zi=Fa;function Vr(l){var u=[1/0,1/0,-1/0,-1/0];return lr(l,function(f){u[0]>f[0]&&(u[0]=f[0]),u[1]>f[1]&&(u[1]=f[1]),u[2]<f[0]&&(u[2]=f[0]),u[3]<f[1]&&(u[3]=f[1])}),u}Vr.default=Vr;var ki=Vr;function Va(l,u){u===void 0&&(u={});var f=u.precision,m=u.coordinates,v=u.mutate;if(f=f==null||isNaN(f)?6:f,m=m==null||isNaN(m)?3:m,!l)throw new Error("<geojson> is required");if(typeof f!="number")throw new Error("<precision> must be a number");if(typeof m!="number")throw new Error("<coordinates> must be a number");(v===!1||v===void 0)&&(l=JSON.parse(JSON.stringify(l)));var x=Math.pow(10,f);return lr(l,function(k){Fi(k,x,m)}),l}function Fi(l,u,f){l.length>f&&l.splice(f,l.length);for(var m=0;m<l.length;m++)l[m]=Math.round(l[m]*u)/u;return l}var cr=Va;function jr(l,u,f){if(f===void 0&&(f={}),f.final===!0)return Hr(l,u);var m=hi(l),v=hi(u),x=Ee(m[0]),k=Ee(v[0]),P=Ee(m[1]),E=Ee(v[1]),D=Math.sin(k-x)*Math.cos(E),Z=Math.cos(P)*Math.sin(E)-Math.sin(P)*Math.cos(E)*Math.cos(k-x);return cn(Math.atan2(D,Z))}function Hr(l,u){var f=jr(u,l);return f=(f+180)%360,f}function Yn(l,u,f,m){m===void 0&&(m={});var v=hi(l),x=Ee(v[0]),k=Ee(v[1]),P=Ee(f),E=Oa(u,m.units),D=Math.asin(Math.sin(k)*Math.cos(E)+Math.cos(k)*Math.sin(E)*Math.cos(P)),Z=x+Math.atan2(Math.sin(P)*Math.sin(E)*Math.cos(k),Math.cos(E)-Math.sin(k)*Math.sin(D)),$=cn(Z),ut=cn(D);return ln([$,ut],m.properties)}function Ur(l,u,f){f===void 0&&(f={});var m=ln([1/0,1/0],{dist:1/0}),v=0;return Fr(l,function(x){for(var k=di(x),P=0;P<k.length-1;P++){var E=ln(k[P]);E.properties.dist=Ri(u,E,f);var D=ln(k[P+1]);D.properties.dist=Ri(u,D,f);var Z=Ri(E,D,f),$=Math.max(E.properties.dist,D.properties.dist),ut=jr(E,D),mt=Yn(u,$,ut+90,f),Mt=Yn(u,$,ut-90,f),Dt=Je(Mn([mt.geometry.coordinates,Mt.geometry.coordinates]),Mn([E.geometry.coordinates,D.geometry.coordinates])),Rt=null;Dt.features.length>0&&(Rt=Dt.features[0],Rt.properties.dist=Ri(u,Rt,f),Rt.properties.location=v+Ri(E,Rt,f)),E.properties.dist<m.properties.dist&&(m=E,m.properties.index=P,m.properties.location=v),D.properties.dist<m.properties.dist&&(m=D,m.properties.index=P+1,m.properties.location=v+Z),Rt&&Rt.properties.dist<m.properties.dist&&(m=Rt,m.properties.index=P),v+=Z}}),m}var hr=Ur;function Tn(l,u){if(!l)throw new Error("line is required");if(!u)throw new Error("splitter is required");var f=ha(l),m=ha(u);if(f!=="LineString")throw new Error("line must be LineString");if(m==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(m==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var v=cr(u,{precision:7});switch(m){case"Point":return Kn(l,v);case"MultiPoint":return Qn(l,v);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return Qn(l,Je(l,v))}}function Qn(l,u){var f=[],m=(0,Zn.default)();return Fr(u,function(v){if(f.forEach(function(P,E){P.id=E}),!f.length)f=Kn(l,v).features,f.forEach(function(P){P.bbox||(P.bbox=zi(ki(P)))}),m.load(vi(f));else{var x=m.search(v);if(x.features.length){var k=qr(v,x);f=f.filter(function(P){return P.id!==k.id}),m.remove(k),Gn(Kn(k,v),function(P){f.push(P),m.insert(P)})}}}),vi(f)}function Kn(l,u){var f=[],m=di(l)[0],v=di(l)[l.geometry.coordinates.length-1];if($r(m,hi(u))||$r(v,hi(u)))return vi([l]);var x=(0,Zn.default)(),k=hn(l);x.load(k);var P=x.search(u);if(!P.features.length)return vi([l]);var E=qr(u,P),D=[m],Z=yi(k,function($,ut,mt){var Mt=di(ut)[1],Dt=hi(u);return mt===E.id?($.push(Dt),f.push(Mn($)),$r(Dt,Mt)?[Dt]:[Dt,Mt]):($.push(Mt),$)},D);return Z.length>1&&f.push(Mn(Z)),vi(f)}function qr(l,u){if(!u.features.length)throw new Error("lines must contain features");if(u.features.length===1)return u.features[0];var f,m=1/0;return Gn(u,function(v){var x=hr(v,l),k=x.properties.dist;k<m&&(f=v,m=k)}),f}function $r(l,u){return l[0]===u[0]&&l[1]===u[1]}var dr=Tn;function fr(l,u,f){if(f===void 0&&(f={}),!l)throw new Error("point is required");if(!u)throw new Error("polygon is required");var m=hi(l),v=sr(u),x=v.type,k=u.bbox,P=v.coordinates;if(k&&ja(m,k)===!1)return!1;x==="Polygon"&&(P=[P]);for(var E=!1,D=0;D<P.length&&!E;D++)if(Wr(m,P[D][0],f.ignoreBoundary)){for(var Z=!1,$=1;$<P[D].length&&!Z;)Wr(m,P[D][$],!f.ignoreBoundary)&&(Z=!0),$++;Z||(E=!0)}return E}function Wr(l,u,f){var m=!1;u[0][0]===u[u.length-1][0]&&u[0][1]===u[u.length-1][1]&&(u=u.slice(0,u.length-1));for(var v=0,x=u.length-1;v<u.length;x=v++){var k=u[v][0],P=u[v][1],E=u[x][0],D=u[x][1],Z=l[1]*(k-E)+P*(E-l[0])+D*(l[0]-k)===0&&(k-l[0])*(E-l[0])<=0&&(P-l[1])*(D-l[1])<=0;if(Z)return!f;var $=P>l[1]!=D>l[1]&&l[0]<(E-k)*(l[1]-P)/(D-P)+k;$&&(m=!m)}return m}function ja(l,u){return u[0]<=l[0]&&u[1]<=l[1]&&u[2]>=l[0]&&u[3]>=l[1]}function pa(l,u,f){f===void 0&&(f={});for(var m=hi(l),v=di(u),x=0;x<v.length-1;x++){var k=!1;if(f.ignoreEndVertices&&(x===0&&(k="start"),x===v.length-2&&(k="end"),x===0&&x+1===v.length-1&&(k="both")),Ha(v[x],v[x+1],m,k,typeof f.epsilon>"u"?null:f.epsilon))return!0}return!1}function Ha(l,u,f,m,v){var x=f[0],k=f[1],P=l[0],E=l[1],D=u[0],Z=u[1],$=f[0]-P,ut=f[1]-E,mt=D-P,Mt=Z-E,Dt=$*Mt-ut*mt;if(v!==null){if(Math.abs(Dt)>v)return!1}else if(Dt!==0)return!1;if(m){if(m==="start")return Math.abs(mt)>=Math.abs(Mt)?mt>0?P<x&&x<=D:D<=x&&x<P:Mt>0?E<k&&k<=Z:Z<=k&&k<E;if(m==="end")return Math.abs(mt)>=Math.abs(Mt)?mt>0?P<=x&&x<D:D<x&&x<=P:Mt>0?E<=k&&k<Z:Z<k&&k<=E;if(m==="both")return Math.abs(mt)>=Math.abs(Mt)?mt>0?P<x&&x<D:D<x&&x<P:Mt>0?E<k&&k<Z:Z<k&&k<E}else return Math.abs(mt)>=Math.abs(Mt)?mt>0?P<=x&&x<=D:D<=x&&x<=P:Mt>0?E<=k&&k<=Z:Z<=k&&k<=E;return!1}var ti=pa;function pr(l,u){var f=sr(l),m=sr(u),v=f.type,x=m.type,k=f.coordinates,P=m.coordinates;switch(v){case"Point":switch(x){case"Point":return gr(k,P);default:throw new Error("feature2 "+x+" geometry not supported")}case"MultiPoint":switch(x){case"Point":return Ua(f,m);case"MultiPoint":return mr(f,m);default:throw new Error("feature2 "+x+" geometry not supported")}case"LineString":switch(x){case"Point":return ti(m,f,{ignoreEndVertices:!0});case"LineString":return $a(f,m);case"MultiPoint":return qa(f,m);default:throw new Error("feature2 "+x+" geometry not supported")}case"Polygon":switch(x){case"Point":return fr(m,f,{ignoreBoundary:!0});case"LineString":return Xn(f,m);case"Polygon":return Wa(f,m);case"MultiPoint":return ma(f,m);default:throw new Error("feature2 "+x+" geometry not supported")}default:throw new Error("feature1 "+v+" geometry not supported")}}function Ua(l,u){var f,m=!1;for(f=0;f<l.coordinates.length;f++)if(gr(l.coordinates[f],u.coordinates)){m=!0;break}return m}function mr(l,u){for(var f=0,m=u.coordinates;f<m.length;f++){for(var v=m[f],x=!1,k=0,P=l.coordinates;k<P.length;k++){var E=P[k];if(gr(v,E)){x=!0;break}}if(!x)return!1}return!0}function qa(l,u){for(var f=!1,m=0,v=u.coordinates;m<v.length;m++){var x=v[m];if(ti(x,l,{ignoreEndVertices:!0})&&(f=!0),!ti(x,l))return!1}return!!f}function ma(l,u){for(var f=0,m=u.coordinates;f<m.length;f++){var v=m[f];if(!fr(v,l,{ignoreBoundary:!0}))return!1}return!0}function $a(l,u){for(var f=!1,m=0,v=u.coordinates;m<v.length;m++){var x=v[m];if(ti({type:"Point",coordinates:x},l,{ignoreEndVertices:!0})&&(f=!0),!ti({type:"Point",coordinates:x},l,{ignoreEndVertices:!1}))return!1}return f}function Xn(l,u){var f=!1,m=0,v=ki(l),x=ki(u);if(!dn(v,x))return!1;for(m;m<u.coordinates.length-1;m++){var k=ga(u.coordinates[m],u.coordinates[m+1]);if(fr({type:"Point",coordinates:k},l,{ignoreBoundary:!0})){f=!0;break}}return f}function Wa(l,u){if(l.type==="Feature"&&l.geometry===null||u.type==="Feature"&&u.geometry===null)return!1;var f=ki(l),m=ki(u);if(!dn(f,m))return!1;for(var v=sr(u).coordinates,x=0,k=v;x<k.length;x++)for(var P=k[x],E=0,D=P;E<D.length;E++){var Z=D[E];if(!fr(Z,l))return!1}return!0}function dn(l,u){return!(l[0]>u[0]||l[2]<u[2]||l[1]>u[1]||l[3]<u[3])}function gr(l,u){return l[0]===u[0]&&l[1]===u[1]}function ga(l,u){return[(l[0]+u[0])/2,(l[1]+u[1])/2]}var Ga=p(gi()),Mi=l=>()=>l,_r=l=>{let u=l?(f,m)=>m.minus(f).abs().isLessThanOrEqualTo(l):Mi(!1);return(f,m)=>u(f,m)?0:f.comparedTo(m)};function _a(l){let u=l?(f,m,v,x,k)=>f.exponentiatedBy(2).isLessThanOrEqualTo(x.minus(m).exponentiatedBy(2).plus(k.minus(v).exponentiatedBy(2)).times(l)):Mi(!1);return(f,m,v)=>{let x=f.x,k=f.y,P=v.x,E=v.y,D=k.minus(E).times(m.x.minus(P)).minus(x.minus(P).times(m.y.minus(E)));return u(D,x,k,P,E)?0:D.comparedTo(0)}}var Jn=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Gr=Math.ceil,Ze=Math.floor,Fe="[BigNumber Error] ",Zr=Fe+"Number primitive has more than 15 significant digits: ",fi=1e14,Jt=14,vr=9007199254740991,yr=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Vi=1e7,Re=1e9;function Yr(l){var u,f,m,v=W.prototype={constructor:W,toString:null,valueOf:null},x=new W(1),k=20,P=4,E=-7,D=21,Z=-1e7,$=1e7,ut=!1,mt=1,Mt=0,Dt={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},Rt="0123456789abcdefghijklmnopqrstuvwxyz",me=!0;function W(B,R){var V,F,H,U,tt,J,it,lt,st=this;if(!(st instanceof W))return new W(B,R);if(R==null){if(B&&B._isBigNumber===!0){st.s=B.s,!B.c||B.e>$?st.c=st.e=null:B.e<Z?st.c=[st.e=0]:(st.e=B.e,st.c=B.c.slice());return}if((J=typeof B=="number")&&B*0==0){if(st.s=1/B<0?(B=-B,-1):1,B===~~B){for(U=0,tt=B;tt>=10;tt/=10,U++);U>$?st.c=st.e=null:(st.e=U,st.c=[B]);return}lt=String(B)}else{if(!Jn.test(lt=String(B)))return m(st,lt,J);st.s=lt.charCodeAt(0)==45?(lt=lt.slice(1),-1):1}(U=lt.indexOf("."))>-1&&(lt=lt.replace(".","")),(tt=lt.search(/e/i))>0?(U<0&&(U=tt),U+=+lt.slice(tt+1),lt=lt.substring(0,tt)):U<0&&(U=lt.length)}else{if(Se(R,2,Rt.length,"Base"),R==10&&me)return st=new W(B),rt(st,k+st.e+1,P);if(lt=String(B),J=typeof B=="number"){if(B*0!=0)return m(st,lt,J,R);if(st.s=1/B<0?(lt=lt.slice(1),-1):1,W.DEBUG&&lt.replace(/^0\.0*|\./,"").length>15)throw Error(Zr+B)}else st.s=lt.charCodeAt(0)===45?(lt=lt.slice(1),-1):1;for(V=Rt.slice(0,R),U=tt=0,it=lt.length;tt<it;tt++)if(V.indexOf(F=lt.charAt(tt))<0){if(F=="."){if(tt>U){U=it;continue}}else if(!H&&(lt==lt.toUpperCase()&&(lt=lt.toLowerCase())||lt==lt.toLowerCase()&&(lt=lt.toUpperCase()))){H=!0,tt=-1,U=0;continue}return m(st,String(B),J,R)}J=!1,lt=f(lt,R,10,st.s),(U=lt.indexOf("."))>-1?lt=lt.replace(".",""):U=lt.length}for(tt=0;lt.charCodeAt(tt)===48;tt++);for(it=lt.length;lt.charCodeAt(--it)===48;);if(lt=lt.slice(tt,++it)){if(it-=tt,J&&W.DEBUG&&it>15&&(B>vr||B!==Ze(B)))throw Error(Zr+st.s*B);if((U=U-tt-1)>$)st.c=st.e=null;else if(U<Z)st.c=[st.e=0];else{if(st.e=U,st.c=[],tt=(U+1)%Jt,U<0&&(tt+=Jt),tt<it){for(tt&&st.c.push(+lt.slice(0,tt)),it-=Jt;tt<it;)st.c.push(+lt.slice(tt,tt+=Jt));tt=Jt-(lt=lt.slice(tt)).length}else tt-=it;for(;tt--;lt+="0");st.c.push(+lt)}}else st.c=[st.e=0]}W.clone=Yr,W.ROUND_UP=0,W.ROUND_DOWN=1,W.ROUND_CEIL=2,W.ROUND_FLOOR=3,W.ROUND_HALF_UP=4,W.ROUND_HALF_DOWN=5,W.ROUND_HALF_EVEN=6,W.ROUND_HALF_CEIL=7,W.ROUND_HALF_FLOOR=8,W.EUCLID=9,W.config=W.set=function(B){var R,V;if(B!=null)if(typeof B=="object"){if(B.hasOwnProperty(R="DECIMAL_PLACES")&&(V=B[R],Se(V,0,Re,R),k=V),B.hasOwnProperty(R="ROUNDING_MODE")&&(V=B[R],Se(V,0,8,R),P=V),B.hasOwnProperty(R="EXPONENTIAL_AT")&&(V=B[R],V&&V.pop?(Se(V[0],-Re,0,R),Se(V[1],0,Re,R),E=V[0],D=V[1]):(Se(V,-Re,Re,R),E=-(D=V<0?-V:V))),B.hasOwnProperty(R="RANGE"))if(V=B[R],V&&V.pop)Se(V[0],-Re,-1,R),Se(V[1],1,Re,R),Z=V[0],$=V[1];else if(Se(V,-Re,Re,R),V)Z=-($=V<0?-V:V);else throw Error(Fe+R+" cannot be zero: "+V);if(B.hasOwnProperty(R="CRYPTO"))if(V=B[R],V===!!V)if(V)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))ut=V;else throw ut=!V,Error(Fe+"crypto unavailable");else ut=V;else throw Error(Fe+R+" not true or false: "+V);if(B.hasOwnProperty(R="MODULO_MODE")&&(V=B[R],Se(V,0,9,R),mt=V),B.hasOwnProperty(R="POW_PRECISION")&&(V=B[R],Se(V,0,Re,R),Mt=V),B.hasOwnProperty(R="FORMAT"))if(V=B[R],typeof V=="object")Dt=V;else throw Error(Fe+R+" not an object: "+V);if(B.hasOwnProperty(R="ALPHABET"))if(V=B[R],typeof V=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(V))me=V.slice(0,10)=="0123456789",Rt=V;else throw Error(Fe+R+" invalid: "+V)}else throw Error(Fe+"Object expected: "+B);return{DECIMAL_PLACES:k,ROUNDING_MODE:P,EXPONENTIAL_AT:[E,D],RANGE:[Z,$],CRYPTO:ut,MODULO_MODE:mt,POW_PRECISION:Mt,FORMAT:Dt,ALPHABET:Rt}},W.isBigNumber=function(B){if(!B||B._isBigNumber!==!0)return!1;if(!W.DEBUG)return!0;var R,V,F=B.c,H=B.e,U=B.s;t:if({}.toString.call(F)=="[object Array]"){if((U===1||U===-1)&&H>=-Re&&H<=Re&&H===Ze(H)){if(F[0]===0){if(H===0&&F.length===1)return!0;break t}if(R=(H+1)%Jt,R<1&&(R+=Jt),String(F[0]).length==R){for(R=0;R<F.length;R++)if(V=F[R],V<0||V>=fi||V!==Ze(V))break t;if(V!==0)return!0}}}else if(F===null&&H===null&&(U===null||U===1||U===-1))return!0;throw Error(Fe+"Invalid BigNumber: "+B)},W.maximum=W.max=function(){return nt(arguments,-1)},W.minimum=W.min=function(){return nt(arguments,1)},W.random=function(){var B=9007199254740992,R=Math.random()*B&2097151?function(){return Ze(Math.random()*B)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(V){var F,H,U,tt,J,it=0,lt=[],st=new W(x);if(V==null?V=k:Se(V,0,Re),tt=Gr(V/Jt),ut)if(crypto.getRandomValues){for(F=crypto.getRandomValues(new Uint32Array(tt*=2));it<tt;)J=F[it]*131072+(F[it+1]>>>11),J>=9e15?(H=crypto.getRandomValues(new Uint32Array(2)),F[it]=H[0],F[it+1]=H[1]):(lt.push(J%1e14),it+=2);it=tt/2}else if(crypto.randomBytes){for(F=crypto.randomBytes(tt*=7);it<tt;)J=(F[it]&31)*281474976710656+F[it+1]*1099511627776+F[it+2]*4294967296+F[it+3]*16777216+(F[it+4]<<16)+(F[it+5]<<8)+F[it+6],J>=9e15?crypto.randomBytes(7).copy(F,it):(lt.push(J%1e14),it+=7);it=tt/7}else throw ut=!1,Error(Fe+"crypto unavailable");if(!ut)for(;it<tt;)J=R(),J<9e15&&(lt[it++]=J%1e14);for(tt=lt[--it],V%=Jt,tt&&V&&(J=yr[Jt-V],lt[it]=Ze(tt/J)*J);lt[it]===0;lt.pop(),it--);if(it<0)lt=[U=0];else{for(U=-1;lt[0]===0;lt.splice(0,1),U-=Jt);for(it=1,J=lt[0];J>=10;J/=10,it++);it<Jt&&(U-=Jt-it)}return st.e=U,st.c=lt,st}}(),W.sum=function(){for(var B=1,R=arguments,V=new W(R[0]);B<R.length;)V=V.plus(R[B++]);return V},f=function(){var B="0123456789";function R(V,F,H,U){for(var tt,J=[0],it,lt=0,st=V.length;lt<st;){for(it=J.length;it--;J[it]*=F);for(J[0]+=U.indexOf(V.charAt(lt++)),tt=0;tt<J.length;tt++)J[tt]>H-1&&(J[tt+1]==null&&(J[tt+1]=0),J[tt+1]+=J[tt]/H|0,J[tt]%=H)}return J.reverse()}return function(V,F,H,U,tt){var J,it,lt,st,xt,Nt,Vt,qt,be=V.indexOf("."),ke=k,ge=P;for(be>=0&&(st=Mt,Mt=0,V=V.replace(".",""),qt=new W(F),Nt=qt.pow(V.length-be),Mt=st,qt.c=R(_(oi(Nt.c),Nt.e,"0"),10,H,B),qt.e=qt.c.length),Vt=R(V,F,H,tt?(J=Rt,B):(J=B,Rt)),lt=st=Vt.length;Vt[--st]==0;Vt.pop());if(!Vt[0])return J.charAt(0);if(be<0?--lt:(Nt.c=Vt,Nt.e=lt,Nt.s=U,Nt=u(Nt,qt,ke,ge,H),Vt=Nt.c,xt=Nt.r,lt=Nt.e),it=lt+ke+1,be=Vt[it],st=H/2,xt=xt||it<0||Vt[it+1]!=null,xt=ge<4?(be!=null||xt)&&(ge==0||ge==(Nt.s<0?3:2)):be>st||be==st&&(ge==4||xt||ge==6&&Vt[it-1]&1||ge==(Nt.s<0?8:7)),it<1||!Vt[0])V=xt?_(J.charAt(1),-ke,J.charAt(0)):J.charAt(0);else{if(Vt.length=it,xt)for(--H;++Vt[--it]>H;)Vt[it]=0,it||(++lt,Vt=[1].concat(Vt));for(st=Vt.length;!Vt[--st];);for(be=0,V="";be<=st;V+=J.charAt(Vt[be++]));V=_(V,lt,J.charAt(0))}return V}}(),u=function(){function B(F,H,U){var tt,J,it,lt,st=0,xt=F.length,Nt=H%Vi,Vt=H/Vi|0;for(F=F.slice();xt--;)it=F[xt]%Vi,lt=F[xt]/Vi|0,tt=Vt*it+lt*Nt,J=Nt*it+tt%Vi*Vi+st,st=(J/U|0)+(tt/Vi|0)+Vt*lt,F[xt]=J%U;return st&&(F=[st].concat(F)),F}function R(F,H,U,tt){var J,it;if(U!=tt)it=U>tt?1:-1;else for(J=it=0;J<U;J++)if(F[J]!=H[J]){it=F[J]>H[J]?1:-1;break}return it}function V(F,H,U,tt){for(var J=0;U--;)F[U]-=J,J=F[U]<H[U]?1:0,F[U]=J*tt+F[U]-H[U];for(;!F[0]&&F.length>1;F.splice(0,1));}return function(F,H,U,tt,J){var it,lt,st,xt,Nt,Vt,qt,be,ke,ge,Me,ei,Ma,Ka,Xa,Yi,Xr,Si=F.s==H.s?1:-1,si=F.c,Ie=H.c;if(!si||!si[0]||!Ie||!Ie[0])return new W(!F.s||!H.s||(si?Ie&&si[0]==Ie[0]:!Ie)?NaN:si&&si[0]==0||!Ie?Si*0:Si/0);for(be=new W(Si),ke=be.c=[],lt=F.e-H.e,Si=U+lt+1,J||(J=fi,lt=pi(F.e/Jt)-pi(H.e/Jt),Si=Si/Jt|0),st=0;Ie[st]==(si[st]||0);st++);if(Ie[st]>(si[st]||0)&&lt--,Si<0)ke.push(1),xt=!0;else{for(Ka=si.length,Yi=Ie.length,st=0,Si+=2,Nt=Ze(J/(Ie[0]+1)),Nt>1&&(Ie=B(Ie,Nt,J),si=B(si,Nt,J),Yi=Ie.length,Ka=si.length),Ma=Yi,ge=si.slice(0,Yi),Me=ge.length;Me<Yi;ge[Me++]=0);Xr=Ie.slice(),Xr=[0].concat(Xr),Xa=Ie[0],Ie[1]>=J/2&&Xa++;do{if(Nt=0,it=R(Ie,ge,Yi,Me),it<0){if(ei=ge[0],Yi!=Me&&(ei=ei*J+(ge[1]||0)),Nt=Ze(ei/Xa),Nt>1)for(Nt>=J&&(Nt=J-1),Vt=B(Ie,Nt,J),qt=Vt.length,Me=ge.length;R(Vt,ge,qt,Me)==1;)Nt--,V(Vt,Yi<qt?Xr:Ie,qt,J),qt=Vt.length,it=1;else Nt==0&&(it=Nt=1),Vt=Ie.slice(),qt=Vt.length;if(qt<Me&&(Vt=[0].concat(Vt)),V(ge,Vt,Me,J),Me=ge.length,it==-1)for(;R(Ie,ge,Yi,Me)<1;)Nt++,V(ge,Yi<Me?Xr:Ie,Me,J),Me=ge.length}else it===0&&(Nt++,ge=[0]);ke[st++]=Nt,ge[0]?ge[Me++]=si[Ma]||0:(ge=[si[Ma]],Me=1)}while((Ma++<Ka||ge[0]!=null)&&Si--);xt=ge[0]!=null,ke[0]||ke.splice(0,1)}if(J==fi){for(st=1,Si=ke[0];Si>=10;Si/=10,st++);rt(be,U+(be.e=st+lt*Jt-1)+1,tt,xt)}else be.e=lt,be.r=+xt;return be}}();function X(B,R,V,F){var H,U,tt,J,it;if(V==null?V=P:Se(V,0,8),!B.c)return B.toString();if(H=B.c[0],tt=B.e,R==null)it=oi(B.c),it=F==1||F==2&&(tt<=E||tt>=D)?d(it,tt):_(it,tt,"0");else if(B=rt(new W(B),R,V),U=B.e,it=oi(B.c),J=it.length,F==1||F==2&&(R<=U||U<=E)){for(;J<R;it+="0",J++);it=d(it,U)}else if(R-=tt,it=_(it,U,"0"),U+1>J){if(--R>0)for(it+=".";R--;it+="0");}else if(R+=U-J,R>0)for(U+1==J&&(it+=".");R--;it+="0");return B.s<0&&H?"-"+it:it}function nt(B,R){for(var V,F,H=1,U=new W(B[0]);H<B.length;H++)F=new W(B[H]),(!F.s||(V=Gi(U,F))===R||V===0&&U.s===R)&&(U=F);return U}function pt(B,R,V){for(var F=1,H=R.length;!R[--H];R.pop());for(H=R[0];H>=10;H/=10,F++);return(V=F+V*Jt-1)>$?B.c=B.e=null:V<Z?B.c=[B.e=0]:(B.e=V,B.c=R),B}m=function(){var B=/^(-?)0([xbo])(?=\w[\w.]*$)/i,R=/^([^.]+)\.$/,V=/^\.([^.]+)$/,F=/^-?(Infinity|NaN)$/,H=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(U,tt,J,it){var lt,st=J?tt:tt.replace(H,"");if(F.test(st))U.s=isNaN(st)?null:st<0?-1:1;else{if(!J&&(st=st.replace(B,function(xt,Nt,Vt){return lt=(Vt=Vt.toLowerCase())=="x"?16:Vt=="b"?2:8,!it||it==lt?Nt:xt}),it&&(lt=it,st=st.replace(R,"$1").replace(V,"0.$1")),tt!=st))return new W(st,lt);if(W.DEBUG)throw Error(Fe+"Not a"+(it?" base "+it:"")+" number: "+tt);U.s=null}U.c=U.e=null}}();function rt(B,R,V,F){var H,U,tt,J,it,lt,st,xt=B.c,Nt=yr;if(xt){t:{for(H=1,J=xt[0];J>=10;J/=10,H++);if(U=R-H,U<0)U+=Jt,tt=R,it=xt[lt=0],st=Ze(it/Nt[H-tt-1]%10);else if(lt=Gr((U+1)/Jt),lt>=xt.length)if(F){for(;xt.length<=lt;xt.push(0));it=st=0,H=1,U%=Jt,tt=U-Jt+1}else break t;else{for(it=J=xt[lt],H=1;J>=10;J/=10,H++);U%=Jt,tt=U-Jt+H,st=tt<0?0:Ze(it/Nt[H-tt-1]%10)}if(F=F||R<0||xt[lt+1]!=null||(tt<0?it:it%Nt[H-tt-1]),F=V<4?(st||F)&&(V==0||V==(B.s<0?3:2)):st>5||st==5&&(V==4||F||V==6&&(U>0?tt>0?it/Nt[H-tt]:0:xt[lt-1])%10&1||V==(B.s<0?8:7)),R<1||!xt[0])return xt.length=0,F?(R-=B.e+1,xt[0]=Nt[(Jt-R%Jt)%Jt],B.e=-R||0):xt[0]=B.e=0,B;if(U==0?(xt.length=lt,J=1,lt--):(xt.length=lt+1,J=Nt[Jt-U],xt[lt]=tt>0?Ze(it/Nt[H-tt]%Nt[tt])*J:0),F)for(;;)if(lt==0){for(U=1,tt=xt[0];tt>=10;tt/=10,U++);for(tt=xt[0]+=J,J=1;tt>=10;tt/=10,J++);U!=J&&(B.e++,xt[0]==fi&&(xt[0]=1));break}else{if(xt[lt]+=J,xt[lt]!=fi)break;xt[lt--]=0,J=1}for(U=xt.length;xt[--U]===0;xt.pop());}B.e>$?B.c=B.e=null:B.e<Z&&(B.c=[B.e=0])}return B}function dt(B){var R,V=B.e;return V===null?B.toString():(R=oi(B.c),R=V<=E||V>=D?d(R,V):_(R,V,"0"),B.s<0?"-"+R:R)}return v.absoluteValue=v.abs=function(){var B=new W(this);return B.s<0&&(B.s=1),B},v.comparedTo=function(B,R){return Gi(this,new W(B,R))},v.decimalPlaces=v.dp=function(B,R){var V,F,H,U=this;if(B!=null)return Se(B,0,Re),R==null?R=P:Se(R,0,8),rt(new W(U),B+U.e+1,R);if(!(V=U.c))return null;if(F=((H=V.length-1)-pi(this.e/Jt))*Jt,H=V[H])for(;H%10==0;H/=10,F--);return F<0&&(F=0),F},v.dividedBy=v.div=function(B,R){return u(this,new W(B,R),k,P)},v.dividedToIntegerBy=v.idiv=function(B,R){return u(this,new W(B,R),0,1)},v.exponentiatedBy=v.pow=function(B,R){var V,F,H,U,tt,J,it,lt,st,xt=this;if(B=new W(B),B.c&&!B.isInteger())throw Error(Fe+"Exponent not an integer: "+dt(B));if(R!=null&&(R=new W(R)),J=B.e>14,!xt.c||!xt.c[0]||xt.c[0]==1&&!xt.e&&xt.c.length==1||!B.c||!B.c[0])return st=new W(Math.pow(+dt(xt),J?B.s*(2-o(B)):+dt(B))),R?st.mod(R):st;if(it=B.s<0,R){if(R.c?!R.c[0]:!R.s)return new W(NaN);F=!it&&xt.isInteger()&&R.isInteger(),F&&(xt=xt.mod(R))}else{if(B.e>9&&(xt.e>0||xt.e<-1||(xt.e==0?xt.c[0]>1||J&&xt.c[1]>=24e7:xt.c[0]<8e13||J&&xt.c[0]<=9999975e7)))return U=xt.s<0&&o(B)?-0:0,xt.e>-1&&(U=1/U),new W(it?1/U:U);Mt&&(U=Gr(Mt/Jt+2))}for(J?(V=new W(.5),it&&(B.s=1),lt=o(B)):(H=Math.abs(+dt(B)),lt=H%2),st=new W(x);;){if(lt){if(st=st.times(xt),!st.c)break;U?st.c.length>U&&(st.c.length=U):F&&(st=st.mod(R))}if(H){if(H=Ze(H/2),H===0)break;lt=H%2}else if(B=B.times(V),rt(B,B.e+1,1),B.e>14)lt=o(B);else{if(H=+dt(B),H===0)break;lt=H%2}xt=xt.times(xt),U?xt.c&&xt.c.length>U&&(xt.c.length=U):F&&(xt=xt.mod(R))}return F?st:(it&&(st=x.div(st)),R?st.mod(R):U?rt(st,Mt,P,tt):st)},v.integerValue=function(B){var R=new W(this);return B==null?B=P:Se(B,0,8),rt(R,R.e+1,B)},v.isEqualTo=v.eq=function(B,R){return Gi(this,new W(B,R))===0},v.isFinite=function(){return!!this.c},v.isGreaterThan=v.gt=function(B,R){return Gi(this,new W(B,R))>0},v.isGreaterThanOrEqualTo=v.gte=function(B,R){return(R=Gi(this,new W(B,R)))===1||R===0},v.isInteger=function(){return!!this.c&&pi(this.e/Jt)>this.c.length-2},v.isLessThan=v.lt=function(B,R){return Gi(this,new W(B,R))<0},v.isLessThanOrEqualTo=v.lte=function(B,R){return(R=Gi(this,new W(B,R)))===-1||R===0},v.isNaN=function(){return!this.s},v.isNegative=function(){return this.s<0},v.isPositive=function(){return this.s>0},v.isZero=function(){return!!this.c&&this.c[0]==0},v.minus=function(B,R){var V,F,H,U,tt=this,J=tt.s;if(B=new W(B,R),R=B.s,!J||!R)return new W(NaN);if(J!=R)return B.s=-R,tt.plus(B);var it=tt.e/Jt,lt=B.e/Jt,st=tt.c,xt=B.c;if(!it||!lt){if(!st||!xt)return st?(B.s=-R,B):new W(xt?tt:NaN);if(!st[0]||!xt[0])return xt[0]?(B.s=-R,B):new W(st[0]?tt:P==3?-0:0)}if(it=pi(it),lt=pi(lt),st=st.slice(),J=it-lt){for((U=J<0)?(J=-J,H=st):(lt=it,H=xt),H.reverse(),R=J;R--;H.push(0));H.reverse()}else for(F=(U=(J=st.length)<(R=xt.length))?J:R,J=R=0;R<F;R++)if(st[R]!=xt[R]){U=st[R]<xt[R];break}if(U&&(H=st,st=xt,xt=H,B.s=-B.s),R=(F=xt.length)-(V=st.length),R>0)for(;R--;st[V++]=0);for(R=fi-1;F>J;){if(st[--F]<xt[F]){for(V=F;V&&!st[--V];st[V]=R);--st[V],st[F]+=fi}st[F]-=xt[F]}for(;st[0]==0;st.splice(0,1),--lt);return st[0]?pt(B,st,lt):(B.s=P==3?-1:1,B.c=[B.e=0],B)},v.modulo=v.mod=function(B,R){var V,F,H=this;return B=new W(B,R),!H.c||!B.s||B.c&&!B.c[0]?new W(NaN):!B.c||H.c&&!H.c[0]?new W(H):(mt==9?(F=B.s,B.s=1,V=u(H,B,0,3),B.s=F,V.s*=F):V=u(H,B,0,mt),B=H.minus(V.times(B)),!B.c[0]&&mt==1&&(B.s=H.s),B)},v.multipliedBy=v.times=function(B,R){var V,F,H,U,tt,J,it,lt,st,xt,Nt,Vt,qt,be,ke,ge=this,Me=ge.c,ei=(B=new W(B,R)).c;if(!Me||!ei||!Me[0]||!ei[0])return!ge.s||!B.s||Me&&!Me[0]&&!ei||ei&&!ei[0]&&!Me?B.c=B.e=B.s=null:(B.s*=ge.s,!Me||!ei?B.c=B.e=null:(B.c=[0],B.e=0)),B;for(F=pi(ge.e/Jt)+pi(B.e/Jt),B.s*=ge.s,it=Me.length,xt=ei.length,it<xt&&(qt=Me,Me=ei,ei=qt,H=it,it=xt,xt=H),H=it+xt,qt=[];H--;qt.push(0));for(be=fi,ke=Vi,H=xt;--H>=0;){for(V=0,Nt=ei[H]%ke,Vt=ei[H]/ke|0,tt=it,U=H+tt;U>H;)lt=Me[--tt]%ke,st=Me[tt]/ke|0,J=Vt*lt+st*Nt,lt=Nt*lt+J%ke*ke+qt[U]+V,V=(lt/be|0)+(J/ke|0)+Vt*st,qt[U--]=lt%be;qt[U]=V}return V?++F:qt.splice(0,1),pt(B,qt,F)},v.negated=function(){var B=new W(this);return B.s=-B.s||null,B},v.plus=function(B,R){var V,F=this,H=F.s;if(B=new W(B,R),R=B.s,!H||!R)return new W(NaN);if(H!=R)return B.s=-R,F.minus(B);var U=F.e/Jt,tt=B.e/Jt,J=F.c,it=B.c;if(!U||!tt){if(!J||!it)return new W(H/0);if(!J[0]||!it[0])return it[0]?B:new W(J[0]?F:H*0)}if(U=pi(U),tt=pi(tt),J=J.slice(),H=U-tt){for(H>0?(tt=U,V=it):(H=-H,V=J),V.reverse();H--;V.push(0));V.reverse()}for(H=J.length,R=it.length,H-R<0&&(V=it,it=J,J=V,R=H),H=0;R;)H=(J[--R]=J[R]+it[R]+H)/fi|0,J[R]=fi===J[R]?0:J[R]%fi;return H&&(J=[H].concat(J),++tt),pt(B,J,tt)},v.precision=v.sd=function(B,R){var V,F,H,U=this;if(B!=null&&B!==!!B)return Se(B,1,Re),R==null?R=P:Se(R,0,8),rt(new W(U),B,R);if(!(V=U.c))return null;if(H=V.length-1,F=H*Jt+1,H=V[H]){for(;H%10==0;H/=10,F--);for(H=V[0];H>=10;H/=10,F++);}return B&&U.e+1>F&&(F=U.e+1),F},v.shiftedBy=function(B){return Se(B,-vr,vr),this.times("1e"+B)},v.squareRoot=v.sqrt=function(){var B,R,V,F,H,U=this,tt=U.c,J=U.s,it=U.e,lt=k+4,st=new W("0.5");if(J!==1||!tt||!tt[0])return new W(!J||J<0&&(!tt||tt[0])?NaN:tt?U:1/0);if(J=Math.sqrt(+dt(U)),J==0||J==1/0?(R=oi(tt),(R.length+it)%2==0&&(R+="0"),J=Math.sqrt(+R),it=pi((it+1)/2)-(it<0||it%2),J==1/0?R="5e"+it:(R=J.toExponential(),R=R.slice(0,R.indexOf("e")+1)+it),V=new W(R)):V=new W(J+""),V.c[0]){for(it=V.e,J=it+lt,J<3&&(J=0);;)if(H=V,V=st.times(H.plus(u(U,H,lt,1))),oi(H.c).slice(0,J)===(R=oi(V.c)).slice(0,J))if(V.e<it&&--J,R=R.slice(J-3,J+1),R=="9999"||!F&&R=="4999"){if(!F&&(rt(H,H.e+k+2,0),H.times(H).eq(U))){V=H;break}lt+=4,J+=4,F=1}else{(!+R||!+R.slice(1)&&R.charAt(0)=="5")&&(rt(V,V.e+k+2,1),B=!V.times(V).eq(U));break}}return rt(V,V.e+k+1,P,B)},v.toExponential=function(B,R){return B!=null&&(Se(B,0,Re),B++),X(this,B,R,1)},v.toFixed=function(B,R){return B!=null&&(Se(B,0,Re),B=B+this.e+1),X(this,B,R)},v.toFormat=function(B,R,V){var F,H=this;if(V==null)B!=null&&R&&typeof R=="object"?(V=R,R=null):B&&typeof B=="object"?(V=B,B=R=null):V=Dt;else if(typeof V!="object")throw Error(Fe+"Argument not an object: "+V);if(F=H.toFixed(B,R),H.c){var U,tt=F.split("."),J=+V.groupSize,it=+V.secondaryGroupSize,lt=V.groupSeparator||"",st=tt[0],xt=tt[1],Nt=H.s<0,Vt=Nt?st.slice(1):st,qt=Vt.length;if(it&&(U=J,J=it,it=U,qt-=U),J>0&&qt>0){for(U=qt%J||J,st=Vt.substr(0,U);U<qt;U+=J)st+=lt+Vt.substr(U,J);it>0&&(st+=lt+Vt.slice(U)),Nt&&(st="-"+st)}F=xt?st+(V.decimalSeparator||"")+((it=+V.fractionGroupSize)?xt.replace(new RegExp("\\d{"+it+"}\\B","g"),"$&"+(V.fractionGroupSeparator||"")):xt):st}return(V.prefix||"")+F+(V.suffix||"")},v.toFraction=function(B){var R,V,F,H,U,tt,J,it,lt,st,xt,Nt,Vt=this,qt=Vt.c;if(B!=null&&(J=new W(B),!J.isInteger()&&(J.c||J.s!==1)||J.lt(x)))throw Error(Fe+"Argument "+(J.isInteger()?"out of range: ":"not an integer: ")+dt(J));if(!qt)return new W(Vt);for(R=new W(x),lt=V=new W(x),F=it=new W(x),Nt=oi(qt),U=R.e=Nt.length-Vt.e-1,R.c[0]=yr[(tt=U%Jt)<0?Jt+tt:tt],B=!B||J.comparedTo(R)>0?U>0?R:lt:J,tt=$,$=1/0,J=new W(Nt),it.c[0]=0;st=u(J,R,0,1),H=V.plus(st.times(F)),H.comparedTo(B)!=1;)V=F,F=H,lt=it.plus(st.times(H=lt)),it=H,R=J.minus(st.times(H=R)),J=H;return H=u(B.minus(V),F,0,1),it=it.plus(H.times(lt)),V=V.plus(H.times(F)),it.s=lt.s=Vt.s,U=U*2,xt=u(lt,F,U,P).minus(Vt).abs().comparedTo(u(it,V,U,P).minus(Vt).abs())<1?[lt,F]:[it,V],$=tt,xt},v.toNumber=function(){return+dt(this)},v.toPrecision=function(B,R){return B!=null&&Se(B,1,Re),X(this,B,R,2)},v.toString=function(B){var R,V=this,F=V.s,H=V.e;return H===null?F?(R="Infinity",F<0&&(R="-"+R)):R="NaN":(B==null?R=H<=E||H>=D?d(oi(V.c),H):_(oi(V.c),H,"0"):B===10&&me?(V=rt(new W(V),k+H+1,P),R=_(oi(V.c),V.e,"0")):(Se(B,2,Rt.length,"Base"),R=f(_(oi(V.c),H,"0"),10,B,F,!0)),F<0&&V.c[0]&&(R="-"+R)),R},v.valueOf=v.toJSON=function(){return dt(this)},v._isBigNumber=!0,v[Symbol.toStringTag]="BigNumber",v[Symbol.for("nodejs.util.inspect.custom")]=v.valueOf,l!=null&&W.set(l),W}function pi(l){var u=l|0;return l>0||l===u?u:u-1}function oi(l){for(var u,f,m=1,v=l.length,x=l[0]+"";m<v;){for(u=l[m++]+"",f=Jt-u.length;f--;u="0"+u);x+=u}for(v=x.length;x.charCodeAt(--v)===48;);return x.slice(0,v+1||1)}function Gi(l,u){var f,m,v=l.c,x=u.c,k=l.s,P=u.s,E=l.e,D=u.e;if(!k||!P)return null;if(f=v&&!v[0],m=x&&!x[0],f||m)return f?m?0:-P:k;if(k!=P)return k;if(f=k<0,m=E==D,!v||!x)return m?0:!v^f?1:-1;if(!m)return E>D^f?1:-1;for(P=(E=v.length)<(D=x.length)?E:D,k=0;k<P;k++)if(v[k]!=x[k])return v[k]>x[k]^f?1:-1;return E==D?0:E>D^f?1:-1}function Se(l,u,f,m){if(l<u||l>f||l!==Ze(l))throw Error(Fe+(m||"Argument")+(typeof l=="number"?l<u||l>f?" out of range: ":" not an integer: ":" not a primitive number: ")+String(l))}function o(l){var u=l.c.length-1;return pi(l.e/Jt)==u&&l.c[u]%2!=0}function d(l,u){return(l.length>1?l.charAt(0)+"."+l.slice(1):l)+(u<0?"e":"e+")+u}function _(l,u,f){var m,v;if(u<0){for(v=f+".";++u;v+=f);l=v+l}else if(m=l.length,++u>m){for(v=f,u-=m;--u;v+=f);l+=v}else u<m&&(l=l.slice(0,u)+"."+l.slice(u));return l}var w=Yr(),M=w,O=class{constructor(l){yt(this,"key");yt(this,"left",null);yt(this,"right",null);this.key=l}},K=class extends O{constructor(l){super(l)}},ct=class{constructor(){yt(this,"size",0);yt(this,"modificationCount",0);yt(this,"splayCount",0)}splay(l){let u=this.root;if(u==null)return this.compare(l,l),-1;let f=null,m=null,v=null,x=null,k=u,P=this.compare,E;for(;;)if(E=P(k.key,l),E>0){let D=k.left;if(D==null||(E=P(D.key,l),E>0&&(k.left=D.right,D.right=k,k=D,D=k.left,D==null)))break;f==null?m=k:f.left=k,f=k,k=D}else if(E<0){let D=k.right;if(D==null||(E=P(D.key,l),E<0&&(k.right=D.left,D.left=k,k=D,D=k.right,D==null)))break;v==null?x=k:v.right=k,v=k,k=D}else break;return v!=null&&(v.right=k.left,k.left=x),f!=null&&(f.left=k.right,k.right=m),this.root!==k&&(this.root=k,this.splayCount++),E}splayMin(l){let u=l,f=u.left;for(;f!=null;){let m=f;u.left=m.right,m.right=u,u=m,f=u.left}return u}splayMax(l){let u=l,f=u.right;for(;f!=null;){let m=f;u.right=m.left,m.left=u,u=m,f=u.right}return u}_delete(l){if(this.root==null||this.splay(l)!=0)return null;let u=this.root,f=u,m=u.left;if(this.size--,m==null)this.root=u.right;else{let v=u.right;u=this.splayMax(m),u.right=v,this.root=u}return this.modificationCount++,f}addNewRoot(l,u){this.size++,this.modificationCount++;let f=this.root;if(f==null){this.root=l;return}u<0?(l.left=f,l.right=f.right,f.right=null):(l.right=f,l.left=f.left,f.left=null),this.root=l}_first(){let l=this.root;return l==null?null:(this.root=this.splayMin(l),this.root)}_last(){let l=this.root;return l==null?null:(this.root=this.splayMax(l),this.root)}clear(){this.root=null,this.size=0,this.modificationCount++}has(l){return this.validKey(l)&&this.splay(l)==0}defaultCompare(){return(l,u)=>l<u?-1:l>u?1:0}wrap(){return{getRoot:()=>this.root,setRoot:l=>{this.root=l},getSize:()=>this.size,getModificationCount:()=>this.modificationCount,getSplayCount:()=>this.splayCount,setSplayCount:l=>{this.splayCount=l},splay:l=>this.splay(l),has:l=>this.has(l)}}},gt=(Bn=class extends ct{constructor(f,m){super();yt(this,"root",null);yt(this,"compare");yt(this,"validKey");yt(this,Do,"[object Set]");this.compare=f!=null?f:this.defaultCompare(),this.validKey=m!=null?m:v=>v!=null&&v!=null}delete(f){return this.validKey(f)?this._delete(f)!=null:!1}deleteAll(f){for(let m of f)this.delete(m)}forEach(f){let m=this[Symbol.iterator](),v;for(;v=m.next(),!v.done;)f(v.value,v.value,this)}add(f){let m=this.splay(f);return m!=0&&this.addNewRoot(new K(f),m),this}addAndReturn(f){let m=this.splay(f);return m!=0&&this.addNewRoot(new K(f),m),this.root.key}addAll(f){for(let m of f)this.add(m)}isEmpty(){return this.root==null}isNotEmpty(){return this.root!=null}single(){if(this.size==0)throw"Bad state: No element";if(this.size>1)throw"Bad state: Too many element";return this.root.key}first(){if(this.size==0)throw"Bad state: No element";return this._first().key}last(){if(this.size==0)throw"Bad state: No element";return this._last().key}lastBefore(f){if(f==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(f)<0)return this.root.key;let m=this.root.left;if(m==null)return null;let v=m.right;for(;v!=null;)m=v,v=m.right;return m.key}firstAfter(f){if(f==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(f)>0)return this.root.key;let m=this.root.right;if(m==null)return null;let v=m.left;for(;v!=null;)m=v,v=m.left;return m.key}retainAll(f){let m=new Bn(this.compare,this.validKey),v=this.modificationCount;for(let x of f){if(v!=this.modificationCount)throw"Concurrent modification during iteration.";this.validKey(x)&&this.splay(x)==0&&m.add(this.root.key)}m.size!=this.size&&(this.root=m.root,this.size=m.size,this.modificationCount++)}lookup(f){return!this.validKey(f)||this.splay(f)!=0?null:this.root.key}intersection(f){let m=new Bn(this.compare,this.validKey);for(let v of this)f.has(v)&&m.add(v);return m}difference(f){let m=new Bn(this.compare,this.validKey);for(let v of this)f.has(v)||m.add(v);return m}union(f){let m=this.clone();return m.addAll(f),m}clone(){let f=new Bn(this.compare,this.validKey);return f.size=this.size,f.root=this.copyNode(this.root),f}copyNode(f){if(f==null)return null;function m(x,k){let P,E;do{if(P=x.left,E=x.right,P!=null){let D=new K(P.key);k.left=D,m(P,D)}if(E!=null){let D=new K(E.key);k.right=D,x=E,k=D}}while(E!=null)}let v=new K(f.key);return m(f,v),v}toSet(){return this.clone()}entries(){return new Gt(this.wrap())}keys(){return this[Symbol.iterator]()}values(){return this[Symbol.iterator]()}[Symbol.iterator](){return new It(this.wrap())}},Do=Symbol.toStringTag,Bn),Lt=class{constructor(l){yt(this,"tree");yt(this,"path",new Array);yt(this,"modificationCount",null);yt(this,"splayCount");this.tree=l,this.splayCount=l.getSplayCount()}[Symbol.iterator](){return this}next(){return this.moveNext()?{done:!1,value:this.current()}:{done:!0,value:null}}current(){if(!this.path.length)return null;let l=this.path[this.path.length-1];return this.getValue(l)}rebuildPath(l){this.path.splice(0,this.path.length),this.tree.splay(l),this.path.push(this.tree.getRoot()),this.splayCount=this.tree.getSplayCount()}findLeftMostDescendent(l){for(;l!=null;)this.path.push(l),l=l.left}moveNext(){if(this.modificationCount!=this.tree.getModificationCount()){if(this.modificationCount==null){this.modificationCount=this.tree.getModificationCount();let f=this.tree.getRoot();for(;f!=null;)this.path.push(f),f=f.left;return this.path.length>0}throw"Concurrent modification during iteration."}if(!this.path.length)return!1;this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);let l=this.path[this.path.length-1],u=l.right;if(u!=null){for(;u!=null;)this.path.push(u),u=u.left;return!0}for(this.path.pop();this.path.length&&this.path[this.path.length-1].right===l;)l=this.path.pop();return this.path.length>0}},It=class extends Lt{getValue(l){return l.key}},Gt=class extends Lt{getValue(l){return[l.key,l.key]}},se=l=>l,Ye=l=>{if(l){let u=new gt(_r(l)),f=new gt(_r(l)),m=(x,k)=>k.addAndReturn(x),v=x=>({x:m(x.x,u),y:m(x.y,f)});return v({x:new M(0),y:new M(0)}),v}return se},De=l=>({set:u=>{Oe=De(u)},reset:()=>De(l),compare:_r(l),snap:Ye(l),orient:_a(l)}),Oe=De(),Ve=(l,u)=>l.ll.x.isLessThanOrEqualTo(u.x)&&u.x.isLessThanOrEqualTo(l.ur.x)&&l.ll.y.isLessThanOrEqualTo(u.y)&&u.y.isLessThanOrEqualTo(l.ur.y),Zi=(l,u)=>{if(u.ur.x.isLessThan(l.ll.x)||l.ur.x.isLessThan(u.ll.x)||u.ur.y.isLessThan(l.ll.y)||l.ur.y.isLessThan(u.ll.y))return null;let f=l.ll.x.isLessThan(u.ll.x)?u.ll.x:l.ll.x,m=l.ur.x.isLessThan(u.ur.x)?l.ur.x:u.ur.x,v=l.ll.y.isLessThan(u.ll.y)?u.ll.y:l.ll.y,x=l.ur.y.isLessThan(u.ur.y)?l.ur.y:u.ur.y;return{ll:{x:f,y:v},ur:{x:m,y:x}}},br=(l,u)=>l.x.times(u.y).minus(l.y.times(u.x)),va=(l,u)=>l.x.times(u.x).plus(l.y.times(u.y)),xr=l=>va(l,l).sqrt(),ya=(l,u,f)=>{let m={x:u.x.minus(l.x),y:u.y.minus(l.y)},v={x:f.x.minus(l.x),y:f.y.minus(l.y)};return br(v,m).div(xr(v)).div(xr(m))},Za=(l,u,f)=>{let m={x:u.x.minus(l.x),y:u.y.minus(l.y)},v={x:f.x.minus(l.x),y:f.y.minus(l.y)};return va(v,m).div(xr(v)).div(xr(m))},Qr=(l,u,f)=>u.y.isZero()?null:{x:l.x.plus(u.x.div(u.y).times(f.minus(l.y))),y:f},Ae=(l,u,f)=>u.x.isZero()?null:{x:f,y:l.y.plus(u.y.div(u.x).times(f.minus(l.x)))},wr=(l,u,f,m)=>{if(u.x.isZero())return Ae(f,m,l.x);if(m.x.isZero())return Ae(l,u,f.x);if(u.y.isZero())return Qr(f,m,l.y);if(m.y.isZero())return Qr(l,u,f.y);let v=br(u,m);if(v.isZero())return null;let x={x:f.x.minus(l.x),y:f.y.minus(l.y)},k=br(x,u).div(v),P=br(x,m).div(v),E=l.x.plus(P.times(u.x)),D=f.x.plus(k.times(m.x)),Z=l.y.plus(P.times(u.y)),$=f.y.plus(k.times(m.y)),ut=E.plus(D).div(2),mt=Z.plus($).div(2);return{x:ut,y:mt}},Pi=class so{constructor(u,f){yt(this,"point");yt(this,"isLeft");yt(this,"segment");yt(this,"otherSE");yt(this,"consumedBy");u.events===void 0?u.events=[this]:u.events.push(this),this.point=u,this.isLeft=f}static compare(u,f){let m=so.comparePoints(u.point,f.point);return m!==0?m:(u.point!==f.point&&u.link(f),u.isLeft!==f.isLeft?u.isLeft?1:-1:Lr.compare(u.segment,f.segment))}static comparePoints(u,f){return u.x.isLessThan(f.x)?-1:u.x.isGreaterThan(f.x)?1:u.y.isLessThan(f.y)?-1:u.y.isGreaterThan(f.y)?1:0}link(u){if(u.point===this.point)throw new Error("Tried to link already linked events");let f=u.point.events;for(let m=0,v=f.length;m<v;m++){let x=f[m];this.point.events.push(x),x.point=this.point}this.checkForConsuming()}checkForConsuming(){let u=this.point.events.length;for(let f=0;f<u;f++){let m=this.point.events[f];if(m.segment.consumedBy===void 0)for(let v=f+1;v<u;v++){let x=this.point.events[v];x.consumedBy===void 0&&m.otherSE.point.events===x.otherSE.point.events&&m.segment.consume(x.segment)}}}getAvailableLinkedEvents(){let u=[];for(let f=0,m=this.point.events.length;f<m;f++){let v=this.point.events[f];v!==this&&!v.segment.ringOut&&v.segment.isInResult()&&u.push(v)}return u}getLeftmostComparator(u){let f=new Map,m=v=>{let x=v.otherSE;f.set(v,{sine:ya(this.point,u.point,x.point),cosine:Za(this.point,u.point,x.point)})};return(v,x)=>{f.has(v)||m(v),f.has(x)||m(x);let{sine:k,cosine:P}=f.get(v),{sine:E,cosine:D}=f.get(x);return k.isGreaterThanOrEqualTo(0)&&E.isGreaterThanOrEqualTo(0)?P.isLessThan(D)?1:P.isGreaterThan(D)?-1:0:k.isLessThan(0)&&E.isLessThan(0)?P.isLessThan(D)?-1:P.isGreaterThan(D)?1:0:E.isLessThan(k)?-1:E.isGreaterThan(k)?1:0}}},Ya=0,Lr=class Pa{constructor(u,f,m,v){yt(this,"id");yt(this,"leftSE");yt(this,"rightSE");yt(this,"rings");yt(this,"windings");yt(this,"ringOut");yt(this,"consumedBy");yt(this,"prev");yt(this,"_prevInResult");yt(this,"_beforeState");yt(this,"_afterState");yt(this,"_isInResult");this.id=++Ya,this.leftSE=u,u.segment=this,u.otherSE=f,this.rightSE=f,f.segment=this,f.otherSE=u,this.rings=m,this.windings=v}static compare(u,f){let m=u.leftSE.point.x,v=f.leftSE.point.x,x=u.rightSE.point.x,k=f.rightSE.point.x;if(k.isLessThan(m))return 1;if(x.isLessThan(v))return-1;let P=u.leftSE.point.y,E=f.leftSE.point.y,D=u.rightSE.point.y,Z=f.rightSE.point.y;if(m.isLessThan(v)){if(E.isLessThan(P)&&E.isLessThan(D))return 1;if(E.isGreaterThan(P)&&E.isGreaterThan(D))return-1;let $=u.comparePoint(f.leftSE.point);if($<0)return 1;if($>0)return-1;let ut=f.comparePoint(u.rightSE.point);return ut!==0?ut:-1}if(m.isGreaterThan(v)){if(P.isLessThan(E)&&P.isLessThan(Z))return-1;if(P.isGreaterThan(E)&&P.isGreaterThan(Z))return 1;let $=f.comparePoint(u.leftSE.point);if($!==0)return $;let ut=u.comparePoint(f.rightSE.point);return ut<0?1:ut>0?-1:1}if(P.isLessThan(E))return-1;if(P.isGreaterThan(E))return 1;if(x.isLessThan(k)){let $=f.comparePoint(u.rightSE.point);if($!==0)return $}if(x.isGreaterThan(k)){let $=u.comparePoint(f.rightSE.point);if($<0)return 1;if($>0)return-1}if(!x.eq(k)){let $=D.minus(P),ut=x.minus(m),mt=Z.minus(E),Mt=k.minus(v);if($.isGreaterThan(ut)&&mt.isLessThan(Mt))return 1;if($.isLessThan(ut)&&mt.isGreaterThan(Mt))return-1}return x.isGreaterThan(k)?1:x.isLessThan(k)||D.isLessThan(Z)?-1:D.isGreaterThan(Z)?1:u.id<f.id?-1:u.id>f.id?1:0}static fromRing(u,f,m){let v,x,k,P=Pi.comparePoints(u,f);if(P<0)v=u,x=f,k=1;else if(P>0)v=f,x=u,k=-1;else throw new Error(`Tried to create degenerate segment at [${u.x}, ${u.y}]`);let E=new Pi(v,!0),D=new Pi(x,!1);return new Pa(E,D,[m],[k])}replaceRightSE(u){this.rightSE=u,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){let u=this.leftSE.point.y,f=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:u.isLessThan(f)?u:f},ur:{x:this.rightSE.point.x,y:u.isGreaterThan(f)?u:f}}}vector(){return{x:this.rightSE.point.x.minus(this.leftSE.point.x),y:this.rightSE.point.y.minus(this.leftSE.point.y)}}isAnEndpoint(u){return u.x.eq(this.leftSE.point.x)&&u.y.eq(this.leftSE.point.y)||u.x.eq(this.rightSE.point.x)&&u.y.eq(this.rightSE.point.y)}comparePoint(u){return Oe.orient(this.leftSE.point,u,this.rightSE.point)}getIntersection(u){let f=this.bbox(),m=u.bbox(),v=Zi(f,m);if(v===null)return null;let x=this.leftSE.point,k=this.rightSE.point,P=u.leftSE.point,E=u.rightSE.point,D=Ve(f,P)&&this.comparePoint(P)===0,Z=Ve(m,x)&&u.comparePoint(x)===0,$=Ve(f,E)&&this.comparePoint(E)===0,ut=Ve(m,k)&&u.comparePoint(k)===0;if(Z&&D)return ut&&!$?k:!ut&&$?E:null;if(Z)return $&&x.x.eq(E.x)&&x.y.eq(E.y)?null:x;if(D)return ut&&k.x.eq(P.x)&&k.y.eq(P.y)?null:P;if(ut&&$)return null;if(ut)return k;if($)return E;let mt=wr(x,this.vector(),P,u.vector());return mt===null||!Ve(v,mt)?null:Oe.snap(mt)}split(u){let f=[],m=u.events!==void 0,v=new Pi(u,!0),x=new Pi(u,!1),k=this.rightSE;this.replaceRightSE(x),f.push(x),f.push(v);let P=new Pa(v,k,this.rings.slice(),this.windings.slice());return Pi.comparePoints(P.leftSE.point,P.rightSE.point)>0&&P.swapEvents(),Pi.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),m&&(v.checkForConsuming(),x.checkForConsuming()),f}swapEvents(){let u=this.rightSE;this.rightSE=this.leftSE,this.leftSE=u,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let f=0,m=this.windings.length;f<m;f++)this.windings[f]*=-1}consume(u){let f=this,m=u;for(;f.consumedBy;)f=f.consumedBy;for(;m.consumedBy;)m=m.consumedBy;let v=Pa.compare(f,m);if(v!==0){if(v>0){let x=f;f=m,m=x}if(f.prev===m){let x=f;f=m,m=x}for(let x=0,k=m.rings.length;x<k;x++){let P=m.rings[x],E=m.windings[x],D=f.rings.indexOf(P);D===-1?(f.rings.push(P),f.windings.push(E)):f.windings[D]+=E}m.rings=null,m.windings=null,m.consumedBy=f,m.leftSE.consumedBy=f.leftSE,m.rightSE.consumedBy=f.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{let u=this.prev.consumedBy||this.prev;this._beforeState=u.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;let u=this.beforeState();this._afterState={rings:u.rings.slice(0),windings:u.windings.slice(0),multiPolys:[]};let f=this._afterState.rings,m=this._afterState.windings,v=this._afterState.multiPolys;for(let P=0,E=this.rings.length;P<E;P++){let D=this.rings[P],Z=this.windings[P],$=f.indexOf(D);$===-1?(f.push(D),m.push(Z)):m[$]+=Z}let x=[],k=[];for(let P=0,E=f.length;P<E;P++){if(m[P]===0)continue;let D=f[P],Z=D.poly;if(k.indexOf(Z)===-1)if(D.isExterior)x.push(Z);else{k.indexOf(Z)===-1&&k.push(Z);let $=x.indexOf(D.poly);$!==-1&&x.splice($,1)}}for(let P=0,E=x.length;P<E;P++){let D=x[P].multiPoly;v.indexOf(D)===-1&&v.push(D)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;let u=this.beforeState().multiPolys,f=this.afterState().multiPolys;switch(wa.type){case"union":{let m=u.length===0,v=f.length===0;this._isInResult=m!==v;break}case"intersection":{let m,v;u.length<f.length?(m=u.length,v=f.length):(m=f.length,v=u.length),this._isInResult=v===wa.numMultiPolys&&m<v;break}case"xor":{let m=Math.abs(u.length-f.length);this._isInResult=m%2===1;break}case"difference":{let m=v=>v.length===1&&v[0].isSubject;this._isInResult=m(u)!==m(f);break}}return this._isInResult}},Cr=class{constructor(l,u,f){yt(this,"poly");yt(this,"isExterior");yt(this,"segments");yt(this,"bbox");if(!Array.isArray(l)||l.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=u,this.isExterior=f,this.segments=[],typeof l[0][0]!="number"||typeof l[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let m=Oe.snap({x:new M(l[0][0]),y:new M(l[0][1])});this.bbox={ll:{x:m.x,y:m.y},ur:{x:m.x,y:m.y}};let v=m;for(let x=1,k=l.length;x<k;x++){if(typeof l[x][0]!="number"||typeof l[x][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let P=Oe.snap({x:new M(l[x][0]),y:new M(l[x][1])});P.x.eq(v.x)&&P.y.eq(v.y)||(this.segments.push(Lr.fromRing(v,P,this)),P.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=P.x),P.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=P.y),P.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=P.x),P.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=P.y),v=P)}(!m.x.eq(v.x)||!m.y.eq(v.y))&&this.segments.push(Lr.fromRing(v,m,this))}getSweepEvents(){let l=[];for(let u=0,f=this.segments.length;u<f;u++){let m=this.segments[u];l.push(m.leftSE),l.push(m.rightSE)}return l}},ba=class{constructor(l,u){yt(this,"multiPoly");yt(this,"exteriorRing");yt(this,"interiorRings");yt(this,"bbox");if(!Array.isArray(l))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Cr(l[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let f=1,m=l.length;f<m;f++){let v=new Cr(l[f],this,!1);v.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=v.bbox.ll.x),v.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=v.bbox.ll.y),v.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=v.bbox.ur.x),v.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=v.bbox.ur.y),this.interiorRings.push(v)}this.multiPoly=u}getSweepEvents(){let l=this.exteriorRing.getSweepEvents();for(let u=0,f=this.interiorRings.length;u<f;u++){let m=this.interiorRings[u].getSweepEvents();for(let v=0,x=m.length;v<x;v++)l.push(m[v])}return l}},xa=class{constructor(l,u){yt(this,"isSubject");yt(this,"polys");yt(this,"bbox");if(!Array.isArray(l))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof l[0][0][0]=="number"&&(l=[l])}catch{}this.polys=[],this.bbox={ll:{x:new M(Number.POSITIVE_INFINITY),y:new M(Number.POSITIVE_INFINITY)},ur:{x:new M(Number.NEGATIVE_INFINITY),y:new M(Number.NEGATIVE_INFINITY)}};for(let f=0,m=l.length;f<m;f++){let v=new ba(l[f],this);v.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=v.bbox.ll.x),v.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=v.bbox.ll.y),v.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=v.bbox.ur.x),v.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=v.bbox.ur.y),this.polys.push(v)}this.isSubject=u}getSweepEvents(){let l=[];for(let u=0,f=this.polys.length;u<f;u++){let m=this.polys[u].getSweepEvents();for(let v=0,x=m.length;v<x;v++)l.push(m[v])}return l}},lo=class Ja{constructor(u){yt(this,"events");yt(this,"poly");yt(this,"_isExteriorRing");yt(this,"_enclosingRing");this.events=u;for(let f=0,m=u.length;f<m;f++)u[f].segment.ringOut=this;this.poly=null}static factory(u){let f=[];for(let m=0,v=u.length;m<v;m++){let x=u[m];if(!x.isInResult()||x.ringOut)continue;let k=null,P=x.leftSE,E=x.rightSE,D=[P],Z=P.point,$=[];for(;k=P,P=E,D.push(P),P.point!==Z;)for(;;){let ut=P.getAvailableLinkedEvents();if(ut.length===0){let Dt=D[0].point,Rt=D[D.length-1].point;throw new Error(`Unable to complete output ring starting at [${Dt.x}, ${Dt.y}]. Last matching segment found ends at [${Rt.x}, ${Rt.y}].`)}if(ut.length===1){E=ut[0].otherSE;break}let mt=null;for(let Dt=0,Rt=$.length;Dt<Rt;Dt++)if($[Dt].point===P.point){mt=Dt;break}if(mt!==null){let Dt=$.splice(mt)[0],Rt=D.splice(Dt.index);Rt.unshift(Rt[0].otherSE),f.push(new Ja(Rt.reverse()));continue}$.push({index:D.length,point:P.point});let Mt=P.getLeftmostComparator(k);E=ut.sort(Mt)[0].otherSE;break}f.push(new Ja(D))}return f}getGeom(){let u=this.events[0].point,f=[u];for(let D=1,Z=this.events.length-1;D<Z;D++){let $=this.events[D].point,ut=this.events[D+1].point;Oe.orient($,u,ut)!==0&&(f.push($),u=$)}if(f.length===1)return null;let m=f[0],v=f[1];Oe.orient(m,u,v)===0&&f.shift(),f.push(f[0]);let x=this.isExteriorRing()?1:-1,k=this.isExteriorRing()?0:f.length-1,P=this.isExteriorRing()?f.length:-1,E=[];for(let D=k;D!=P;D+=x)E.push([f[D].x.toNumber(),f[D].y.toNumber()]);return E}isExteriorRing(){if(this._isExteriorRing===void 0){let u=this.enclosingRing();this._isExteriorRing=u?!u.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){var v,x;let u=this.events[0];for(let k=1,P=this.events.length;k<P;k++){let E=this.events[k];Pi.compare(u,E)>0&&(u=E)}let f=u.segment.prevInResult(),m=f?f.prevInResult():null;for(;;){if(!f)return null;if(!m)return f.ringOut;if(m.ringOut!==f.ringOut)return((v=m.ringOut)==null?void 0:v.enclosingRing())!==f.ringOut?f.ringOut:(x=f.ringOut)==null?void 0:x.enclosingRing();f=m.prevInResult(),m=f?f.prevInResult():null}}},eo=class{constructor(l){yt(this,"exteriorRing");yt(this,"interiorRings");this.exteriorRing=l,l.poly=this,this.interiorRings=[]}addInterior(l){this.interiorRings.push(l),l.poly=this}getGeom(){let l=this.exteriorRing.getGeom();if(l===null)return null;let u=[l];for(let f=0,m=this.interiorRings.length;f<m;f++){let v=this.interiorRings[f].getGeom();v!==null&&u.push(v)}return u}},uo=class{constructor(l){yt(this,"rings");yt(this,"polys");this.rings=l,this.polys=this._composePolys(l)}getGeom(){let l=[];for(let u=0,f=this.polys.length;u<f;u++){let m=this.polys[u].getGeom();m!==null&&l.push(m)}return l}_composePolys(l){var f;let u=[];for(let m=0,v=l.length;m<v;m++){let x=l[m];if(!x.poly)if(x.isExteriorRing())u.push(new eo(x));else{let k=x.enclosingRing();k!=null&&k.poly||u.push(new eo(k)),(f=k==null?void 0:k.poly)==null||f.addInterior(x)}}return u}},co=class{constructor(l,u=Lr.compare){yt(this,"queue");yt(this,"tree");yt(this,"segments");this.queue=l,this.tree=new gt(u),this.segments=[]}process(l){let u=l.segment,f=[];if(l.consumedBy)return l.isLeft?this.queue.delete(l.otherSE):this.tree.delete(u),f;l.isLeft&&this.tree.add(u);let m=u,v=u;do m=this.tree.lastBefore(m);while(m!=null&&m.consumedBy!=null);do v=this.tree.firstAfter(v);while(v!=null&&v.consumedBy!=null);if(l.isLeft){let x=null;if(m){let P=m.getIntersection(u);if(P!==null&&(u.isAnEndpoint(P)||(x=P),!m.isAnEndpoint(P))){let E=this._splitSafely(m,P);for(let D=0,Z=E.length;D<Z;D++)f.push(E[D])}}let k=null;if(v){let P=v.getIntersection(u);if(P!==null&&(u.isAnEndpoint(P)||(k=P),!v.isAnEndpoint(P))){let E=this._splitSafely(v,P);for(let D=0,Z=E.length;D<Z;D++)f.push(E[D])}}if(x!==null||k!==null){let P=null;x===null?P=k:k===null?P=x:P=Pi.comparePoints(x,k)<=0?x:k,this.queue.delete(u.rightSE),f.push(u.rightSE);let E=u.split(P);for(let D=0,Z=E.length;D<Z;D++)f.push(E[D])}f.length>0?(this.tree.delete(u),f.push(l)):(this.segments.push(u),u.prev=m)}else{if(m&&v){let x=m.getIntersection(v);if(x!==null){if(!m.isAnEndpoint(x)){let k=this._splitSafely(m,x);for(let P=0,E=k.length;P<E;P++)f.push(k[P])}if(!v.isAnEndpoint(x)){let k=this._splitSafely(v,x);for(let P=0,E=k.length;P<E;P++)f.push(k[P])}}}this.tree.delete(u)}return f}_splitSafely(l,u){this.tree.delete(l);let f=l.rightSE;this.queue.delete(f);let m=l.split(u);return m.push(f),l.consumedBy===void 0&&this.tree.add(l),m}},ho=class{constructor(){yt(this,"type");yt(this,"numMultiPolys")}run(l,u,f){Kr.type=l;let m=[new xa(u,!0)];for(let E=0,D=f.length;E<D;E++)m.push(new xa(f[E],!1));if(Kr.numMultiPolys=m.length,Kr.type==="difference"){let E=m[0],D=1;for(;D<m.length;)Zi(m[D].bbox,E.bbox)!==null?D++:m.splice(D,1)}if(Kr.type==="intersection")for(let E=0,D=m.length;E<D;E++){let Z=m[E];for(let $=E+1,ut=m.length;$<ut;$++)if(Zi(Z.bbox,m[$].bbox)===null)return[]}let v=new gt(Pi.compare);for(let E=0,D=m.length;E<D;E++){let Z=m[E].getSweepEvents();for(let $=0,ut=Z.length;$<ut;$++)v.add(Z[$])}let x=new co(v),k=null;for(v.size!=0&&(k=v.first(),v.delete(k));k;){let E=x.process(k);for(let D=0,Z=E.length;D<Z;D++){let $=E[D];$.consumedBy===void 0&&v.add($)}v.size!=0?(k=v.first(),v.delete(k)):k=null}Oe.reset();let P=lo.factory(x.segments);return new uo(P).getGeom()}},Kr=new ho,wa=Kr,fo=(l,...u)=>wa.run("intersection",l,u),po=(l,...u)=>wa.run("difference",l,u);Oe.set;function La(l){let u={type:"Feature"};return u.geometry=l,u}function Ca(l){return l.type==="Feature"?l.geometry:l}function io(l){return l&&l.geometry&&l.geometry.coordinates?l.geometry.coordinates:l}function mo(l){return La({type:"LineString",coordinates:l})}function go(l){return La({type:"MultiLineString",coordinates:l})}function no(l){return La({type:"Polygon",coordinates:l})}function ro(l){return La({type:"MultiPolygon",coordinates:l})}function _o(l,u){let f=Ca(l),m=Ca(u),v=fo(f.coordinates,m.coordinates);return v.length===0?null:v.length===1?no(v[0]):ro(v)}function vo(l,u){let f=Ca(l),m=Ca(u),v=po(f.coordinates,m.coordinates);return v.length===0?null:v.length===1?no(v[0]):ro(v)}function ao(l){return Array.isArray(l)?1+ao(l[0]):-1}function yo(l){l instanceof L.Polyline&&(l=l.toGeoJSON(15));let u=io(l),f=ao(u),m=[];return f>1?u.forEach(v=>{m.push(mo(v))}):m.push(l),m}function bo(l){let u=[];return l.eachLayer(f=>{u.push(io(f.toGeoJSON(15)))}),go(u)}He.Cut=He.Polygon.extend({initialize(l){this._map=l,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape(){if(this._editedLayers=[],!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let l=this._layer.getLatLngs();if(l.length<=2)return;let u=L.polygon(l,this.options.pathOptions);u._latlngInfos=this._layer._latlngInfo,this.cut(u),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(({layer:f,originalLayer:m})=>{this._fireCut(m,f,m),this._fireCut(this._map,f,m),m.pm._fireEdit()}),this._editedLayers=[],this.disable(),this.options.continueDrawing&&this.enable()},cut(l){let u=this._map._layers,f=l._latlngInfos||[];Object.keys(u).map(m=>u[m]).filter(m=>m.pm).filter(m=>!m._pmTempLayer).filter(m=>!L.PM.optIn&&!m.options.pmIgnore||L.PM.optIn&&m.options.pmIgnore===!1).filter(m=>m instanceof L.Polyline).filter(m=>m!==l).filter(m=>m.pm.options.allowCutting).filter(m=>this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0?this.options.layersToCut.indexOf(m)>-1:!0).filter(m=>!this._layerGroup.hasLayer(m)).filter(m=>{try{let v=!!Je(l.toGeoJSON(15),m.toGeoJSON(15)).features.length>0;return v||m instanceof L.Polyline&&!(m instanceof L.Polygon)?v:!!_o(l.toGeoJSON(15),m.toGeoJSON(15))}catch{return m instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}}).forEach(m=>{let v;if(m instanceof L.Polygon){v=L.polygon(m.getLatLngs());let E=v.getLatLngs();f.forEach(D=>{if(D&&D.snapInfo){let{latlng:Z}=D,$=this._calcClosestLayer(Z,[v]);if($&&$.segment&&$.distance<this.options.snapDistance){let{segment:ut}=$;if(ut&&ut.length===2){let{indexPath:mt,parentPath:Mt,newIndex:Dt}=L.PM.Utils._getIndexFromSegment(E,ut);(mt.length>1?(0,Ga.default)(E,Mt):E).splice(Dt,0,Z)}}}})}else v=m;let x=this._cutLayer(l,v),k=L.geoJSON(x,m.options);k.getLayers().length===1&&([k]=k.getLayers()),this._setPane(k,"layerPane");let P=k.addTo(this._map.pm._getContainingLayer());if(P.pm.enable(m.pm.options),P.pm.disable(),m._pmTempLayer=!0,l._pmTempLayer=!0,m.remove(),m.removeFrom(this._map.pm._getContainingLayer()),l.remove(),l.removeFrom(this._map.pm._getContainingLayer()),P.getLayers&&P.getLayers().length===0&&this._map.pm.removeLayer({target:P}),P instanceof L.LayerGroup?(P.eachLayer(E=>{this._addDrawnLayerProp(E)}),this._addDrawnLayerProp(P)):this._addDrawnLayerProp(P),this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0){let E=this.options.layersToCut.indexOf(m);E>-1&&this.options.layersToCut.splice(E,1)}this._editedLayers.push({layer:P,originalLayer:m})})},_cutLayer(l,u){let f=L.geoJSON(),m;if(u instanceof L.Polygon)m=vo(u.toGeoJSON(15),l.toGeoJSON(15));else{let v=yo(u);v.forEach(x=>{let k=dr(x,l.toGeoJSON(15)),P;k&&k.features.length>0?P=L.geoJSON(k):P=L.geoJSON(x),P.getLayers().forEach(E=>{pr(l.toGeoJSON(15),E.toGeoJSON(15))||E.addTo(f)})}),v.length>1?m=bo(f):m=f.toGeoJSON(15)}return m},_change:L.Util.falseFn}),He.Text=He.extend({initialize(l){this._map=l,this._shape="Text",this.toolbarButtonName="drawText"},enable(l){L.Util.setOptions(this,l),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(pe("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._map.getContainer().classList.add("geoman-draw-cursor"),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){var l;this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),(l=this._hintMarker)==null||l.remove(),this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(l){this.enabled()?this.disable():this.enable(l)},_syncHintMarker(l){if(this._hintMarker.setLatLng(l.latlng),this.options.snappable){let u=l;u.target=this._hintMarker,this._handleSnapping(u)}},_createMarker(l){var v,x,k,P,E,D;if(!l.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(l.latlng);let u=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),(v=this.options.textOptions)==null?void 0:v.className){let Z=this.options.textOptions.className.split(" ");this.textArea.classList.add(...Z)}let f=this._createTextIcon(this.textArea),m=new L.Marker(u,{textMarker:!0,_textMarkerOverPM:!0,icon:f});if(this._setPane(m,"markerPane"),this._finishLayer(m),m.pm||(m.options.draggable=!1),m.addTo(this._map.pm._getContainingLayer()),m.pm){m.pm.textArea=this.textArea,L.setOptions(m.pm,{removeIfEmpty:(k=(x=this.options.textOptions)==null?void 0:x.removeIfEmpty)!=null?k:!0});let Z=(E=(P=this.options.textOptions)==null?void 0:P.focusAfterDraw)!=null?E:!0;m.pm._createTextMarker(Z),(D=this.options.textOptions)!=null&&D.text&&m.pm.setText(this.options.textOptions.text)}this._fireCreate(m),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()},_createTextArea(){let l=document.createElement("textarea");return l.readOnly=!0,l.classList.add("pm-textarea","pm-disabled"),l},_createTextIcon(l){return L.divIcon({className:"pm-text-marker",html:l})}});var xo={enableLayerDrag(){if(!this.options.draggable||!this._layer._map)return;this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,Cn(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;let l=this._getDOMElem();l&&(Cn(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(l)):L.DomEvent.on(l,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()},disableLayerDrag(){this._layerDragEnabled=!1,Cn(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();let l=this._getDOMElem();l&&(Cn(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(l)):L.DomEvent.off(l,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging(){return this._dragging},layerDragEnabled(){return!!this._layerDragEnabled},_simulateMouseDownEvent(l){let u=l.touches?l.touches[0]:l,f={originalEvent:u,target:this._layer};return f.containerPoint=this._map.mouseEventToContainerPoint(u),f.latlng=this._map.containerPointToLatLng(f.containerPoint),this._dragMixinOnMouseDown(f),!1},_simulateMouseMoveEvent(l){let u=l.touches?l.touches[0]:l,f={originalEvent:u,target:this._layer};return f.containerPoint=this._map.mouseEventToContainerPoint(u),f.latlng=this._map.containerPointToLatLng(f.containerPoint),this._dragMixinOnMouseMove(f),!1},_simulateMouseUpEvent(l){let u={originalEvent:l.touches?l.touches[0]:l,target:this._layer};return l.type.indexOf("touch")===-1&&(u.containerPoint=this._map.mouseEventToContainerPoint(l),u.latlng=this._map.containerPointToLatLng(u.containerPoint)),this._dragMixinOnMouseUp(u),!1},_dragMixinOnMouseDown(l){if(l.originalEvent.button>0)return;this._overwriteEventIfItComesFromMarker(l);let u=l._fromLayerSync,f=this._syncLayers("_dragMixinOnMouseDown",l);if(this._layer instanceof L.Marker&&(this.options.snappable&&!u&&!f?this._initSnappableMarkers():this._disableSnapping()),this._layer instanceof L.CircleMarker){let m="resizeableCircleMarker";this._layer instanceof L.Circle&&(m="resizableCircle"),this.options.snappable&&!u&&!f?this._layer.pm.options[m]||this._initSnappableMarkersDrag():this._layer.pm.options[m]?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag()}this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=l.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)},_dragMixinOnMouseMove(l){this._overwriteEventIfItComesFromMarker(l);let u=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",l),this._dragging||(this._dragging=!0,L.DomUtil.addClass(u,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=l.latlng),this._onLayerDrag(l),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp(l){let u=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",l),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),this._dragging?(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(()=>{this._dragging=!1,u&&L.DomUtil.removeClass(u,"leaflet-pm-dragging"),this._fireDragEnd(),this._fireEdit(),this._layerEdited=!0},10),!0):!1},_onLayerDrag(l){let{latlng:u}=l,f={lat:u.lat-this._tempDragCoord.lat,lng:u.lng-this._tempDragCoord.lng},m=v=>v.map(x=>{if(Array.isArray(x))return m(x);let k={lat:x.lat+f.lat,lng:x.lng+f.lng};return(x.alt||x.alt===0)&&(k.alt=x.alt),k});if(this._layer instanceof L.Circle&&this._layer.options.resizableCircle||this._layer instanceof L.CircleMarker&&this._layer.options.resizeableCircleMarker){let v=m([this._layer.getLatLng()]);this._layer.setLatLng(v[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){let v=this._layer.getLatLng();this._layer._snapped&&(v=this._layer._orgLatLng);let x=m([v]);this._layer.setLatLng(x[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){let v=m([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(v),this._fireChange(this._layer.getBounds(),"Edit")}else{let v=m(this._layer.getLatLngs());this._layer.setLatLngs(v),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=u,l.layer=this._layer,this._fireDrag(l)},addDraggingClass(){let l=this._getDOMElem();l&&L.DomUtil.addClass(l,"leaflet-pm-draggable")},removeDraggingClass(){let l=this._getDOMElem();l&&L.DomUtil.removeClass(l,"leaflet-pm-draggable")},_getDOMElem(){let l=null;return this._layer._path?l=this._layer._path:this._layer._renderer&&this._layer._renderer._container?l=this._layer._renderer._container:this._layer._image?l=this._layer._image:this._layer._icon&&(l=this._layer._icon),l},_overwriteEventIfItComesFromMarker(l){l.target.getLatLng&&(!l.target._radius||l.target._radius<=10)&&(l.containerPoint=this._map.mouseEventToContainerPoint(l.originalEvent),l.latlng=this._map.containerPointToLatLng(l.containerPoint))},_syncLayers(l,u){if(this.enabled())return!1;if(!u._fromLayerSync&&this._layer===u.target&&this.options.syncLayersOnDrag){u._fromLayerSync=!0;let f=[];if(L.Util.isArray(this.options.syncLayersOnDrag))f=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(m=>{m instanceof L.LayerGroup&&(f=f.concat(m.pm.getLayers(!0)))});else if(this.options.syncLayersOnDrag===!0&&this._parentLayerGroup)for(let m in this._parentLayerGroup){let v=this._parentLayerGroup[m];v.pm&&(f=v.pm.getLayers(!0))}return L.Util.isArray(f)&&f.length>0&&(f=f.filter(m=>!!m.pm).filter(m=>!!m.pm.options.draggable),f.forEach(m=>{m!==this._layer&&m.pm[l]&&(m._snapped=!1,m.pm[l](u))})),f.length>0}return!1},_stopDOMImageDrag(l){return l.preventDefault(),!1}},wo=xo,Lo=p(gi());function Co(l,u,f,m){return f.unproject(u.transform(f.project(l,m)),m)}function oo(l,u,f){let m=f.getMaxZoom();if(m===1/0&&(m=f.getZoom()),L.Util.isArray(l)){let v=[];return l.forEach(x=>{v.push(oo(x,u,f))}),v}return l instanceof L.LatLng?Co(l,u,f,m):null}function kr(l,u){u instanceof L.Layer&&(u=u.getLatLng());let f=l.getMaxZoom();return f===1/0&&(f=l.getZoom()),l.project(u,f)}function ka(l,u){let f=l.getMaxZoom();return f===1/0&&(f=l.getZoom()),l.unproject(u,f)}var ko={_onRotateStart(l){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=kr(this._map,this._rotationOriginLatLng),this._rotationStartPoint=kr(this._map,l.target.getLatLng()),this._initialRotateLatLng=$i(this._layer),this._startAngle=this.getAngle();let u=$i(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,u),this._fireRotationStart(this._map,u)},_onRotate(l){let u=kr(this._map,l.target.getLatLng()),f=this._rotationStartPoint,m=this._rotationOriginPoint,v=Math.atan2(u.y-m.y,u.x-m.x)-Math.atan2(f.y-m.y,f.x-m.x);this._layer.setLatLngs(this._rotateLayer(v,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let x=this;function k(Z,$=[],ut=-1){if(ut>-1&&$.push(ut),L.Util.isArray(Z[0]))Z.forEach((mt,Mt)=>k(mt,$.slice(),Mt));else{let mt=(0,Lo.default)(x._markers,$);Z.forEach((Mt,Dt)=>{mt[Dt].setLatLng(Mt)})}}k(this._layer.getLatLngs());let P=$i(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(v,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let E=v*180/Math.PI;E=E<0?E+360:E;let D=E+this._startAngle;this._setAngle(D),this._rotationLayer.pm._setAngle(D),this._fireRotation(this._rotationLayer,E,P),this._fireRotation(this._map,E,P),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd(){let l=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;let u=$i(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=$i(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,l,u),this._fireRotationEnd(this._map,l,u),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer(l,u,f,m,v){let x=kr(v,f);return this._matrix=m.clone().rotate(l,x).flip(),oo(u,this._matrix,v)},_setAngle(l){l=l<0?l+360:l,this._angle=l%360},_getRotationCenter(){if(this._rotationCenter)return this._rotationCenter;let l=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),u=l.getCenter();return l.removeFrom(this._layer._map),u},enableRotate(){if(!this.options.allowRotation){this.disableRotate();return}this.rotateEnabled()&&this.disableRotate(),this._layer instanceof L.Rectangle&&this._angle===void 0&&this.setInitAngle(Ir(this._layer._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let l={fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0};this._rotatePoly=L.polygon(this._layer.getLatLngs(),l),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setRotationCenter(this.getRotationCenter()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=$i(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)},disableRotate(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled(){return!!this._rotateEnabled},rotateLayer(l){let u=this.getAngle(),f=this._layer.getLatLngs(),m=l*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(m,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+l),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(m,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());let v=this.getAngle()-u;v=v<0?v+360:v,this._startAngle=u,this._fireRotation(this._layer,v,f,this._layer),this._fireRotation(this._map||this._layer._map,v,f,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle(l){let u=l-this.getAngle();this.rotateLayer(u)},getAngle(){return this._angle||0},setInitAngle(l){this._setAngle(l)},getRotationCenter(){return this._getRotationCenter()},setRotationCenter(l){this._rotationCenter=l,this._rotatePoly&&this._rotatePoly.pm.setRotationCenter(l)}},Mo=ko,Po=L.Class.extend({includes:[wo,Rr,Mo,Ln],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0,resizeableCircleMarker:!1,resizableCircle:!0},setOptions(l){L.Util.setOptions(this,l)},getOptions(){return this.options},applyOptions(){},isPolygon(){return this._layer instanceof L.Polygon},getShape(){return this._shape},_setPane(l,u){u==="layerPane"?l.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":u==="vertexPane"?l.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":u==="markerPane"&&(l.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation(l,u){let f=u.target,m={layer:this._layer,marker:f,event:u},v="";return l==="move"?v="moveVertexValidation":l==="add"?v="addVertexValidation":l==="remove"&&(v="removeVertexValidation"),this.options[v]&&typeof this.options[v]=="function"&&!this.options[v](m)?(l==="move"&&(f._cancelDragEventChain=f.getLatLng()),!1):(f._cancelDragEventChain=null,!0)},_vertexValidationDrag(l){return l._cancelDragEventChain?(l._latlng=l._cancelDragEventChain,l.update(),!1):!0},_vertexValidationDragEnd(l){return l._cancelDragEventChain?(l._cancelDragEventChain=null,!1):!0}}),qe=Po;qe.LayerGroup=L.Class.extend({initialize(l){this._layerGroup=l,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(m=>this._initLayer(m));let u=m=>{if(m.layer._pmTempLayer)return;this._layers=this.getLayers();let v=this._layers.filter(x=>!x.pm._parentLayerGroup||!(this._layerGroup._leaflet_id in x.pm._parentLayerGroup));v.forEach(x=>{this._initLayer(x)}),v.length>0&&this._getMap()&&this._getMap().pm.globalEditModeEnabled()&&this.enabled()&&this.enable(this.getOptions())};this._layerGroup.on("layeradd",L.Util.throttle(u,100,this),this),this._layerGroup.on("layerremove",m=>{this._removeLayerFromGroup(m.target)},this);let f=m=>{m.target._pmTempLayer||(this._layers=this.getLayers())};this._layerGroup.on("layerremove",L.Util.throttle(f,100,this),this)},enable(l,u=[]){u.length===0&&(this._layers=this.getLayers()),this._options=l,this._layers.forEach(f=>{f instanceof L.LayerGroup?u.indexOf(f._leaflet_id)===-1&&(u.push(f._leaflet_id),f.pm.enable(l,u)):f.pm.enable(l)})},disable(l=[]){l.length===0&&(this._layers=this.getLayers()),this._layers.forEach(u=>{u instanceof L.LayerGroup?l.indexOf(u._leaflet_id)===-1&&(l.push(u._leaflet_id),u.pm.disable(l)):u.pm.disable()})},enabled(l=[]){return l.length===0&&(this._layers=this.getLayers()),!!this._layers.find(u=>u instanceof L.LayerGroup?l.indexOf(u._leaflet_id)===-1?(l.push(u._leaflet_id),u.pm.enabled(l)):!1:u.pm.enabled())},toggleEdit(l,u=[]){u.length===0&&(this._layers=this.getLayers()),this._options=l,this._layers.forEach(f=>{f instanceof L.LayerGroup?u.indexOf(f._leaflet_id)===-1&&(u.push(f._leaflet_id),f.pm.toggleEdit(l,u)):f.pm.toggleEdit(l)})},_initLayer(l){let u=L.Util.stamp(this._layerGroup);l.pm._parentLayerGroup||(l.pm._parentLayerGroup={}),l.pm._parentLayerGroup[u]=this._layerGroup},_removeLayerFromGroup(l){if(l.pm&&l.pm._layerGroup){let u=L.Util.stamp(this._layerGroup);delete l.pm._layerGroup[u]}},dragging(){return this._layers=this.getLayers(),this._layers?!!this._layers.find(l=>l.pm.dragging()):!1},getOptions(){return this.options},_getMap(){var l;return this._map||((l=this._layers.find(u=>!!u._map))==null?void 0:l._map)||null},getLayers(l=!1,u=!0,f=!0,m=[]){let v=[];return l?this._layerGroup.getLayers().forEach(x=>{v.push(x),x instanceof L.LayerGroup&&m.indexOf(x._leaflet_id)===-1&&(m.push(x._leaflet_id),v=v.concat(x.pm.getLayers(!0,!0,!0,m)))}):v=this._layerGroup.getLayers(),f&&(v=v.filter(x=>!(x instanceof L.LayerGroup))),u&&(v=v.filter(x=>!!x.pm),v=v.filter(x=>!x._pmTempLayer),v=v.filter(x=>!L.PM.optIn&&!x.options.pmIgnore||L.PM.optIn&&x.options.pmIgnore===!1)),v},setOptions(l,u=[]){u.length===0&&(this._layers=this.getLayers()),this.options=l,this._layers.forEach(f=>{f.pm&&(f instanceof L.LayerGroup?u.indexOf(f._leaflet_id)===-1&&(u.push(f._leaflet_id),f.pm.setOptions(l,u)):f.pm.setOptions(l))})}}),qe.Marker=qe.extend({_shape:"Marker",initialize(l){this._layer=l,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable(l={draggable:!0}){if(L.Util.setOptions(this,l),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()},disable(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled(){return this._enabled},toggleEdit(l){this.enabled()?this.disable():this.enable(l)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker(l){let u=l.target;u.remove(),this._fireRemove(u),this._fireRemove(this._map,u)},_onDragEnd(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers(){let l=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,l.off("pm:drag",this._handleSnapping,this),l.on("pm:drag",this._handleSnapping,this),l.off("pm:dragend",this._cleanupSnapping,this),l.on("pm:dragend",this._cleanupSnapping,this),l.off("pm:dragstart",this._unsnap,this),l.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let l=this._layer;l.off("pm:drag",this._handleSnapping,this),l.off("pm:dragend",this._cleanupSnapping,this),l.off("pm:dragstart",this._unsnap,this)}});var En=p(gi()),So={filterMarkerGroup(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this._layer.on("remove",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache(){let l=[...this._markerGroup.getLayers(),...this.markerCache];this.markerCache=l.filter((u,f,m)=>m.indexOf(u)===f)},_removeFromCache(l){let u=this.markerCache.indexOf(l);u>-1&&this.markerCache.splice(u,1)},renderLimits(l){this.markerCache.forEach(u=>{l.includes(u)?this._markerGroup.addLayer(u):this._markerGroup.removeLayer(u)})},applyLimitFilters({latlng:l={lat:0,lng:0}}){if(this._preventRenderMarkers)return;let u=[...this._filterClosestMarkers(l)];this.renderLimits(u)},_filterClosestMarkers(l){let u=[...this.markerCache],f=this.options.limitMarkersToCount;return f===-1?u:(u.sort((m,v)=>{let x=m._latlng.distanceTo(l),k=v._latlng.distanceTo(l);return x-k}),u.filter((m,v)=>f>-1?v<f:!0))},_preventRenderMarkers:!1,_preventRenderingMarkers(l){this._preventRenderMarkers=!!l}},To=So;qe.Line=qe.extend({includes:[To],_shape:"Line",initialize(l){this._layer=l,this._enabled=!1},enable(l){if(L.Util.setOptions(this,l),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="#f00000ff"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()}},disable(){if(!this.enabled()||this._dragging)return;this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);let l=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(l,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()},enabled(){return this._enabled},toggleEdit(l){return this.enabled()?this.disable():this.enable(l),this.enabled()},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers(){let l=this._map,u=this._layer.getLatLngs();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0;let f=m=>{if(Array.isArray(m[0]))return m.map(f,this);let v=m.map(this._createMarker,this);return this.options.hideMiddleMarkers!==!0&&m.map((x,k)=>{let P=this.isPolygon()?(k+1)%m.length:k+1;return this._createMiddleMarker(v[k],v[P])}),v};this._markers=f(u),this.filterMarkerGroup(),l.addLayer(this._markerGroup)},_createMarker(l){let u=new L.Marker(l,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(u,"vertexPane"),u._pmTempLayer=!0,this.options.rotate?(u.on("dragstart",this._onRotateStart,this),u.on("drag",this._onRotate,this),u.on("dragend",this._onRotateEnd,this)):(u.on("click",this._onVertexClick,this),u.on("dragstart",this._onMarkerDragStart,this),u.on("move",this._onMarkerDrag,this),u.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||u.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(u),u},_createMiddleMarker(l,u){if(!l||!u)return!1;let f=L.PM.Utils.calcMiddleLatLng(this._map,l.getLatLng(),u.getLatLng()),m=this._createMarker(f),v=L.divIcon({className:"marker-icon marker-icon-middle"});return m.setIcon(v),m.leftM=l,m.rightM=u,l._middleMarkerNext=m,u._middleMarkerPrev=m,m.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),m.on("movestart",this._onMiddleMarkerMoveStart,this),m},_onMiddleMarkerClick(l){let u=l.target;if(!this._vertexValidation("add",l))return;let f=L.divIcon({className:"marker-icon"});u.setIcon(f),this._addMarker(u,u.leftM,u.rightM)},_onMiddleMarkerMoveStart(l){let u=l.target;if(u.on("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidation("add",l)){u.on("move",this._onMiddleMarkerMovePrevent,this);return}u._dragging=!0,this._addMarker(u,u.leftM,u.rightM)},_onMiddleMarkerMovePrevent(l){let u=l.target;this._vertexValidationDrag(u)},_onMiddleMarkerMoveEnd(l){let u=l.target;if(u.off("move",this._onMiddleMarkerMovePrevent,this),u.off("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidationDragEnd(u))return;let f=L.divIcon({className:"marker-icon"});u.setIcon(f),setTimeout(()=>{delete u._dragging},100)},_addMarker(l,u,f){l.off("movestart",this._onMiddleMarkerMoveStart,this),l.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);let m=l.getLatLng(),v=this._layer._latlngs;delete l.leftM,delete l.rightM;let{indexPath:x,index:k,parentPath:P}=L.PM.Utils.findDeepMarkerIndex(this._markers,u),E=x.length>1?(0,En.default)(v,P):v,D=x.length>1?(0,En.default)(this._markers,P):this._markers;E.splice(k+1,0,m),D.splice(k+1,0,l),this._layer.setLatLngs(v),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(u,l),this._createMiddleMarker(l,f)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(l,L.PM.Utils.findDeepMarkerIndex(this._markers,l).indexPath,m),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection(){return Wn(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval(){this._handleLayerStyle(!0)&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle(l){let u=this._layer,f,m;if(this.options.allowSelfIntersection?f=!1:(m=Wn(this._layer.toGeoJSON(15)),f=m.features.length>0),f){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return f;l?this._flashLayer():(u.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(m)}else u.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1);return f},_flashLayer(){this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(()=>{this._layer.setStyle({color:this.cachedColor}),this.isRed=!1},200)},_updateDisabledMarkerStyle(l,u){l.forEach(f=>{Array.isArray(f)?this._updateDisabledMarkerStyle(f,u):f._icon&&(u&&!this._checkMarkerAllowedToDrag(f)?L.DomUtil.addClass(f._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(f._icon,"vertexmarker-disabled"))})},_removeMarker(l){let u=l.target;if(!this._vertexValidation("remove",l))return;this.options.allowSelfIntersection||(this._coordsBeforeEdit=$i(this._layer,this._layer.getLatLngs()));let f=this._layer.getLatLngs(),{indexPath:m,index:v,parentPath:x}=L.PM.Utils.findDeepMarkerIndex(this._markers,u);if(!m)return;let k=m.length>1?(0,En.default)(f,x):f,P=m.length>1?(0,En.default)(this._markers,x):this._markers;if(!this.options.removeLayerBelowMinVertexCount&&(k.length<=2||this.isPolygon()&&k.length<=3)){this._flashLayer();return}k.splice(v,1),this._layer.setLatLngs(f),this.isPolygon()&&k.length<=2&&k.splice(0,k.length);let E=!1;if(k.length<=1&&(k.splice(0,k.length),x.length>1&&m.length>1&&(f=qi(f)),this._layer.setLatLngs(f),this._initMarkers(),E=!0),ai(f)||this._layer.remove(),f=qi(f),this._layer.setLatLngs(f),this._markers=qi(this._markers),!E&&(P=m.length>1?(0,En.default)(this._markers,x):this._markers,u._middleMarkerPrev&&(this._markerGroup.removeLayer(u._middleMarkerPrev),this._removeFromCache(u._middleMarkerPrev)),u._middleMarkerNext&&(this._markerGroup.removeLayer(u._middleMarkerNext),this._removeFromCache(u._middleMarkerNext)),this._markerGroup.removeLayer(u),this._removeFromCache(u),P)){let D,Z;if(this.isPolygon()?(D=(v+1)%P.length,Z=(v+(P.length-1))%P.length):(Z=v-1<0?void 0:v-1,D=v+1>=P.length?void 0:v+1),D!==Z){let $=P[Z],ut=P[D];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker($,ut)}P.splice(v,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(u,m),this._fireChange(this._layer.getLatLngs(),"Edit")},updatePolygonCoordsFromMarkerDrag(l){let u=this._layer.getLatLngs(),f=l.getLatLng(),{indexPath:m,index:v,parentPath:x}=L.PM.Utils.findDeepMarkerIndex(this._markers,l);(m.length>1?(0,En.default)(u,x):u).splice(v,1,f),this._layer.setLatLngs(u)},_getNeighborMarkers(l){let{indexPath:u,index:f,parentPath:m}=L.PM.Utils.findDeepMarkerIndex(this._markers,l),v=u.length>1?(0,En.default)(this._markers,m):this._markers,x=(f+1)%v.length,k=(f+(v.length-1))%v.length,P=v[k],E=v[x];return{prevMarker:P,nextMarker:E}},_checkMarkerAllowedToDrag(l){let{prevMarker:u,nextMarker:f}=this._getNeighborMarkers(l),m=L.polyline([u.getLatLng(),l.getLatLng()]),v=L.polyline([l.getLatLng(),f.getLatLng()]),x=Je(this._layer.toGeoJSON(15),m.toGeoJSON(15)).features.length,k=Je(this._layer.toGeoJSON(15),v.toGeoJSON(15)).features.length;return l.getLatLng()===this._markers[0][0].getLatLng()?k+=1:l.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(x+=1),!(x<=2&&k<=2)},_onMarkerDragStart(l){let u=l.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),!this._vertexValidation("move",l))return;let{indexPath:f}=L.PM.Utils.findDeepMarkerIndex(this._markers,u);this._fireMarkerDragStart(l,f),this.options.allowSelfIntersection||(this._coordsBeforeEdit=$i(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(u):this._markerAllowedToDrag=null},_onMarkerDrag(l){let u=l.target;if(!this._vertexValidationDrag(u))return;let{indexPath:f,index:m,parentPath:v}=L.PM.Utils.findDeepMarkerIndex(this._markers,u);if(!f)return;if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1){this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),this._handleLayerStyle();return}this.updatePolygonCoordsFromMarkerDrag(u);let x=f.length>1?(0,En.default)(this._markers,v):this._markers,k=(m+1)%x.length,P=(m+(x.length-1))%x.length,E=u.getLatLng(),D=x[P].getLatLng(),Z=x[k].getLatLng();if(u._middleMarkerNext){let $=L.PM.Utils.calcMiddleLatLng(this._map,E,Z);u._middleMarkerNext.setLatLng($)}if(u._middleMarkerPrev){let $=L.PM.Utils.calcMiddleLatLng(this._map,E,D);u._middleMarkerPrev.setLatLng($)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(l,f),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(l){let u=l.target;if(!this._vertexValidationDragEnd(u))return;let{indexPath:f}=L.PM.Utils.findDeepMarkerIndex(this._markers,u),m=this.hasSelfIntersection();m&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(m=!1);let v=!this.options.allowSelfIntersection&&m;if(this._fireMarkerDragEnd(l,f,v),v){this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),this._fireLayerReset(l,f);return}!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_onVertexClick(l){let u=l.target;if(u._dragging)return;let{indexPath:f}=L.PM.Utils.findDeepMarkerIndex(this._markers,u);this._fireVertexClick(l,f)}}),qe.Polygon=qe.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag(l){let{prevMarker:u,nextMarker:f}=this._getNeighborMarkers(l),m=L.polyline([u.getLatLng(),l.getLatLng()]),v=L.polyline([l.getLatLng(),f.getLatLng()]),x=Je(this._layer.toGeoJSON(15),m.toGeoJSON(15)).features.length,k=Je(this._layer.toGeoJSON(15),v.toGeoJSON(15)).features.length;return!(x<=2&&k<=2)}}),qe.Rectangle=qe.Polygon.extend({_shape:"Rectangle",_initMarkers(){let l=this._map,u=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,l.addLayer(this._markerGroup),this._markers=[],this._markers[0]=u.map(this._createMarker,this),[this._cornerMarkers]=this._markers,this._layer.getLatLngs()[0].forEach((f,m)=>{let v=this._cornerMarkers.find(x=>x._index===m);v&&v.setLatLng(f)})},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker(l,u){let f=new L.Marker(l,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(f,"vertexPane"),f._origLatLng=l,f._index=u,f._pmTempLayer=!0,f.on("click",this._onVertexClick,this),this._markerGroup.addLayer(f),f},_addMarkerEvents(){this._markers[0].forEach(l=>{l.on("dragstart",this._onMarkerDragStart,this),l.on("drag",this._onMarkerDrag,this),l.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||l.on("contextmenu",this._removeMarker,this)})},_removeMarker(){return null},_onMarkerDragStart(l){if(!this._vertexValidation("move",l))return;let u=l.target,f=this._cornerMarkers;u._oppositeCornerLatLng=f.find(v=>v._index===(u._index+2)%4).getLatLng(),u._snapped=!1;let{indexPath:m}=L.PM.Utils.findDeepMarkerIndex(this._markers,u);this._fireMarkerDragStart(l,m)},_onMarkerDrag(l){let u=l.target;if(!this._vertexValidationDrag(u)||u._index===void 0)return;this._adjustRectangleForMarkerMove(u);let{indexPath:f}=L.PM.Utils.findDeepMarkerIndex(this._markers,u);this._fireMarkerDrag(l,f),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(l){let u=l.target;if(!this._vertexValidationDragEnd(u))return;this._cornerMarkers.forEach(m=>{delete m._oppositeCornerLatLng});let{indexPath:f}=L.PM.Utils.findDeepMarkerIndex(this._markers,u);this._fireMarkerDragEnd(l,f),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_adjustRectangleForMarkerMove(l){L.extend(l._origLatLng,l._latlng);let u=L.PM.Utils._getRotatedRectangle(l.getLatLng(),l._oppositeCornerLatLng,this.getAngle(),this._map);this._layer.setLatLngs(u),this._adjustAllMarkers(),this._layer.redraw()},_adjustAllMarkers(){let l=this._layer.getLatLngs()[0];l&&l.length!==4&&l.length>0?(l.forEach((u,f)=>{this._cornerMarkers[f].setLatLng(u)}),this._cornerMarkers.slice(l.length).forEach(u=>{u.setLatLng(l[0])})):!l||!l.length?console.error("The layer has no LatLngs"):this._cornerMarkers.forEach(u=>{u.setLatLng(l[u._index])})},_findCorners(){this._angle===void 0&&this.setInitAngle(Ir(this._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let l=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(l[0],l[2],this.getAngle(),this._map||this)}}),qe.CircleMarker=qe.extend({_shape:"CircleMarker",initialize(l){this._layer=l,this._enabled=!1,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._updateHiddenPolyCircle()},enable(l={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,l),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._extendingEnable(),this._updateHiddenPolyCircle(),this._fireEnable()},_extendingEnable(){this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this)},disable(){this.dragging()||(this._map||(this._map=this._layer._map),this._map&&this.enabled()&&(this.layerDragEnabled()&&this.disableLayerDrag(),this.options[this._editableOption]?(this._helperLayers&&this._helperLayers.clearLayers(),this._map.off("move",this._syncMarkers,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this),this._extendingDisable(),this._layer.off("remove",this.disable,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1))},_extendingDisable(){this._layer.off("contextmenu",this._removeMarker,this)},enabled(){return this._enabled},toggleEdit(l){this.enabled()?this.disable():this.enable(l)},applyOptions(){this.options[this._editableOption]?(this._initMarkers(),this._map.on("move",this._syncMarkers,this),this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this),this._centerMarker.on("move",this._moveCircle,this)):this._disableSnapping()):(this.options.draggable&&this.enableLayerDrag(),this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this._initSnappableMarkersDrag():this._disableSnappingDrag()),this._extendingApplyOptions()},_extendingApplyOptions(){this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers(){let l=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(l);let u=this._layer.getLatLng(),f=this._layer._radius,m=this._getLatLngOnCircle(u,f);this._centerMarker=this._createCenterMarker(u),this._outerMarker=this._createOuterMarker(m),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle(l,u){let f=this._map.project(l),m=L.point(f.x+u,f.y);return this._map.unproject(m)},_createHintLine(l,u){let f=l.getLatLng(),m=u.getLatLng();this._hintline=L.polyline([f,m],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker(l){let u=this._createMarker(l);return this.options.draggable?L.DomUtil.addClass(u._icon,"leaflet-pm-draggable"):u.dragging.disable(),u},_createOuterMarker(l){let u=this._createMarker(l);return u.on("drag",this._resizeCircle,this),u},_createMarker(l){let u=new L.Marker(l,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(u,"vertexPane"),u._origLatLng=l,u._pmTempLayer=!0,u.on("dragstart",this._onMarkerDragStart,this),u.on("drag",this._onMarkerDrag,this),u.on("dragend",this._onMarkerDragEnd,this),u.on("click",this._onVertexClick,this),this._helperLayers.addLayer(u),u},_moveCircle(l){if(l.target._cancelDragEventChain)return;let u=this._centerMarker.getLatLng();this._layer.setLatLng(u);let f=this._layer._radius,m=this._getLatLngOnCircle(u,f);this._outerMarker._latlng=m,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")},_syncMarkers(){let l=this._layer.getLatLng(),u=this._layer._radius,f=this._getLatLngOnCircle(l,u);this._outerMarker.setLatLng(f),this._centerMarker.setLatLng(l),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius(){let l=this._centerMarker.getLatLng(),u=this._outerMarker.getLatLng(),f=this._distanceCalculation(l,u);this.options[this._minRadiusOption]&&f<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&f>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(f),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine(){let l=this._centerMarker.getLatLng(),u=this._outerMarker.getLatLng();this._hintline.setLatLngs([l,u])},_removeMarker(){this.options[this._editableOption]&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart(l){this._vertexValidation("move",l)&&this._fireMarkerDragStart(l)},_onMarkerDrag(l){let u=l.target;u instanceof L.Marker&&!this._vertexValidationDrag(u)||this._fireMarkerDrag(l)},_onMarkerDragEnd(l){this._extedingMarkerDragEnd();let u=l.target;this._vertexValidationDragEnd(u)&&(this.options[this._editableOption]&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(l))},_extedingMarkerDragEnd(){this._map.pm.Draw.CircleMarker._layerIsDragging=!1},_initSnappableMarkersDrag(){let l=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,l.off("pm:drag",this._handleSnapping,this),l.on("pm:drag",this._handleSnapping,this),l.off("pm:dragend",this._cleanupSnapping,this),l.on("pm:dragend",this._cleanupSnapping,this),l.off("pm:dragstart",this._unsnap,this),l.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag(){let l=this._layer;l.off("pm:drag",this._handleSnapping,this),l.off("pm:dragend",this._cleanupSnapping,this),l.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle(){let l=this._layer._map||this._map;if(l){let u=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),l,this._layer.getLatLng()),f=L.circle(this._layer.getLatLng(),this._layer.options);f.setRadius(u);let m=l&&l.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(f,200,!m).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(f,200,!m),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker(){let l=this._centerMarker.getLatLng(),u=this._outerMarker.getLatLng(),f=this._distanceCalculation(l,u);return this.options[this._minRadiusOption]&&f<this.options[this._minRadiusOption]?u=$n(this._map,l,u,this._getMinDistanceInMeter(l)):this.options[this._maxRadiusOption]&&f>this.options[this._maxRadiusOption]&&(u=$n(this._map,l,u,this._getMaxDistanceInMeter(l))),u},_handleOuterMarkerSnapping(){if(this._outerMarker._snapped){let l=this._centerMarker.getLatLng(),u=this._outerMarker.getLatLng(),f=this._distanceCalculation(l,u);this.options[this._minRadiusOption]&&f<this.options[this._minRadiusOption]?this._outerMarker.setLatLng(this._outerMarker._orgLatLng):this.options[this._maxRadiusOption]&&f>this.options[this._maxRadiusOption]&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())},_distanceCalculation(l,u){return this._map.project(l).distanceTo(this._map.project(u))},_getMinDistanceInMeter(l){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,l)},_getMaxDistanceInMeter(l){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,l)},_onVertexClick(l){l.target._dragging||this._fireVertexClick(l,void 0)}}),qe.Circle=qe.CircleMarker.extend({_shape:"Circle",initialize(l){this._layer=l,this._enabled=!1,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizableCircle",this._updateHiddenPolyCircle()},enable(l){L.PM.Edit.CircleMarker.prototype.enable.call(this,l||{})},_extendingEnable(){},_extendingDisable(){this._layer.off("remove",this.disable,this);let l=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(l,"leaflet-pm-draggable")},_extendingApplyOptions(){},_syncMarkers(){},_removeMarker(){},_onDragStart(){},_extedingMarkerDragEnd(){},_updateHiddenPolyCircle(){let l=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!l).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!l),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_distanceCalculation(l,u){return this._map.distance(l,u)},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_onVertexClick(l){l.target._dragging||this._fireVertexClick(l,void 0)}}),qe.ImageOverlay=qe.extend({_shape:"ImageOverlay",initialize(l){this._layer=l,this._enabled=!1},toggleEdit(l){this.enabled()?this.disable():this.enable(l)},enabled(){return this._enabled},enable(l={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,l),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()}},disable(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners(){let l=this._layer.getBounds(),u=l.getNorthWest(),f=l.getNorthEast(),m=l.getSouthEast(),v=l.getSouthWest();return[u,f,m,v]}}),qe.Text=qe.extend({_shape:"Text",initialize(l){this._layer=l,this._enabled=!1},enable(l){if(L.Util.setOptions(this,l),!!this.textArea){if(!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()}},disable(){if(!this.enabled())return;this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");let l=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),l.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1},enabled(){return this._enabled},toggleEdit(l){this.enabled()?this.disable():this.enable(l)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers(){let l=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,l.off("pm:drag",this._handleSnapping,this),l.on("pm:drag",this._handleSnapping,this),l.off("pm:dragend",this._cleanupSnapping,this),l.on("pm:dragend",this._cleanupSnapping,this),l.off("pm:dragstart",this._unsnap,this),l.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let l=this._layer;l.off("pm:drag",this._handleSnapping,this),l.off("pm:dragend",this._cleanupSnapping,this),l.off("pm:dragstart",this._unsnap,this)},_autoResize(){this.textArea.style.height="1px",this.textArea.style.width="1px";let l=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,u=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height=`${l}px`,this.textArea.style.width=`${u}px`,this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur(){this._disableOnBlurActive=!0,setTimeout(()=>{this.enabled()&&L.DomEvent.on(document,"click",this._documentClick,this)},100)},_documentClick(l){l.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange(l={}){let u=this._hasFocus;this._hasFocus=l.type==="focus",!u!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus(){return this._hasFocus},getElement(){return this.textArea},setText(l){this.textArea.value=l,this._autoResize()},getText(){return this.textArea.value},_initTextMarker(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){let u=this.options.className.split(" ");this.textArea.classList.add(...u)}let l=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(l),this._layer.once("add",this._createTextMarker,this)},_createTextMarker(l=!1){this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),l===!0&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection(l){l.preventDefault()}});var Qa=function(l,u,f,m,v,x){this._matrix=[l,u,f,m,v,x]};Qa.init=()=>new L.PM.Matrix(1,0,0,1,0,0),Qa.prototype={transform(l){return this._transform(l.clone())},_transform(l){let u=this._matrix,{x:f,y:m}=l;return l.x=u[0]*f+u[1]*m+u[4],l.y=u[2]*f+u[3]*m+u[5],l},untransform(l){let u=this._matrix;return new L.Point((l.x/u[0]-u[4])/u[0],(l.y/u[2]-u[5])/u[2])},clone(){let l=this._matrix;return new L.PM.Matrix(l[0],l[1],l[2],l[3],l[4],l[5])},translate(l){if(l===void 0)return new L.Point(this._matrix[4],this._matrix[5]);let u,f;return typeof l=="number"?(u=l,f=l):(u=l.x,f=l.y),this._add(1,0,0,1,u,f)},scale(l,u){if(l===void 0)return new L.Point(this._matrix[0],this._matrix[3]);let f,m;return u=u||L.point(0,0),typeof l=="number"?(f=l,m=l):(f=l.x,m=l.y),this._add(f,0,0,m,u.x,u.y)._add(1,0,0,1,-u.x,-u.y)},rotate(l,u){let f=Math.cos(l),m=Math.sin(l);return u=u||new L.Point(0,0),this._add(f,m,-m,f,u.x,u.y)._add(1,0,0,1,-u.x,-u.y)},flip(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add(l,u,f,m,v,x){let k=[[],[],[]],P=this._matrix,E=[[P[0],P[2],P[4]],[P[1],P[3],P[5]],[0,0,1]],D=[[l,f,v],[u,m,x],[0,0,1]],Z;l&&l instanceof L.PM.Matrix&&(P=l._matrix,D=[[P[0],P[2],P[4]],[P[1],P[3],P[5]],[0,0,1]]);for(let $=0;$<3;$+=1)for(let ut=0;ut<3;ut+=1){Z=0;for(let mt=0;mt<3;mt+=1)Z+=E[$][mt]*D[mt][ut];k[$][ut]=Z}return this._matrix=[k[0][0],k[1][0],k[0][1],k[1][1],k[0][2],k[1][2]],this}};var Eo=Qa,Bo={calcMiddleLatLng(l,u,f){let m=l.project(u),v=l.project(f);return l.unproject(m._add(v)._divideBy(2))},findLayers(l){let u=[];return l.eachLayer(f=>{(f instanceof L.Polyline||f instanceof L.Marker||f instanceof L.Circle||f instanceof L.CircleMarker||f instanceof L.ImageOverlay)&&u.push(f)}),u=u.filter(f=>!!f.pm),u=u.filter(f=>!f._pmTempLayer),u=u.filter(f=>!L.PM.optIn&&!f.options.pmIgnore||L.PM.optIn&&f.options.pmIgnore===!1),u},circleToPolygon(l,u=60,f=!0){let m=l.getLatLng(),v=l.getRadius(),x=oa(m,v,u,0,f),k=[];for(let P=0;P<x.length;P+=1){let E=[x[P].lat,x[P].lng];k.push(E)}return L.polygon(k,l.options)},disablePopup(l){l.getPopup()&&(l._tempPopupCopy=l.getPopup(),l.unbindPopup())},enablePopup(l){l._tempPopupCopy&&(l.bindPopup(l._tempPopupCopy),delete l._tempPopupCopy)},_fireEvent(l,u,f,m=!1){l.fire(u,f,m);let{groups:v}=this.getAllParentGroups(l);v.forEach(x=>{x.fire(u,f,m)})},getAllParentGroups(l){let u=[],f=[],m=v=>{for(let x in v._eventParents)if(u.indexOf(x)===-1){u.push(x);let k=v._eventParents[x];f.push(k),m(k)}};return!l._pmLastGroupFetch||!l._pmLastGroupFetch.time||new Date().getTime()-l._pmLastGroupFetch.time>1e3?(m(l),l._pmLastGroupFetch={time:new Date().getTime(),groups:f,groupIds:u},{groupIds:u,groups:f}):{groups:l._pmLastGroupFetch.groups,groupIds:l._pmLastGroupFetch.groupIds}},createGeodesicPolygon:oa,getTranslation:pe,findDeepCoordIndex(l,u,f=!0){let m,v=k=>(P,E)=>{let D=k.concat(E);if(f){if(P.lat&&P.lat===u.lat&&P.lng===u.lng)return m=D,!0}else if(P.lat&&L.latLng(P).equals(u))return m=D,!0;return Array.isArray(P)&&P.some(v(D))};l.some(v([]));let x={};return m&&(x={indexPath:m,index:m[m.length-1],parentPath:m.slice(0,m.length-1)}),x},findDeepMarkerIndex(l,u){let f,m=x=>(k,P)=>{let E=x.concat(P);return k._leaflet_id===u._leaflet_id?(f=E,!0):Array.isArray(k)&&k.some(m(E))};l.some(m([]));let v={};return f&&(v={indexPath:f,index:f[f.length-1],parentPath:f.slice(0,f.length-1)}),v},_getIndexFromSegment(l,u){if(u&&u.length===2){let f=this.findDeepCoordIndex(l,u[0]),m=this.findDeepCoordIndex(l,u[1]),v=Math.max(f.index,m.index);return(f.index===0||m.index===0)&&v!==1&&(v+=1),{indexA:f,indexB:m,newIndex:v,indexPath:f.indexPath,parentPath:f.parentPath}}return null},_getRotatedRectangle(l,u,f,m){let v=kr(m,l),x=kr(m,u),k=f*Math.PI/180,P=Math.cos(k),E=Math.sin(k),D=(x.x-v.x)*P+(x.y-v.y)*E,Z=(x.y-v.y)*P-(x.x-v.x)*E,$=D*P+v.x,ut=D*E+v.y,mt=-Z*E+v.x,Mt=Z*P+v.y,Dt=ka(m,v),Rt=ka(m,{x:$,y:ut}),me=ka(m,x),W=ka(m,{x:mt,y:Mt});return[Dt,Rt,me,W]},pxRadiusToMeterRadius(l,u,f){let m=u.project(f),v=L.point(m.x+l,m.y);return u.distance(u.unproject(v),f)}},Ao=Bo;L.PM=L.PM||{version:nn.version,Map:Aa,Toolbar:ua,Draw:He,Edit:qe,Utils:Ao,Matrix:Eo,activeLang:"en",optIn:!1,initialize(l){this.addInitHooks(l)},setOptIn(l){this.optIn=!!l},addInitHooks(){function l(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}L.Map.addInitHook(l);function u(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}L.LayerGroup.addInitHook(u);function f(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}L.Marker.addInitHook(f);function m(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}L.CircleMarker.addInitHook(m);function v(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}L.Polyline.addInitHook(v);function x(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}L.Polygon.addInitHook(x);function k(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}L.Rectangle.addInitHook(k);function P(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}L.Circle.addInitHook(P);function E(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))}L.ImageOverlay.addInitHook(E)},reInitLayer(l){l instanceof L.LayerGroup&&l.eachLayer(u=>{this.reInitLayer(u)}),l.pm||L.PM.optIn&&l.options.pmIgnore!==!1||l.options.pmIgnore||(l instanceof L.Map?l.pm=new L.PM.Map(l):l instanceof L.Marker?l.options.textMarker?(l.pm=new L.PM.Edit.Text(l),l.pm._initTextMarker(),l.pm._createTextMarker(!1)):l.pm=new L.PM.Edit.Marker(l):l instanceof L.Circle?l.pm=new L.PM.Edit.Circle(l):l instanceof L.CircleMarker?l.pm=new L.PM.Edit.CircleMarker(l):l instanceof L.Rectangle?l.pm=new L.PM.Edit.Rectangle(l):l instanceof L.Polygon?l.pm=new L.PM.Edit.Polygon(l):l instanceof L.Polyline?l.pm=new L.PM.Edit.Line(l):l instanceof L.LayerGroup?l.pm=new L.PM.Edit.LayerGroup(l):l instanceof L.ImageOverlay&&(l.pm=new L.PM.Edit.ImageOverlay(l)))}},L.version==="1.7.1"&&L.Canvas.include({_onClick(l){let u=this._map.mouseEventToLayerPoint(l),f,m;for(let v=this._drawFirst;v;v=v.next)f=v.layer,f.options.interactive&&f._containsPoint(u)&&(!(l.type==="click"||l.type==="preclick")||!this._map._draggableMoved(f))&&(m=f);m&&(L.DomEvent.fakeStop(l),this._fireEvent([m],l))}}),L.PM.initialize()})();var leafletGeoman="",leaflet_geometryutil={exports:{}};(function(i){(function(t){var e;e=leafletSrc.exports,i.exports=t(e)})(function(t){return t.Polyline._flat=t.LineUtil.isFlat||t.Polyline._flat||function(e){return!t.Util.isArray(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]!="undefined"},t.GeometryUtil=t.extend(t.GeometryUtil||{},{distance:function(e,n,r){return e.latLngToLayerPoint(n).distanceTo(e.latLngToLayerPoint(r))},distanceSegment:function(e,n,r,a){var s=e.latLngToLayerPoint(n),c=e.latLngToLayerPoint(r),p=e.latLngToLayerPoint(a);return t.LineUtil.pointToSegmentDistance(s,c,p)},readableDistance:function(e,n){var r=n!=="imperial",a;return r?e>1e3?a=(e/1e3).toFixed(2)+" km":a=e.toFixed(1)+" m":(e*=1.09361,e>1760?a=(e/1760).toFixed(2)+" miles":a=e.toFixed(1)+" yd"),a},belongsSegment:function(e,n,r,a){a=a===void 0?.2:a;var s=n.distanceTo(r),c=n.distanceTo(e)+e.distanceTo(r)-s;return c/s<a},length:function(e){var n=t.GeometryUtil.accumulatedLengths(e);return n.length>0?n[n.length-1]:0},accumulatedLengths:function(e){if(typeof e.getLatLngs=="function"&&(e=e.getLatLngs()),e.length===0)return[];for(var n=0,r=[0],a=0,s=e.length-1;a<s;a++)n+=e[a].distanceTo(e[a+1]),r.push(n);return r},closestOnSegment:function(e,n,r,a){var s=e.getMaxZoom();s===1/0&&(s=e.getZoom());var c=e.project(n,s),p=e.project(r,s),g=e.project(a,s),y=t.LineUtil.closestPointOnSegment(c,p,g);return e.unproject(y,s)},closestOnCircle:function(e,n){const r=e.getLatLng(),a=e.getRadius(),s=typeof a=="number"?a:a.radius,c=n.lng,p=n.lat,g=r.lng,y=r.lat,b=c-g,C=p-y,S=Math.sqrt(b*b+C*C),A=g+b/S*s,T=y+C/S*s;return new t.LatLng(T,A)},closest:function(e,n,r,a){var s,c=1/0,p=null,g,y,b,C;if(n instanceof Array)if(n[0]instanceof Array&&typeof n[0][0]!="number"){for(g=0;g<n.length;g++)C=t.GeometryUtil.closest(e,n[g],r,a),C&&C.distance<c&&(c=C.distance,p=C);return p}else if(n[0]instanceof t.LatLng||typeof n[0][0]=="number"||typeof n[0].lat=="number")n=t.polyline(n);else return p;if(!(n instanceof t.Polyline))return p;if(s=JSON.parse(JSON.stringify(n.getLatLngs().slice(0))),n instanceof t.Polygon){var S=function(z){if(t.Polyline._flat(z))z.push(z[0]);else for(var q=0;q<z.length;q++)S(z[q])};S(s)}if(t.Polyline._flat(s)){if(a){for(g=0,y=s.length;g<y;g++){var A=s[g];b=t.GeometryUtil.distance(e,r,A),b<c&&(c=b,p=A,p.distance=b)}return p}for(g=0,y=s.length;g<y-1;g++){var T=s[g],I=s[g+1];b=t.GeometryUtil.distanceSegment(e,r,T,I),b<=c&&(c=b,p=t.GeometryUtil.closestOnSegment(e,r,T,I),p.distance=b)}return p}else{for(g=0;g<s.length;g++)C=t.GeometryUtil.closest(e,s[g],r,a),C.distance<c&&(c=C.distance,p=C);return p}},closestLayer:function(e,n,r){for(var a=1/0,s=null,c=null,p=1/0,g=0,y=n.length;g<y;g++){var b=n[g];if(b instanceof t.LayerGroup){var C=t.GeometryUtil.closestLayer(e,b.getLayers(),r);C.distance<a&&(a=C.distance,s=C)}else b instanceof t.Circle?(c=this.closestOnCircle(b,r),p=t.GeometryUtil.distance(e,r,c)):typeof b.getLatLng=="function"?(c=b.getLatLng(),p=t.GeometryUtil.distance(e,r,c)):(c=t.GeometryUtil.closest(e,b,r),c&&(p=c.distance)),p<a&&(a=p,s={layer:b,latlng:c,distance:p})}return s},nClosestLayers:function(e,n,r,a){if(a=typeof a=="number"?a:n.length,a<1||n.length<1)return null;for(var s=[],c,p,g=0,y=n.length;g<y;g++){var b=n[g];if(b instanceof t.LayerGroup){var C=t.GeometryUtil.closestLayer(e,b.getLayers(),r);s.push(C)}else b instanceof t.Circle?(p=this.closestOnCircle(b,r),c=t.GeometryUtil.distance(e,r,p)):typeof b.getLatLng=="function"?(p=b.getLatLng(),c=t.GeometryUtil.distance(e,r,p)):(p=t.GeometryUtil.closest(e,b,r),p&&(c=p.distance)),s.push({layer:b,latlng:p,distance:c})}return s.sort(function(S,A){return S.distance-A.distance}),s.length>a?s.slice(0,a):s},layersWithin:function(e,n,r,a){a=typeof a=="number"?a:1/0;for(var s=[],c=null,p=0,g=0,y=n.length;g<y;g++){var b=n[g];typeof b.getLatLng=="function"?(c=b.getLatLng(),p=t.GeometryUtil.distance(e,r,c)):(c=t.GeometryUtil.closest(e,b,r),c&&(p=c.distance)),c&&p<a&&s.push({layer:b,latlng:c,distance:p})}var C=s.sort(function(S,A){return S.distance-A.distance});return C},closestLayerSnap:function(e,n,r,a,s){a=typeof a=="number"?a:1/0,s=typeof s=="boolean"?s:!0;var c=t.GeometryUtil.closestLayer(e,n,r);if(!c||c.distance>a)return null;if(s&&typeof c.layer.getLatLngs=="function"){var p=t.GeometryUtil.closest(e,c.layer,c.latlng,!0);p.distance<a&&(c.latlng=p,c.distance=t.GeometryUtil.distance(e,p,r))}return c},interpolateOnPointSegment:function(e,n,r){return t.point(e.x*(1-r)+r*n.x,e.y*(1-r)+r*n.y)},interpolateOnLine:function(e,n,r){n=n instanceof t.Polyline?n.getLatLngs():n;var a=n.length;if(a<2)return null;if(r=Math.max(Math.min(r,1),0),r===0)return{latLng:n[0]instanceof t.LatLng?n[0]:t.latLng(n[0]),predecessor:-1};if(r==1)return{latLng:n[n.length-1]instanceof t.LatLng?n[n.length-1]:t.latLng(n[n.length-1]),predecessor:n.length-2};var s=e.getMaxZoom();s===1/0&&(s=e.getZoom());for(var c=[],p=0,g=0;g<a;g++)c[g]=e.project(n[g],s),g>0&&(p+=c[g-1].distanceTo(c[g]));for(var y=p*r,b=0,C=0,g=0;C<y;g++){var S=c[g],A=c[g+1];b=C,C+=S.distanceTo(A)}if(S==null&&A==null)var S=c[0],A=c[1],g=1;var T=C-b!==0?(y-b)/(C-b):0,I=t.GeometryUtil.interpolateOnPointSegment(S,A,T);return{latLng:e.unproject(I,s),predecessor:g-1}},locateOnLine:function(e,n,r){var a=n.getLatLngs();if(r.equals(a[0]))return 0;if(r.equals(a[a.length-1]))return 1;for(var s=t.GeometryUtil.closest(e,n,r,!1),c=t.GeometryUtil.accumulatedLengths(a),p=c[c.length-1],g=0,y=!1,b=0,C=a.length-1;b<C;b++){var S=a[b],A=a[b+1];if(g=c[b],t.GeometryUtil.belongsSegment(s,S,A,.001)){g+=S.distanceTo(s),y=!0;break}}if(!y)throw"Could not interpolate "+r.toString()+" within "+n.toString();return g/p},reverse:function(e){return t.polyline(e.getLatLngs().slice(0).reverse())},extract:function(e,n,r,a){if(r>a)return t.GeometryUtil.extract(e,t.GeometryUtil.reverse(n),1-r,1-a);r=Math.max(Math.min(r,1),0),a=Math.max(Math.min(a,1),0);var s=n.getLatLngs(),c=t.GeometryUtil.interpolateOnLine(e,n,r),p=t.GeometryUtil.interpolateOnLine(e,n,a);if(r==a){var g=t.GeometryUtil.interpolateOnLine(e,n,a);return[g.latLng]}c.predecessor==-1&&(c.predecessor=0),p.predecessor==-1&&(p.predecessor=0);var y=s.slice(c.predecessor+1,p.predecessor+1);return y.unshift(c.latLng),y.push(p.latLng),y},isBefore:function(e,n){if(!n)return!1;var r=e.getLatLngs(),a=n.getLatLngs();return r[r.length-1].equals(a[0])},isAfter:function(e,n){if(!n)return!1;var r=e.getLatLngs(),a=n.getLatLngs();return r[0].equals(a[a.length-1])},startsAtExtremity:function(e,n){if(!n)return!1;var r=e.getLatLngs(),a=n.getLatLngs(),s=r[0];return s.equals(a[0])||s.equals(a[a.length-1])},computeAngle:function(e,n){return Math.atan2(n.y-e.y,n.x-e.x)*180/Math.PI},computeSlope:function(e,n){var r=(n.y-e.y)/(n.x-e.x),a=e.y-r*e.x;return{a:r,b:a}},rotatePoint:function(e,n,r,a){var s=e.getMaxZoom();s===1/0&&(s=e.getZoom());var c=r*Math.PI/180,p=e.project(n,s),g=e.project(a,s),y=Math.cos(c)*(p.x-g.x)-Math.sin(c)*(p.y-g.y)+g.x,b=Math.sin(c)*(p.x-g.x)+Math.cos(c)*(p.y-g.y)+g.y;return e.unproject(new t.Point(y,b),s)},bearing:function(e,n){var r=Math.PI/180,a=e.lat*r,s=n.lat*r,c=e.lng*r,p=n.lng*r,g=Math.sin(p-c)*Math.cos(s),y=Math.cos(a)*Math.sin(s)-Math.sin(a)*Math.cos(s)*Math.cos(p-c),b=(Math.atan2(g,y)*180/Math.PI+360)%360;return b>=180?b-360:b},destination:function(e,n,r){n=(n+360)%360;var a=Math.PI/180,s=180/Math.PI,c=t.CRS.Earth.R,p=e.lng*a,g=e.lat*a,y=n*a,b=Math.sin(g),C=Math.cos(g),S=Math.cos(r/c),A=Math.sin(r/c),T=Math.asin(b*S+C*A*Math.cos(y)),I=p+Math.atan2(Math.sin(y)*A*C,S-b*Math.sin(T));return I=I*s,I=I>180?I-360:I<-180?I+360:I,t.latLng([T*s,I])},angle:function(e,n,r){var a=e.latLngToContainerPoint(n),s=e.latLngToContainerPoint(r),c=Math.atan2(s.y-a.y,s.x-a.x)*180/Math.PI+90;return c+=c<0?360:0,c},destinationOnSegment:function(e,n,r,a){var s=t.GeometryUtil.angle(e,n,r),c=t.GeometryUtil.destination(n,s,a);return t.GeometryUtil.closestOnSegment(e,c,n,r)}}),t.GeometryUtil})})(leaflet_geometryutil);/*!
 * 
 *  leaflet.browser.print - v2.0.2 (https://github.com/Igor-Vladyka/leaflet.browser.print) 
 *  A leaflet plugin which allows users to print the map directly from the browser
 *  
 *  MIT (http://www.opensource.org/licenses/mit-license.php)
 *  (c) 2022  Igor Vladyka <igor.vladyka@gmail.com> (https://github.com/Igor-Vladyka/)
 * 
 */(function(i){var t={};function e(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return i[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=i,e.c=t,e.d=function(n,r,a){e.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:a})},e.r=function(n){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,r){if(r&1&&(n=e(n)),r&8||r&4&&typeof n=="object"&&n&&n.__esModule)return n;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:n}),r&2&&typeof n!="string")for(var s in n)e.d(a,s,function(c){return n[c]}.bind(null,s));return a},e.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(r,"a",r),r},e.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},e.p="",e(e.s=0)})({"./src/leaflet.browser.print.control.js":function(module,exports){eval(`/**\r
	MIT License http://www.opensource.org/licenses/mit-license.php\r
	Author Igor Vladyka <igor.vladyka@gmail.com> (https://github.com/Igor-Vladyka/leaflet.browser.print)\r
**/\r
\r
L.Control.BrowserPrint = L.Control.extend({\r
	options: {\r
		title: 'Print map',\r
		position: 'topleft',\r
		printModes: ["Portrait", "Landscape", "Auto", "Custom"],\r
	},\r
	browserPrint: undefined,\r
	initialize: function(options,browserPrint){\r
		L.setOptions(this,options);\r
		if(browserPrint) {\r
			this.browserPrint = browserPrint;\r
			L.setOptions(this.browserPrint, options);\r
		}\r
	},\r
	onAdd: function (map) {\r
		if(!this.browserPrint){\r
			this.browserPrint = new L.BrowserPrint(map,this.options);\r
		}\r
\r
		var container = L.DomUtil.create('div', 'leaflet-control-browser-print leaflet-bar leaflet-control');\r
		L.DomEvent.disableClickPropagation(container);\r
\r
\r
		if (this.options.printModes.length > 1) {\r
			L.DomEvent.on(container, 'mouseover', this._displayPageSizeButtons, this);\r
			L.DomEvent.on(container, 'mouseout', this._hidePageSizeButtons, this);\r
		} else {\r
			container.style.cursor = "pointer";\r
		}\r
\r
		if (this.options.position.indexOf("left") > 0) {\r
			this._createIcon(container);\r
			this._createMenu(container);\r
		} else {\r
			this._createMenu(container);\r
			this._createIcon(container);\r
		}\r
\r
		map.printControl = this; // Make control available from the map object itself;\r
		return container;\r
	},\r
	\r
	cancel: function () {\r
		this.browserPrint.cancel();\r
	},\r
\r
	_createIcon: function (container) {\r
		this.__link__ = L.DomUtil.create('a', '', container);\r
		this.__link__.className = "leaflet-browser-print";\r
		if (this.options.title) {\r
			this.__link__.title = this.options.title;\r
		}\r
		return this.__link__;\r
	},\r
\r
	_createMenu: function (container) {\r
		var domPrintModes = [];\r
\r
		for (var i = 0; i < this.options.printModes.length; i++) {\r
			var mode = this.options.printModes[i];\r
\r
			/*\r
				Mode:\r
					Mode: Portrait/Landscape/Auto/Custom\r
					Title: 'Portrait'/'Landscape'/'Auto'/'Custom'\r
					PageSize: 'A3'/'A4'\r
					Action: '_printPortrait'/...\r
					InvalidateBounds: true/false\r
			*/\r
			if (mode.length) {\r
				var key = mode[0].toUpperCase() + mode.substring(1).toLowerCase();\r
\r
				mode = L.BrowserPrint.Mode[mode]('A4',this._getDefaultTitle(key));\r
\r
			} else if (mode instanceof L.BrowserPrint.Mode) {\r
				// Looks like everythin is fine.\r
			} else {\r
				throw "Invalid Print Mode. Can't construct logic to print current map."\r
			}\r
\r
			var clickContainer = container;\r
			if (this.options.printModes.length === 1) {\r
				mode.Element = container;\r
			} else {\r
				clickContainer = L.DomUtil.create('ul', 'browser-print-holder', container);\r
				mode.Element = L.DomUtil.create('li', 'browser-print-mode', clickContainer);\r
				mode.Element.innerHTML = mode.options.title;\r
			}\r
\r
			L.DomEvent.on(clickContainer, 'click', mode.options.action(this.browserPrint, mode), this.browserPrint);\r
\r
			domPrintModes.push(mode);\r
		}\r
\r
		this.options.printModes = domPrintModes;\r
	},\r
\r
	_getDefaultTitle: function(key) {\r
		return this.options.printModesNames && this.options.printModesNames[key] || key;\r
	},\r
\r
    _displayPageSizeButtons: function() {\r
		if (this.options.position.indexOf("left") > 0) {\r
	        this.__link__.style.borderTopRightRadius = "0px";\r
	    	this.__link__.style.borderBottomRightRadius = "0px";\r
		} else {\r
			this.__link__.style.borderTopLeftRadius = "0px";\r
	    	this.__link__.style.borderBottomLeftRadius = "0px";\r
		}\r
\r
		this.options.printModes.forEach(function(mode){\r
			mode.Element.style.display = "inline-block";\r
		});\r
    },\r
\r
    _hidePageSizeButtons: function () {\r
		if (this.options.position.indexOf("left") > 0) {\r
	    	this.__link__.style.borderTopRightRadius = "";\r
	    	this.__link__.style.borderBottomRightRadius = "";\r
		} else {\r
	    	this.__link__.style.borderTopLeftRadius = "";\r
	    	this.__link__.style.borderBottomLeftRadius = "";\r
		}\r
\r
		this.options.printModes.forEach(function(mode){\r
			mode.Element.style.display = "";\r
		});\r
    },\r
});\r
\r
\r
L.control.browserPrint = function(options, browserPrint) {\r
	if (!options || !options.printModes) {\r
		options = options || {};\r
		options.printModes = [\r
			L.BrowserPrint.Mode.Portrait(),\r
			L.BrowserPrint.Mode.Landscape(),\r
			L.BrowserPrint.Mode.Auto(),\r
			L.BrowserPrint.Mode.Custom()\r
		]\r
	}\r
\r
	if (options && options.printModes && (!options.printModes.filter || !options.printModes.length)) {\r
		throw "Please specify valid print modes for Print action. Example: printModes: [L.BrowserPrint.Mode.Portrait(), L.control.BrowserPrint.Mode.Auto('Automatic'), 'Custom']";\r
	}\r
\r
	return new L.Control.BrowserPrint(options,browserPrint);\r
};\r


//# sourceURL=webpack:///./src/leaflet.browser.print.control.js?`)},"./src/leaflet.browser.print.helpers.js":function(module,exports){eval(`/**\r
	MIT License http://www.opensource.org/licenses/mit-license.php\r
	Author Igor Vladyka <igor.vladyka@gmail.com> (https://github.com/Igor-Vladyka/leaflet.browser.print)\r
**/\r
\r
L.BrowserPrint.Helper = {\r
	getPageMargin: function (mode,type) {\r
		var margin = mode.options.margin;\r
		var size = this.getPaperSize(mode);\r
		var marginInMm = ((size.Width + size.Height) / 39.9);\r
		if (!type && type !== 0) {\r
			type = "";\r
		}\r
\r
		if (margin >= 0) {\r
			margin = {\r
				top: margin,\r
				right: margin,\r
				bottom: margin,\r
				left: margin\r
			}\r
		} else if (!margin) {\r
			margin = {};\r
		}\r
\r
		var faktor = 1;\r
		if (type === "in") {\r
			faktor = 25.4;\r
		}\r
\r
		var topMargin = margin.top >= 0 ? margin.top : marginInMm;\r
		var rightMargin = margin.right >= 0 ? margin.right : marginInMm;\r
		var bottomMargin = margin.bottom >= 0 ? margin.bottom : marginInMm;\r
		var leftMargin = margin.left >= 0 ? margin.left : marginInMm;\r
\r
\r
		var top = (topMargin / faktor).toFixed(2) + type;\r
		var right = (rightMargin / faktor).toFixed(2) + type;\r
		var bottom = (bottomMargin / faktor).toFixed(2) + type;\r
		var left = (leftMargin / faktor).toFixed(2) + type;\r
\r
		return {\r
			top,\r
			right,\r
			bottom,\r
			left\r
		};\r
	},\r
	getPaperSize: function (mode) {\r
		if (mode.options.pageSeries) {\r
			var series = L.BrowserPrint.Size[mode.options.pageSeries];\r
			var w = series.Width;\r
			var h = series.Height;\r
			var switchSides = false;\r
			if (mode.options.pageSeriesSize && mode.options.pageSeriesSize !== '0') {\r
				mode.options.pageSeriesSize = +mode.options.pageSeriesSize;\r
				switchSides = mode.options.pageSeriesSize % 2 === 1;\r
				if (switchSides) {\r
					w = w / (mode.options.pageSeriesSize - 1 || 1);\r
					h = h / (mode.options.pageSeriesSize + 1);\r
				} else {\r
					w = w / mode.options.pageSeriesSize;\r
					h = h / mode.options.pageSeriesSize;\r
				}\r
			}\r
\r
			return {\r
				Width: switchSides ? h : w,\r
				Height: switchSides ? w : h\r
			};\r
		} else {\r
			var size = L.BrowserPrint.Size[mode.options.pageSeriesSize];\r
			return {\r
				Width: size.Width,\r
				Height: size.Height\r
			};\r
		}\r
	},\r
	getSize: function (mode, orientaion = 'Portrait') {\r
		var size = this.getPaperSize(mode);\r
		var pageMargin = this.getPageMargin(mode, 0);\r
\r
		var topbottom = orientaion === 'Portrait' ? parseFloat(pageMargin.top) + parseFloat(pageMargin.bottom) : parseFloat(pageMargin.left) + parseFloat(pageMargin.right);\r
		var leftright = orientaion === 'Portrait' ? parseFloat(pageMargin.left) + parseFloat(pageMargin.right) : parseFloat(pageMargin.top) + parseFloat(pageMargin.bottom);\r
\r
		var height = Math.floor(size.Height - topbottom);\r
		var width = Math.floor(size.Width - leftright);\r
\r
		size.Width = width * (window.devicePixelRatio || 1) + 'mm';\r
		size.Height = height * (window.devicePixelRatio || 1) + 'mm';\r
\r
		return size;\r
	}\r
};\r
\r


//# sourceURL=webpack:///./src/leaflet.browser.print.helpers.js?`)},"./src/leaflet.browser.print.js":function(module,exports){eval(`/**\r
	MIT License http://www.opensource.org/licenses/mit-license.php\r
	Author Igor Vladyka <igor.vladyka@gmail.com> (https://github.com/Igor-Vladyka/leaflet.browser.print)\r
**/\r
\r
L.BrowserPrint = L.Class.extend({\r
	options: {\r
		documentTitle: '',\r
		printLayer: null,\r
		closePopupsOnPrint: true,\r
		contentSelector: "[leaflet-browser-print-content]",\r
		pagesSelector: "[leaflet-browser-print-pages]",\r
		manualMode: false,\r
		customPrintStyle: { color: "gray", dashArray: '5, 10', pane: "customPrintPane" },\r
		cancelWithEsc: true,\r
		printFunction: window.print,\r
		debug: false\r
	},\r
	initialize: function(map, options){\r
		this._map = map;\r
		L.setOptions(this,options);\r
\r
		if (this.options.customPrintStyle.pane && !map.getPane(this.options.customPrintStyle.pane)) {\r
			map.createPane(this.options.customPrintStyle.pane).style.zIndex = 9999;\r
		}\r
\r
		if(!document.getElementById('browser-print-css')) {\r
			this._appendControlStyles(document.head);\r
		}\r
	},\r
	cancel: function(){\r
		this._printCancel();\r
	},\r
	print: function(pageMode) {\r
		pageMode.options.action(this, pageMode)(pageMode);\r
	},\r
\r
	_getMode: function(expectedOrientation, mode) {\r
		return new L.BrowserPrint.Mode(expectedOrientation, mode.options);\r
	},\r
\r
	_printLandscape: function (mode) {\r
		this._addPrintClassToContainer(this._map, "leaflet-browser-print--landscape");\r
		this._print(mode);\r
	},\r
\r
	_printPortrait: function (mode) {\r
		this._addPrintClassToContainer(this._map, "leaflet-browser-print--portrait");\r
		this._print(mode);\r
	},\r
\r
	_printAuto: function (mode) {\r
		this._addPrintClassToContainer(this._map, "leaflet-browser-print--auto");\r
\r
		var autoBounds = this._getBoundsForAllVisualLayers();\r
		var orientation;\r
		if(mode.options.orientation === "Portrait" || mode.options.orientation === "Landscape" ){\r
			orientation = mode.options.orientation;\r
		}else {\r
			orientation = this._getPageSizeFromBounds(autoBounds);\r
		}\r
		this._print(this._getMode(orientation, mode), autoBounds);\r
	},\r
\r
	_printCustom: function (mode, options) {\r
		this._addPrintClassToContainer(this._map, "leaflet-browser-print--custom");\r
		this.options.custom = { mode: mode, options: options};\r
		this._map.on('mousedown', this._startAutoPolygon, this);\r
	},\r
\r
	_addPrintClassToContainer: function (map, printClassName) {\r
		var container = map.getContainer();\r
\r
		if (container.className.indexOf(printClassName) === -1) {\r
			container.className += " " + printClassName;\r
		}\r
	},\r
\r
	_removePrintClassFromContainer: function (map, printClassName) {\r
		var container = map.getContainer();\r
\r
		if (container.className && container.className.indexOf(printClassName) > -1) {\r
			container.className = container.className.replace(" " + printClassName, "");\r
		}\r
	},\r
\r
	_startAutoPolygon: function (e) {\r
		L.DomEvent.stop(e);\r
\r
		this._map.dragging.disable();\r
\r
		this.options.custom.start = e.latlng;\r
\r
		this._map.getPane(this.options.customPrintStyle.pane).style.display = "initial";\r
\r
		this._map.off('mousedown', this._startAutoPolygon, this);\r
		this._map.on('mousemove', this._moveAutoPolygon, this);\r
		this._map.on('mouseup', this._endAutoPolygon, this);\r
	},\r
\r
	_moveAutoPolygon: function (e) {\r
		if (this.options.custom) {\r
			L.DomEvent.stop(e);\r
			if (this.options.custom.rectangle) {\r
				this.options.custom.rectangle.setBounds(L.latLngBounds(this.options.custom.start, e.latlng));\r
			} else {\r
				this.options.custom.rectangle = L.rectangle([this.options.custom.start, e.latlng], this.options.customPrintStyle);\r
			}\r
			this.options.custom.rectangle.addTo(this._map);\r
		}\r
	},\r
\r
	_endAutoPolygon: function (e) {\r
		L.DomEvent.stop(e);\r
		this._removeAutoPolygon();\r
\r
		if (this.options.custom && this.options.custom.rectangle) {\r
			var autoBounds = this.options.custom.rectangle.getBounds();\r
\r
			this._map.removeLayer(this.options.custom.rectangle);\r
\r
			var orientation;\r
			if(this.options.custom.mode.options.orientation === "Portrait" || this.options.custom.mode.options.orientation === "Landscape" ){\r
				orientation = this.options.custom.mode.options.orientation;\r
			}else {\r
				orientation = this._getPageSizeFromBounds(autoBounds);\r
			}\r
			this._print(this._getMode(orientation, this.options.custom.mode), autoBounds);\r
\r
			delete this.options.custom;\r
		} else {\r
			this._clearPrint();\r
		}\r
	},\r
	_removeAutoPolygon: function(){\r
\r
		this._map.off('mousedown', this._startAutoPolygon, this);\r
		this._map.off('mousemove', this._moveAutoPolygon, this);\r
		this._map.off('mouseup', this._endAutoPolygon, this);\r
\r
		this._map.dragging.enable();\r
\r
		// we hide the pane because it destorys sometimes interactions with layers if printing is finished\r
		this._map.getPane(this.options.customPrintStyle.pane).style.display = "none";\r
	},\r
\r
	_getPageSizeFromBounds: function(bounds) {\r
		var height = Math.abs(bounds.getNorth() - bounds.getSouth());\r
		var width = Math.abs(bounds.getEast() - bounds.getWest());\r
		if (height > width) {\r
			return "Portrait";\r
		} else {\r
			return "Landscape";\r
		}\r
	},\r
\r
	_setupPrintPagesWidth: function(pagesContainer, size, pageOrientation) {\r
		pagesContainer.style.width = pageOrientation === "Landscape" ? size.Height : size.Width;\r
	},\r
\r
	_setupPrintMapHeight: function(mapContainer, size, pageOrientation, options) {\r
		var header = options.header && options.header.enabled && options.header.size && !options.header.overTheMap ? options.header.size+" - 1mm" : "0mm";\r
		var footer = options.footer && options.footer.enabled && options.footer.size && !options.footer.overTheMap ? options.footer.size+" - 1mm" : "0mm";\r
\r
		mapContainer.style.height =  "calc("+(pageOrientation === "Landscape" ? size.Width : size.Height) + " - "+header+" - " +footer+ ")";\r
	},\r
\r
	_printCancel: function() {\r
		clearInterval(self.printInterval);\r
		L.DomEvent.off(document,'keyup',this._keyUpCancel,this);\r
		var activeMode = this.activeMode;\r
		delete this.options.custom;\r
		this._removeAutoPolygon();\r
		this.activeMode = null;\r
		delete this.cancelNextPrinting;\r
		this._map.fire(L.BrowserPrint.Event.PrintCancel, { mode: activeMode });\r
		this._printEnd();\r
	},\r
\r
	_keyUpCancel: function(e){\r
		if(e.which === 27){ //ESC\r
			this.cancel();\r
		}\r
	},\r
\r
	_printMode: function(mode){\r
		if(this._map.isPrinting){\r
			console.error("printing is already active");\r
			return;\r
		}\r
		this._map.isPrinting = true;\r
		this.cancelNextPrinting = false;\r
		this.activeMode = mode;\r
		this['_print' + mode.mode](mode);\r
	},\r
\r
	_print: function (printMode, autoBounds) {\r
		this._map.fire(L.BrowserPrint.Event.PrintInit, { mode: printMode });\r
		if(this.options.cancelWithEsc) {\r
			L.DomEvent.on(document, 'keyup', this._keyUpCancel, this);\r
		}\r
		L.BrowserPrint.Utils.initialize();\r
\r
		var self = this;\r
		var mapContainer = this._map.getContainer();\r
		var options = printMode.options;\r
		var pageOrientation = options.orientation;\r
\r
		var origins = {\r
			bounds: autoBounds || this._map.getBounds(),\r
			width: mapContainer.style.width,\r
			height: mapContainer.style.height,\r
			documentTitle: document.title,\r
			printLayer: L.BrowserPrint.Utils.cloneLayer(this.options.printLayer),\r
			panes: []\r
		};\r
\r
		var mapPanes = this._map.getPanes();\r
		for (var pane in mapPanes) {\r
			origins.panes.push({name: pane, container: undefined});\r
		}\r
\r
		origins.printObjects = this._getPrintObjects(origins.printLayer);\r
\r
		this._map.fire(L.BrowserPrint.Event.PrePrint, { printLayer: origins.printLayer, printObjects: origins.printObjects, pageOrientation, printMode: options.mode, pageBounds: origins.bounds});\r
\r
		if (this.cancelNextPrinting) {\r
			this._printCancel();\r
			return;\r
		}\r
\r
		var overlay = this._addPrintMapOverlay(printMode, pageOrientation, origins);\r
\r
		if (this.options.documentTitle) {\r
			document.title = this.options.documentTitle;\r
		}\r
\r
		this._map.fire(L.BrowserPrint.Event.PrintStart, { printLayer: origins.printLayer, printMap: overlay.map, printObjects: overlay.objects });\r
\r
		if (options.invalidateBounds) {\r
			overlay.map.fitBounds(origins.bounds, overlay.map.options);\r
			overlay.map.invalidateSize({reset: true, animate: false, pan: false});\r
		} else {\r
			overlay.map.setView(this._map.getCenter(), this._map.getZoom());\r
		}\r
\r
		if(options.zoom){\r
			overlay.map.setZoom(options.zoom);\r
		}else if(!options.enableZoom){\r
			overlay.map.setZoom(this._map.getZoom());\r
		}\r
\r
		if(!this.options.debug) {\r
			this.printInterval = setInterval(function () {\r
				if (self.cancelNextPrinting || !self._map.isPrinting) {\r
					clearInterval(self.printInterval);\r
				} else if (self._map.isPrinting && !self._isTilesLoading(overlay.map)) {\r
					clearInterval(self.printInterval);\r
					if (self.options.manualMode) {\r
						self._setupManualPrintButton(overlay.map, origins, overlay.objects);\r
					} else {\r
						self._completePrinting(overlay.map, origins, overlay.objects);\r
					}\r
				}\r
			}, 50);\r
		}\r
	},\r
\r
	_completePrinting: function (overlayMap, origins, printObjects) {\r
		var self = this;\r
		setTimeout(function(){\r
			if(!self._map.isPrinting){\r
				return;\r
			}\r
			self._map.fire(L.BrowserPrint.Event.Print, { printLayer: origins.printLayer, printMap: overlayMap, printObjects: printObjects });\r
			var printFunction = self.options.printFunction || window.print;\r
			var printPromise = printFunction();\r
			if (printPromise) {\r
				Promise.all([printPromise]).then(function(){\r
					self._printEnd(overlayMap, origins);\r
					self._map.fire(L.BrowserPrint.Event.PrintEnd, { printLayer: origins.printLayer, printMap: overlayMap, printObjects: printObjects });\r
				})\r
			} else {\r
				self._printEnd(overlayMap, origins);\r
				self._map.fire(L.BrowserPrint.Event.PrintEnd, { printLayer: origins.printLayer, printMap: overlayMap, printObjects: printObjects });\r
			}\r
		}, 1000);\r
	},\r
\r
	_getBoundsForAllVisualLayers: function () {\r
		var fitBounds = null;\r
\r
		// Getting all layers without URL -> not tiles.\r
		for (var layerId in this._map._layers){\r
			var layer = this._map._layers[layerId];\r
			if (!layer._url && !layer._mutant) {\r
				if (fitBounds) {\r
					if (layer.getBounds) {\r
						fitBounds.extend(layer.getBounds());\r
					} else if(layer.getLatLng){\r
						fitBounds.extend(layer.getLatLng());\r
					}\r
				} else {\r
					if (layer.getBounds) {\r
						fitBounds = layer.getBounds();\r
					} else if(layer.getLatLng){\r
						fitBounds = L.latLngBounds(layer.getLatLng(), layer.getLatLng());\r
					}\r
				}\r
			}\r
		}\r
\r
		if (!fitBounds || !fitBounds._southWest) {\r
			fitBounds = this._map.getBounds();\r
		}\r
\r
		return fitBounds;\r
	},\r
\r
	_clearPrint: function () {\r
		this._removePrintClassFromContainer(this._map, "leaflet-browser-print--landscape");\r
		this._removePrintClassFromContainer(this._map, "leaflet-browser-print--portrait");\r
		this._removePrintClassFromContainer(this._map, "leaflet-browser-print--auto");\r
		this._removePrintClassFromContainer(this._map, "leaflet-browser-print--custom");\r
	},\r
\r
	_printEnd: function (overlayMap, origins) {\r
		this._clearPrint();\r
\r
		if (overlayMap) {\r
			overlayMap.remove();\r
			overlayMap = null;\r
		}\r
\r
		if (this.__overlay__) {\r
			document.body.removeChild(this.__overlay__);\r
			this.__overlay__ = null;\r
		}\r
\r
		document.body.className = document.body.className.replace(" leaflet--printing", "");\r
		if (this.options.documentTitle) {\r
			document.title = origins.documentTitle;\r
		}\r
\r
		this._map.invalidateSize({reset: true, animate: false, pan: false});\r
		this._map.isPrinting = false;\r
	},\r
\r
	_getPrintObjects: function(printLayer) {\r
		var printObjects = {};\r
		for (var id in this._map._layers){\r
			var layer = this._map._layers[id];\r
			if (!printLayer || !layer._url || layer instanceof L.TileLayer.WMS) {\r
				var type = L.BrowserPrint.Utils.getType(layer);\r
				if (type) {\r
					if (!printObjects[type]) {\r
						printObjects[type] = [];\r
					}\r
					printObjects[type].push(layer);\r
				}\r
			}\r
		}\r
\r
		return printObjects;\r
	},\r
\r
	_addPrintCss: function (pageSize, pageMargin, pageOrientation) {\r
\r
		var printStyleSheet = document.createElement('style');\r
		printStyleSheet.className = "leaflet-browser-print-css";\r
		printStyleSheet.setAttribute('type', 'text/css');\r
		printStyleSheet.innerHTML = ' @media print { .leaflet-popup-content-wrapper, .leaflet-popup-tip { box-shadow: none; }';\r
		printStyleSheet.innerHTML += ' .leaflet-browser-print--manualMode-button { display: none; }';\r
		printStyleSheet.innerHTML += ' * { -webkit-print-color-adjust: exact!important; printer-colors: exact!important; color-adjust: exact!important; }';\r
\r
		if (pageMargin) {\r
			var margin = pageMargin.top+" "+pageMargin.right+" "+pageMargin.bottom+" "+pageMargin.left;\r
			printStyleSheet.innerHTML += ' @page { margin: ' + margin + '; }';\r
		}\r
		printStyleSheet.innerHTML += ' @page :first { page-break-after: always; }';\r
\r
		switch (pageOrientation) {\r
			case "Landscape":\r
				printStyleSheet.innerText += " @page { size : " + pageSize + " landscape; }";\r
				break;\r
			default:\r
			case "Portrait":\r
				printStyleSheet.innerText += " @page { size : " + pageSize + " portrait; }";\r
				break;\r
		}\r
\r
		return printStyleSheet;\r
	},\r
\r
	_addPrintMapOverlay: function (printMode, pageOrientation, origins) {\r
		this.__overlay__ = document.createElement("div");\r
		this.__overlay__.className = this._map.getContainer().className + " leaflet-print-overlay";\r
		document.body.appendChild(this.__overlay__);\r
\r
		if(this.options.debug){\r
			var cancelBtn = L.DomUtil.create("button","",this.__overlay__);\r
			cancelBtn.innerHTML = "Cancel";\r
			L.DomEvent.on(cancelBtn,"click",()=>{this.cancel()});\r
		}\r
\r
		var options = printMode.options;\r
\r
		var pageSize = options.pageSize;\r
		var pageMargin = L.BrowserPrint.Helper.getPageMargin(printMode,"mm");\r
		var printSize = L.BrowserPrint.Helper.getSize(printMode,pageOrientation);\r
		var rotate = options.rotate;\r
		var scale = options.scale;\r
\r
		this.__overlay__.appendChild(this._addPrintCss(pageSize, pageMargin, pageOrientation));\r
\r
		if(options.header && options.header.enabled) {\r
			var headerContainer = document.createElement("div");\r
			headerContainer.id = "print-header";\r
			if(options.header.overTheMap){\r
				headerContainer.className = "over-the-map";\r
			}\r
			headerContainer.style.height = options.header.size;\r
			headerContainer.style.lineHeight = options.header.size;\r
			var header = document.createElement("span");\r
			header.innerHTML = options.header.text;\r
			headerContainer.appendChild(header);\r
			this._setupPrintPagesWidth(headerContainer, printSize, pageOrientation);\r
			this.__overlay__.appendChild(headerContainer);\r
		}\r
\r
		var gridContainer = document.createElement("div");\r
		gridContainer.className = "grid-print-container";\r
		gridContainer.style.width = "100%";\r
		gridContainer.style.display = "grid";\r
		this._setupPrintMapHeight(gridContainer, printSize, pageOrientation, options);\r
\r
		if (this.options.contentSelector) {\r
			var content = document.querySelectorAll(this.options.contentSelector);\r
			if (content && content.length) {\r
				for (var i = 0; i < content.length; i++) {\r
					var printContentItem = content[i].cloneNode(true);\r
					gridContainer.appendChild(printContentItem);\r
				}\r
			}\r
		}\r
\r
		var isMultipage = this.options.pagesSelector && document.querySelectorAll(this.options.pagesSelector).length;\r
		if (isMultipage) {\r
			var pagesContainer = document.createElement("div");\r
			pagesContainer.className = "pages-print-container";\r
			pagesContainer.style.margin = "0!important";\r
			this._setupPrintPagesWidth(pagesContainer, printSize, pageOrientation);\r
\r
			this.__overlay__.appendChild(pagesContainer);\r
			pagesContainer.appendChild(gridContainer);\r
\r
			var pages = document.querySelectorAll(this.options.pagesSelector);\r
			if (pages && pages.length) {\r
				for (var i = 0; i < pages.length; i++) {\r
					var printPageItem = pages[i].cloneNode(true);\r
					pagesContainer.appendChild(printPageItem);\r
				}\r
			}\r
		} else {\r
			this._setupPrintPagesWidth(gridContainer, printSize, pageOrientation);\r
			this.__overlay__.appendChild(gridContainer);\r
		}\r
\r
		var overlayMapDom = document.createElement("div");\r
		overlayMapDom.id = this._map.getContainer().id + "-print";\r
		overlayMapDom.className = "grid-map-print";\r
		overlayMapDom.style.width = "100%";\r
		overlayMapDom.style.height = "100%";\r
\r
		if(scale && scale !== 1){\r
			overlayMapDom.style.transform += " scale("+scale+")";\r
		}\r
		if(rotate){\r
			overlayMapDom.style.transform += " rotate("+(90*rotate)+"deg)";\r
		}\r
\r
		gridContainer.appendChild(overlayMapDom);\r
\r
		if(options.footer && options.footer.enabled) {\r
			var footerContainer = document.createElement("div");\r
			footerContainer.id = "print-footer";\r
			if(options.footer.overTheMap){\r
				footerContainer.className = "over-the-map";\r
				footerContainer.style.bottom = "0";\r
			}\r
			footerContainer.style.height = options.footer.size;\r
			footerContainer.style.lineHeight = options.footer.size;\r
			var footer = document.createElement("span");\r
			footer.innerHTML = options.footer.text;\r
			footerContainer.appendChild(footer);\r
			this._setupPrintPagesWidth(footerContainer, printSize, pageOrientation);\r
			this.__overlay__.appendChild(footerContainer);\r
		}\r
\r
		document.body.className += " leaflet--printing";\r
\r
		return this._setupPrintMap(overlayMapDom.id, this._combineBasicOptions(origins.printLayer), origins.printLayer, origins.printObjects, origins.panes);\r
	},\r
\r
	_combineBasicOptions: function (printLayer) {\r
		var options = L.BrowserPrint.Utils.cloneBasicOptionsWithoutLayers(this._map.options);\r
\r
		if (printLayer) {\r
			options.maxZoom = printLayer.options.maxZoom;\r
		} else {\r
			options.maxZoom = this._map.getMaxZoom();\r
		}\r
\r
		options.zoomControl = false;\r
		options.dragging = false;\r
		options.zoomAnimation = false;\r
		options.fadeAnimation = false;\r
		options.markerZoomAnimation = false;\r
		options.keyboard = false;\r
		options.scrollWheelZoom = false;\r
		options.tap = false;\r
		options.touchZoom = false;\r
\r
		return options;\r
	},\r
\r
	_setupPrintMap: function (id, options, printLayer, printObjects, panes) {\r
		var overlayMap = L.map(id, options);\r
\r
		if (printLayer) {\r
			printLayer.addTo(overlayMap);\r
		}\r
\r
		panes.forEach(function(p) { overlayMap.createPane(p.name, p.container); });\r
		var clones = {};\r
		var popupsToOpen = [];\r
		for (var type in printObjects){\r
			var closePopupsOnPrint = this.options.closePopupsOnPrint;\r
			printObjects[type] = printObjects[type].map(function(pLayer){\r
				var clone = L.BrowserPrint.Utils.cloneLayer(pLayer);\r
\r
				if (clone) {\r
					/* Workaround for apropriate handling of popups. */\r
					if (pLayer instanceof L.Popup){\r
						if(!pLayer.isOpen) {\r
							pLayer.isOpen = function () { return this._isOpen; };\r
						}\r
						if (pLayer.isOpen() && !closePopupsOnPrint) {\r
							popupsToOpen.push({source: pLayer._source, popup: clone});\r
						}\r
					} else {\r
						clone.addTo(overlayMap);\r
					}\r
\r
					clones[pLayer._leaflet_id] = clone;\r
\r
					if (pLayer instanceof L.Layer) {\r
						var tooltip = pLayer.getTooltip();\r
						if (tooltip) {\r
							clone.bindTooltip(tooltip.getContent(), tooltip.options);\r
							if (pLayer.isTooltipOpen()) {\r
								clone.openTooltip(tooltip.getLatLng());\r
							}\r
						}\r
					}\r
\r
					return clone;\r
				}\r
			});\r
		}\r
\r
		for (var p = 0; p < popupsToOpen.length; p++) {\r
			var popupModel = popupsToOpen[p];\r
			if (popupModel.source) {\r
				var element = clones[popupModel.source._leaflet_id];\r
				if (element && element.bindPopup && element.openPopup) {\r
					clones[popupModel.source._leaflet_id].bindPopup(popupModel.popup).openPopup(popupModel.popup.getLatLng());\r
				}\r
			}\r
		}\r
\r
		return {map: overlayMap, objects: printObjects};\r
	},\r
\r
	// Get all layers that is tile layers and is still loading;\r
	_isTilesLoading: function(overlayMap){\r
		var isLoading = false;\r
		var mapMajorVersion = parseFloat(L.version);\r
		if (mapMajorVersion > 1) {\r
			isLoading = this._getLoadingLayers(overlayMap);\r
		} else {\r
			isLoading = overlayMap._tilesToLoad || overlayMap._tileLayersToLoad;\r
		}\r
\r
		return isLoading;\r
	},\r
\r
	_getLoadingLayers: function(map) {\r
		for (var l in map._layers) {\r
			var layer = map._layers[l];\r
			if ((layer._url || layer._mutant) && layer._loading) {\r
				return true;\r
			}\r
		}\r
\r
		return false;\r
	},\r
\r
	_appendControlStyles:  function (container) {\r
		var printControlStyleSheet = document.createElement('style');\r
		printControlStyleSheet.setAttribute('type', 'text/css');\r
		printControlStyleSheet.id = "browser-print-css";\r
		printControlStyleSheet.innerHTML += " .leaflet-control-browser-print { display: flex; } .leaflet-control-browser-print a { background: #fff url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3gcCCi8Vjp+aNAAAAGhJREFUOMvFksENgDAMA68RC7BBN+Cf/ZU33QAmYAT6BolAGxB+RrrIsg1BpfNBVXcPMLMDI/ytpKozMHWwK7BJJ7yYWQbGdBea9wTIkRDzKy0MT7r2NiJACRgotCzxykFI34QY2Ea7KmtxGJ+uX4wfAAAAAElFTkSuQmCC') no-repeat 5px; background-size: 16px 16px; display: block; border-radius: 2px; }";\r
		printControlStyleSheet.innerHTML += " .leaflet-control-browser-print a.leaflet-browser-print { background-position: center; }";\r
		printControlStyleSheet.innerHTML += " .browser-print-holder { background-color: #919187; margin: 0px; padding: 0px; list-style: none; white-space: nowrap; align-items: center; display: flex; } .browser-print-holder-left li:last-child { border-top-right-radius: 2px; border-bottom-right-radius: 2px; } .browser-print-holder-right li:first-child { border-top-left-radius: 2px; border-bottom-left-radius: 2px; }";\r
		printControlStyleSheet.innerHTML += " .browser-print-mode { display: none; color: #FFF; text-decoration: none; padding: 0 10px; text-align: center; } .browser-print-holder:hover { background-color: #757570; cursor: pointer; }";\r
		printControlStyleSheet.innerHTML += " .leaflet-browser-print--custom, .leaflet-browser-print--custom path { cursor: crosshair!important; }";\r
		printControlStyleSheet.innerHTML += " .leaflet-print-overlay { width: 100%; height:auto; min-height: 100%; position: absolute; top: 0; background-color: white!important; left: 0; z-index: 1001; display: block!important; } ";\r
		printControlStyleSheet.innerHTML += " .leaflet--printing { height:auto; min-height: 100%; margin: 0px!important; padding: 0px!important; } body.leaflet--printing > * { display: none; box-sizing: border-box; }";\r
		printControlStyleSheet.innerHTML += " .grid-print-container { grid-template: 1fr / 1fr; box-sizing: border-box; overflow: hidden; } .grid-map-print { grid-row: 1; grid-column: 1; } body.leaflet--printing .grid-print-container [leaflet-browser-print-content]:not(style) { display: unset!important; }";\r
		printControlStyleSheet.innerHTML += " .pages-print-container { box-sizing: border-box; }";\r
		printControlStyleSheet.innerHTML += ' #print-header, #print-footer { text-align: center; font-size: 20px; }';\r
		printControlStyleSheet.innerHTML += ' .over-the-map { position: absolute; left: 0; z-index: 10000; }';\r
\r
		container.appendChild(printControlStyleSheet);\r
	},\r
	_setupManualPrintButton: function(map, origins, objects) {\r
		var manualPrintButton = document.createElement('button');\r
		manualPrintButton.className = "leaflet-browser-print--manualMode-button";\r
		manualPrintButton.innerHTML = "Print";\r
		manualPrintButton.style.position = "absolute";\r
		manualPrintButton.style.top = "20px";\r
		manualPrintButton.style.right = "20px";\r
		this.__overlay__.appendChild(manualPrintButton);\r
\r
		var self = this;\r
		L.DomEvent.on(manualPrintButton, 'click', function () {\r
			self.browserPrint._completePrinting(map, origins, objects);\r
		});\r
	},\r
});\r
\r
\r
L.browserPrint = function(map,options){\r
	return new L.BrowserPrint(map,options);\r
};\r
\r
\r
L.BrowserPrint.Event =  {\r
	PrintInit: 'browser-print-init',\r
	PrePrint: 'browser-pre-print',\r
	PrintStart: 'browser-print-start',\r
	Print: 'browser-print',\r
	PrintEnd: 'browser-print-end',\r
	PrintCancel: 'browser-print-cancel'\r
};\r


//# sourceURL=webpack:///./src/leaflet.browser.print.js?`)},"./src/leaflet.browser.print.modes.js":function(module,exports){eval(`/**\r
	MIT License http://www.opensource.org/licenses/mit-license.php\r
	Author Igor Vladyka <igor.vladyka@gmail.com> (https://github.com/Igor-Vladyka/leaflet.browser.print)\r
**/\r
\r
L.BrowserPrint.Mode = L.Class.extend({\r
	options: {\r
		title: '',\r
		invalidateBounds: false,\r
		margin: {},\r
		enableZoom: true,\r
		zoom: 0,\r
		rotate: 0,\r
		scale: 1,\r
		orientation: '',\r
		pageSize: 'A4',\r
		pageSeries: '',\r
		pageSeriesSize: '',\r
		action: null,\r
		header: {\r
			enabled: false,\r
			text: "",\r
			size: "10mm",\r
			overTheMap: false,\r
		},\r
		footer: {\r
			enabled: false,\r
			text: "",\r
			size: "10mm",\r
			overTheMap: false,\r
		},\r
	},\r
	initialize: function (mode, options = {}) {\r
		if (!mode) {\r
			throw 'Print mode have to be set. Default modes: "Portrait", "Landscape", "Auto" or "Custom". The shortcut functions "L.BrowserPrint.Mode.Portrait" are preferred.';\r
		}\r
\r
		this.mode = mode;\r
		this.setOptions(options);\r
	},\r
    setOptions: function(options){\r
        L.setOptions(this, options);\r
\r
        if(!this.options.title){\r
            this.options.title = this.mode;\r
        }\r
\r
        if(this.mode === "Portrait" || this.mode === "Landscape"){\r
            this.options.orientation = this.mode;\r
        }\r
\r
        this.options.pageSize = (this.options.pageSize || 'A4').toUpperCase();\r
        this.options.pageSeries = ["A", "B", "C", "D"].indexOf(this.options.pageSize[0]) !== -1 ? this.options.pageSize[0] : "";\r
        this.options.pageSeriesSize = this.options.pageSize.substring(this.options.pageSeries.length);\r
        this.options.action = this.options.action || function (context, element) {\r
            return function () {\r
                context._printMode(element)\r
            };\r
        };\r
    }\r
});\r
\r
L.browserPrint.mode = function(mode, options){\r
	return new L.BrowserPrint.Mode(mode,options);\r
};\r
\r
L.BrowserPrint.Mode.Name = {\r
	Landscape: "Landscape",\r
	Portrait: "Portrait",\r
	Auto: "Auto",\r
	Custom: "Custom",\r
};\r
\r
\r
L.BrowserPrint.Mode.Portrait = function(pageSize, options = {}) {\r
	options.pageSize = pageSize;\r
	options.invalidateBounds = options.invalidateBounds === true || options.invalidateBounds === false ?  options.invalidateBounds : false;\r
	return new L.BrowserPrint.Mode(L.BrowserPrint.Mode.Name.Portrait, options);\r
};\r
L.BrowserPrint.Mode.Landscape = function(pageSize, options = {}) {\r
	options.pageSize = pageSize;\r
	options.invalidateBounds = options.invalidateBounds === true || options.invalidateBounds === false ?  options.invalidateBounds : false;\r
	return new L.BrowserPrint.Mode(L.BrowserPrint.Mode.Name.Landscape, options);\r
};\r
L.BrowserPrint.Mode.Auto = function(pageSize, options = {}) {\r
	options.pageSize = pageSize;\r
	options.invalidateBounds = options.invalidateBounds === true || options.invalidateBounds === false ?  options.invalidateBounds : true;\r
	return new L.BrowserPrint.Mode(L.BrowserPrint.Mode.Name.Auto, options);\r
};\r
L.BrowserPrint.Mode.Custom = function(pageSize, options = {}) {\r
	options.pageSize = pageSize;\r
	options.invalidateBounds = options.invalidateBounds === true || options.invalidateBounds === false ?  options.invalidateBounds : true;\r
	return new L.BrowserPrint.Mode(L.BrowserPrint.Mode.Name.Custom, options);\r
};\r


//# sourceURL=webpack:///./src/leaflet.browser.print.modes.js?`)},"./src/leaflet.browser.print.sizes.js":function(module,exports){eval(`/**\r
	MIT License http://www.opensource.org/licenses/mit-license.php\r
	Author Igor Vladyka <igor.vladyka@gmail.com> (https://github.com/Igor-Vladyka/leaflet.browser.print)\r
**/\r
\r
/* Portrait mode sizes in mm for 0 lvl*/\r
L.BrowserPrint.Size =  {\r
	A: {\r
		Width: 840,\r
		Height: 1188\r
	},\r
	B: {\r
		Width: 1000,\r
		Height: 1414\r
	},\r
	C: {\r
		Width: 916,\r
		Height: 1296\r
	},\r
	D: {\r
		Width: 770,\r
		Height: 1090\r
	},\r
	LETTER: {\r
		Width: 216,\r
		Height: 279\r
	},\r
	HALFLETTER: {\r
		Width: 140,\r
		Height: 216\r
	},\r
	LEGAL: {\r
		Width: 216,\r
		Height: 356\r
	},\r
	JUNIORLEGAL: {\r
		Width: 127,\r
		Height: 203\r
	},\r
	TABLOID: {\r
		Width: 279,\r
		Height: 432\r
	},\r
	LEDGER: {\r
		Width: 432,\r
		Height: 279\r
	}\r
};\r


//# sourceURL=webpack:///./src/leaflet.browser.print.sizes.js?`)},"./src/leaflet.browser.print.utils.js":function(module,exports){eval(`/**\r
	MIT License http://www.opensource.org/licenses/mit-license.php\r
	Author Igor Vladyka <igor.vladyka@gmail.com> (https://github.com/Igor-Vladyka/leaflet.browser.print)\r
**/\r
\r
L.BrowserPrint.Utils = {\r
\r
	_ignoreArray: [],\r
\r
	_cloneFactoryArray: [],\r
	_cloneRendererArray: [],\r
	_knownRenderers: {},\r
\r
	cloneOptions: function(options) {\r
		var utils = this;\r
	    var retOptions = {};\r
	    for (var name in options) {\r
	        var item = options[name];\r
			if (item && item.clone) {\r
				retOptions[name] = item.clone();\r
			} else if (item && item.onAdd) {\r
				retOptions[name] = utils.cloneLayer(item);\r
			} else {\r
				retOptions[name] = item;\r
			}\r
	    }\r
	    return retOptions;\r
	},\r
\r
	cloneBasicOptionsWithoutLayers: function(options) {\r
	    var retOptions = {};\r
		var optionNames = Object.getOwnPropertyNames(options);\r
		if (optionNames.length) {\r
			for (var i = 0; i < optionNames.length; i++) {\r
				var optName = optionNames[i];\r
				if (optName && optName != "layers") {\r
			        retOptions[optName] = options[optName];\r
				}\r
			}\r
\r
		    return this.cloneOptions(retOptions);\r
		}\r
\r
		return retOptions;\r
	},\r
\r
	cloneInnerLayers: function (layer) {\r
		var utils = this;\r
		var layers = [];\r
\r
		layer.eachLayer(function (inner) {\r
			var l = utils.cloneLayer(inner);\r
\r
			if (l) {\r
				layers.push(l);\r
			}\r
		});\r
\r
		return layers;\r
	},\r
\r
	initialize: function () {\r
\r
		this._knownRenderers = {};\r
\r
		// Renderers\r
		this.registerRenderer(L.SVG, 'L.SVG');\r
		this.registerRenderer(L.Canvas, 'L.Canvas');\r
\r
		this.registerLayer(L.TileLayer.WMS, 'L.TileLayer.WMS', function(layer, utils) { 	return L.tileLayer.wms(layer._url, utils.cloneOptions(layer.options)); });\r
		this.registerLayer(L.TileLayer, 'L.TileLayer', function(layer, utils) { 			return L.tileLayer(layer._url, utils.cloneOptions(layer.options)); });\r
		this.registerLayer(L.GridLayer, 'L.GridLayer', function(layer, utils) { 			return L.gridLayer(utils.cloneOptions(layer.options)); });\r
		this.registerLayer(L.ImageOverlay, 'L.ImageOverlay', function(layer, utils) { 		return L.imageOverlay(layer._url, layer._bounds, utils.cloneOptions(layer.options)); });\r
		this.registerLayer(L.Marker, 'L.Marker', function(layer, utils) { 					return L.marker(layer.getLatLng(), utils.cloneOptions(layer.options)); });\r
		this.registerLayer(L.Popup, 'L.Popup', function(layer, utils) { 					return L.popup(utils.cloneOptions(layer.options)).setLatLng(layer.getLatLng()).setContent(layer.getContent()); });\r
		this.registerLayer(L.Circle, 'L.Circle', function(layer, utils) { 					return L.circle(layer.getLatLng(), layer.getRadius(), utils.cloneOptions(layer.options)); });\r
		this.registerLayer(L.CircleMarker, 'L.CircleMarker', function(layer, utils) { 		return L.circleMarker(layer.getLatLng(), utils.cloneOptions(layer.options)); });\r
		this.registerLayer(L.Rectangle, 'L.Rectangle', function(layer, utils) { 			return L.rectangle(layer.getBounds(), utils.cloneOptions(layer.options)); });\r
		this.registerLayer(L.Polygon, 'L.Polygon', function(layer, utils) { 				return L.polygon(layer.getLatLngs(), utils.cloneOptions(layer.options)); });\r
\r
		// MultiPolyline is removed in leaflet 1.0.0\r
		this.registerLayer(L.MultiPolyline, 'L.MultiPolyline', function(layer, utils) { 	return L.polyline(layer.getLatLngs(), utils.cloneOptions(layer.options)); });\r
		// MultiPolygon is removed in leaflet 1.0.0\r
		this.registerLayer(L.MultiPolygon, 'L.MultiPolygon', function(layer, utils) { 		return L.multiPolygon(layer.getLatLngs(), utils.cloneOptions(layer.options)); });\r
\r
		this.registerLayer(L.Polyline, 'L.Polyline', function(layer, utils) { 				return L.polyline(layer.getLatLngs(), utils.cloneOptions(layer.options)); });\r
		this.registerLayer(L.GeoJSON, 'L.GeoJSON', function(layer, utils) { 				return L.geoJson(layer.toGeoJSON(), utils.cloneOptions(layer.options)); });\r
\r
		this.registerIgnoreLayer(L.FeatureGroup, 'L.FeatureGroup');\r
		this.registerIgnoreLayer(L.LayerGroup, 'L.LayerGroup');\r
\r
		// There is no point to clone tooltips here;  L.tooltip(options);\r
		this.registerLayer(L.Tooltip, 'L.Tooltip', function(){	return null; });\r
	},\r
\r
	_register: function(array, type, identifier, builderFunction) {\r
		if (type &&\r
			!array.filter(function(l){ return l.identifier === identifier; }).length) {\r
\r
			array.push({\r
				type: type,\r
				identifier: identifier,\r
				builder: builderFunction || function (layer) { return new type(layer.options); }\r
			});\r
		}\r
	},\r
\r
	registerLayer: function(type, identifier, builderFunction) {\r
		this._register(this._cloneFactoryArray, type, identifier, builderFunction);\r
	},\r
\r
	registerRenderer: function(type, identifier, builderFunction) {\r
		this._register(this._cloneRendererArray, type, identifier, builderFunction);\r
	},\r
\r
	registerIgnoreLayer: function(type, identifier) {\r
		this._register(this._ignoreArray, type, identifier);\r
	},\r
\r
	cloneLayer: function(layer) {\r
		if (!layer) return null;\r
\r
		// First we check if this layer is actual renderer\r
		var renderer = this.__getRenderer(layer);\r
		if (renderer) {\r
			return renderer;\r
		}\r
\r
		var factoryObject;\r
		if (layer._group) { // Exceptional check for L.MarkerClusterGroup\r
			factoryObject = this.__getFactoryObject(layer._group, true);\r
		} else {\r
			factoryObject = this.__getFactoryObject(layer);\r
		}\r
\r
		// We clone and recreate layer if it's simple overlay\r
		if (factoryObject) {\r
			factoryObject = factoryObject.builder(layer, this);\r
		}\r
\r
		return factoryObject;\r
	},\r
\r
	getType: function(layer) {\r
		if (!layer) return null;\r
\r
		var factoryObject = this.__getFactoryObject(layer);\r
		if (factoryObject) {\r
			factoryObject = factoryObject.identifier;\r
		}\r
\r
		return factoryObject;\r
	},\r
\r
	__getRenderer: function(oldRenderer) {\r
		var renderer = this._knownRenderers[oldRenderer._leaflet_id];\r
		if (!renderer) {\r
			for (var i = 0; i < this._cloneRendererArray.length; i++) {\r
				var factoryObject = this._cloneRendererArray[i];\r
				if (oldRenderer instanceof factoryObject.type) {\r
					this._knownRenderers[oldRenderer._leaflet_id] = factoryObject.builder(oldRenderer.options);\r
					break;\r
				}\r
			}\r
\r
			renderer = this._knownRenderers[oldRenderer._leaflet_id];\r
		}\r
\r
		return renderer;\r
	},\r
\r
	__getFactoryObject: function (layer, skipIgnore) {\r
		if (!skipIgnore) {\r
			for (var i = 0; i < this._ignoreArray.length; i++) {\r
				var ignoreObject = this._ignoreArray[i];\r
				if (ignoreObject.type && layer instanceof ignoreObject.type) {\r
					return null;\r
				}\r
			}\r
		}\r
\r
		for (var i = 0; i < this._cloneFactoryArray.length; i++) {\r
			var factoryObject = this._cloneFactoryArray[i];\r
			if (factoryObject.type && layer instanceof factoryObject.type) {\r
				return factoryObject;\r
			}\r
		}\r
\r
		for (var i = 0; i < this._cloneRendererArray.length; i++) {\r
			var factoryObject = this._cloneRendererArray[i];\r
			if (factoryObject.type && layer instanceof factoryObject.type) {\r
				return null;\r
			}\r
		}\r
\r
		this.__unknownLayer__();\r
\r
		return null;\r
	},\r
\r
	__unknownLayer__: function(){\r
	   console.warn('Unknown layer, cannot clone this layer. Leaflet version: ' + L.version);\r
	   console.info('For additional information please refer to documentation on: https://github.com/Igor-Vladyka/leaflet.browser.print.');\r
	   console.info('-------------------------------------------------------------------------------------------------------------------');\r
   }\r
};\r


//# sourceURL=webpack:///./src/leaflet.browser.print.utils.js?`)},0:function(module,exports,__webpack_require__){eval(`__webpack_require__(/*! ./src/leaflet.browser.print.js */"./src/leaflet.browser.print.js");
__webpack_require__(/*! ./src/leaflet.browser.print.control.js */"./src/leaflet.browser.print.control.js");
__webpack_require__(/*! ./src/leaflet.browser.print.utils.js */"./src/leaflet.browser.print.utils.js");
__webpack_require__(/*! ./src/leaflet.browser.print.sizes.js */"./src/leaflet.browser.print.sizes.js");
__webpack_require__(/*! ./src/leaflet.browser.print.modes.js */"./src/leaflet.browser.print.modes.js");
module.exports = __webpack_require__(/*! ./src/leaflet.browser.print.helpers.js */"./src/leaflet.browser.print.helpers.js");


//# sourceURL=webpack:///multi_./src/leaflet.browser.print.js_./src/leaflet.browser.print.control.js_./src/leaflet.browser.print.utils.js_./src/leaflet.browser.print.sizes.js_./src/leaflet.browser.print.modes.js_./src/leaflet.browser.print.helpers.js?`)}});L.Control.BetterScale=L.Control.extend({options:{position:"bottomright",maxWidth:200,metric:!1,imperial:!1,updateWhenIdle:!1},onAdd:function(i){this._map=i;var t="leaflet-control-better-scale",e=L.DomUtil.create("div",t),n=this.options,r=L.DomUtil.create("div",t+"-ruler",e);return L.DomUtil.create("div",t+"-ruler-block "+t+"-upper-first-piece",r),L.DomUtil.create("div",t+"-ruler-block "+t+"-upper-second-piece",r),L.DomUtil.create("div",t+"-ruler-block "+t+"-lower-first-piece",r),L.DomUtil.create("div",t+"-ruler-block "+t+"-lower-second-piece",r),this._addScales(n,t,e),this.ScaleContainer=e,i.on(n.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),e},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,t,e){this._iScale=L.DomUtil.create("div",t+"-label-div",e),this._iScaleLabel=L.DomUtil.create("div",t+"-label",this._iScale),this._iScaleFirstNumber=L.DomUtil.create("div",t+"-label "+t+"-first-number",this._iScale),this._iScaleSecondNumber=L.DomUtil.create("div",t+"-label "+t+"-second-number",this._iScale)},_update:function(){var i=this._map.getBounds(),t=i.getCenter().lat,e=6378137*Math.PI*Math.cos(t*Math.PI/180),n=e*(i.getNorthEast().lng-i.getSouthWest().lng)/180,r=this._map.getSize(),a=this.options,s=0;r.x>0&&(s=n*(a.maxWidth/r.x)),this._updateScales(a,s)},_updateScales:function(i,t){i.metric&&t&&this._updateMetric(t),i.imperial&&t&&this._updateImperial(t)},_updateMetric_old:function(i){var t=this._getRoundNum(i);this._iScale.style.width=this._getScaleWidth(t/i)+"px",this._iScaleLabel.innerHTML=1e3>t?t+" m":t/1e3+" km"},_updateMetric:function(i){var t,e,n,r,a,s=i,c=this._iScaleFirstNumber,p=this._iScaleSecondNumber,g=this._iScale,y=this._iScaleLabel;y.innerHTML="0",s>500?(t=s/1e3,e=this._getRoundNum(t),r=this._getRoundNum(t/2),g.style.width=this._getScaleWidth(e/t)+"px",c.innerHTML=r,p.innerHTML=e+"km"):(n=this._getRoundNum(s),a=this._getRoundNum(s/2),g.style.width=this._getScaleWidth(n/s)+"px",c.innerHTML=a,p.innerHTML=n+"m")},_updateImperial:function(i){var t,e,n,r,a,s=3.2808399*i,c=this._iScaleFirstNumber,p=this._iScaleSecondNumber,g=this._iScale,y=this._iScaleLabel;y.innerHTML="0",s>2640?(t=s/5280,e=this._getRoundNum(t),r=this._getRoundNum(t/2),g.style.width=this._getScaleWidth(e/t)+"px",c.innerHTML=r,p.innerHTML=e+"mi"):(n=this._getRoundNum(s),a=this._getRoundNum(s/2),g.style.width=this._getScaleWidth(n/s)+"px",c.innerHTML=a,p.innerHTML=n+"ft")},_getScaleWidth:function(i){return Math.round(this.options.maxWidth*i)-10},_getRoundNum:function(i){if(i>=2){var t=Math.pow(10,(Math.floor(i)+"").length-1),e=i/t;return e=e>=10?10:e>=5?5:e>=3?3:e>=2?2:1,t*e}return(Math.round(100*i)/100).toFixed(1)}});L.control.betterscale=function(i){return new L.Control.BetterScale(i)};(function(i){function t(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return i[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var e={};t.m=i,t.c=e,t.d=function(n,r,a){t.o(n,r)||Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:a})},t.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(r,"a",r),r},t.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},t.p="/dist/",t(t.s=28)})([function(i,t,e){function n(y){return y==null?y===void 0?p:c:g&&g in Object(y)?a(y):s(y)}var r=e(4),a=e(38),s=e(39),c="[object Null]",p="[object Undefined]",g=r?r.toStringTag:void 0;i.exports=n},function(i,t){function e(n){return n!=null&&typeof n=="object"}i.exports=e},function(i,t){function e(n){var r=typeof n;return n!=null&&(r=="object"||r=="function")}i.exports=e},function(i,t,e){function n(S,A,T){if(T=T||{},!g(T))throw new Error("options is invalid");var I=T.bbox,z=T.id;if(S===void 0)throw new Error("geometry is required");if(A&&A.constructor!==Object)throw new Error("properties must be an Object");I&&y(I),z&&b(z);var q={type:"Feature"};return z&&(q.id=z),I&&(q.bbox=I),q.properties=A||{},q.geometry=S,q}function r(S,A,T){if(!S)throw new Error("coordinates is required");if(!Array.isArray(S))throw new Error("coordinates must be an Array");if(S.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!p(S[0])||!p(S[1]))throw new Error("coordinates must contain numbers");return n({type:"Point",coordinates:S},A,T)}function a(S,A,T){if(!S)throw new Error("coordinates is required");if(S.length<2)throw new Error("coordinates must be an array of two or more positions");if(!p(S[0][1])||!p(S[0][1]))throw new Error("coordinates must contain numbers");return n({type:"LineString",coordinates:S},A,T)}function s(S,A){if(S==null)throw new Error("radians is required");if(A&&typeof A!="string")throw new Error("units must be a string");var T=C[A||"kilometers"];if(!T)throw new Error(A+" units is invalid");return S*T}function c(S){if(S==null)throw new Error("degrees is required");return S%360*Math.PI/180}function p(S){return!isNaN(S)&&S!==null&&!Array.isArray(S)}function g(S){return!!S&&S.constructor===Object}function y(S){if(!S)throw new Error("bbox is required");if(!Array.isArray(S))throw new Error("bbox must be an Array");if(S.length!==4&&S.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");S.forEach(function(A){if(!p(A))throw new Error("bbox must only contain numbers")})}function b(S){if(!S)throw new Error("id is required");if(["string","number"].indexOf(typeof S)===-1)throw new Error("id must be a number or a string")}e.d(t,"b",function(){return n}),e.d(t,"f",function(){return r}),e.d(t,"e",function(){return a}),e.d(t,"g",function(){return s}),e.d(t,"a",function(){return c}),e.d(t,"c",function(){return p}),e.d(t,"d",function(){return g});var C={meters:63710088e-1,metres:63710088e-1,millimeters:6371008800,millimetres:6371008800,centimeters:637100880,centimetres:637100880,kilometers:6371.0088,kilometres:6371.0088,miles:3958.761333810546,nauticalmiles:63710088e-1/1852,inches:63710088e-1*39.37,yards:63710088e-1/1.0936,feet:20902260511392e-6,radians:1,degrees:63710088e-1/111325}},function(i,t,e){var n=e(5),r=n.Symbol;i.exports=r},function(i,t,e){var n=e(11),r=typeof self=="object"&&self&&self.Object===Object&&self,a=n||r||Function("return this")();i.exports=a},function(i,t){function e(n,r){return n===r||n!==n&&r!==r}i.exports=e},function(i,t,e){function n(s){return s!=null&&a(s.length)&&!r(s)}var r=e(10),a=e(16);i.exports=n},function(i,t,e){function n(a,s,c){s=="__proto__"&&r?r(a,s,{configurable:!0,enumerable:!0,value:c,writable:!0}):a[s]=c}var r=e(9);i.exports=n},function(i,t,e){var n=e(35),r=function(){try{var a=n(Object,"defineProperty");return a({},"",{}),a}catch{}}();i.exports=r},function(i,t,e){function n(y){if(!a(y))return!1;var b=r(y);return b==c||b==p||b==s||b==g}var r=e(0),a=e(2),s="[object AsyncFunction]",c="[object Function]",p="[object GeneratorFunction]",g="[object Proxy]";i.exports=n},function(i,t,e){(function(n){var r=typeof n=="object"&&n&&n.Object===Object&&n;i.exports=r}).call(t,e(37))},function(i,t,e){function n(c,p){return s(a(c,p,r),c+"")}var r=e(13),a=e(45),s=e(46);i.exports=n},function(i,t){function e(n){return n}i.exports=e},function(i,t){function e(n,r,a){switch(a.length){case 0:return n.call(r);case 1:return n.call(r,a[0]);case 2:return n.call(r,a[0],a[1]);case 3:return n.call(r,a[0],a[1],a[2])}return n.apply(r,a)}i.exports=e},function(i,t,e){function n(p,g,y){if(!c(y))return!1;var b=typeof g;return!!(b=="number"?a(y)&&s(g,y.length):b=="string"&&g in y)&&r(y[g],p)}var r=e(6),a=e(7),s=e(17),c=e(2);i.exports=n},function(i,t){function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=n}var n=9007199254740991;i.exports=e},function(i,t){function e(a,s){var c=typeof a;return!!(s=s==null?n:s)&&(c=="number"||c!="symbol"&&r.test(a))&&a>-1&&a%1==0&&a<s}var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;i.exports=e},function(i,t,e){function n(C,S){var A=s(C),T=!A&&a(C),I=!A&&!T&&c(C),z=!A&&!T&&!I&&g(C),q=A||T||I||z,Y=q?r(C.length,String):[],at=Y.length;for(var G in C)!S&&!b.call(C,G)||q&&(G=="length"||I&&(G=="offset"||G=="parent")||z&&(G=="buffer"||G=="byteLength"||G=="byteOffset")||p(G,at))||Y.push(G);return Y}var r=e(51),a=e(52),s=e(19),c=e(54),p=e(17),g=e(56),y=Object.prototype,b=y.hasOwnProperty;i.exports=n},function(i,t){var e=Array.isArray;i.exports=e},function(i,t){i.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(i,t){function e(r){var a=r&&r.constructor;return r===(typeof a=="function"&&a.prototype||n)}var n=Object.prototype;i.exports=e},function(i,t,e){function n(g){if(!a(g))return!1;var y=r(g);return y==p||y==c||typeof g.message=="string"&&typeof g.name=="string"&&!s(g)}var r=e(0),a=e(1),s=e(63),c="[object DOMException]",p="[object Error]";i.exports=n},function(i,t){function e(n,r){return function(a){return n(r(a))}}i.exports=e},function(i,t){function e(n,r){for(var a=-1,s=n==null?0:n.length,c=Array(s);++a<s;)c[a]=r(n[a],a,n);return c}i.exports=e},function(i,t){var e=/<%=([\s\S]+?)%>/g;i.exports=e},function(i,t,e){function n(a){return a==null?"":r(a)}var r=e(75);i.exports=n},function(i,t,e){function n(y,b,C){if(y!==null)for(var S,A,T,I,z,q,Y,at,G=0,ht=0,et=y.type,ot=et==="FeatureCollection",vt=et==="Feature",wt=ot?y.features.length:1,_t=0;_t<wt;_t++){Y=ot?y.features[_t].geometry:vt?y.geometry:y,at=!!Y&&Y.type==="GeometryCollection",z=at?Y.geometries.length:1;for(var St=0;St<z;St++){var zt=0,bt=0;if((I=at?Y.geometries[St]:Y)!==null){q=I.coordinates;var Ct=I.type;switch(G=!C||Ct!=="Polygon"&&Ct!=="MultiPolygon"?0:1,Ct){case null:break;case"Point":if(b(q,ht,_t,zt,bt)===!1)return!1;ht++,zt++;break;case"LineString":case"MultiPoint":for(S=0;S<q.length;S++){if(b(q[S],ht,_t,zt,bt)===!1)return!1;ht++,Ct==="MultiPoint"&&zt++}Ct==="LineString"&&zt++;break;case"Polygon":case"MultiLineString":for(S=0;S<q.length;S++){for(A=0;A<q[S].length-G;A++){if(b(q[S][A],ht,_t,zt,bt)===!1)return!1;ht++}Ct==="MultiLineString"&&zt++,Ct==="Polygon"&&bt++}Ct==="Polygon"&&zt++;break;case"MultiPolygon":for(S=0;S<q.length;S++){for(Ct==="MultiPolygon"&&(bt=0),A=0;A<q[S].length;A++){for(T=0;T<q[S][A].length-G;T++){if(b(q[S][A][T],ht,_t,zt,bt)===!1)return!1;ht++}bt++}zt++}break;case"GeometryCollection":for(S=0;S<I.geometries.length;S++)if(n(I.geometries[S],b,C)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function r(y,b){var C,S,A,T,I,z,q,Y,at,G,ht=0,et=y.type==="FeatureCollection",ot=y.type==="Feature",vt=et?y.features.length:1;for(C=0;C<vt;C++){for(z=et?y.features[C].geometry:ot?y.geometry:y,Y=et?y.features[C].properties:ot?y.properties:{},at=et?y.features[C].bbox:ot?y.bbox:void 0,G=et?y.features[C].id:ot?y.id:void 0,q=!!z&&z.type==="GeometryCollection",I=q?z.geometries.length:1,A=0;A<I;A++)if((T=q?z.geometries[A]:z)!==null)switch(T.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(b(T,ht,Y,at,G)===!1)return!1;break;case"GeometryCollection":for(S=0;S<T.geometries.length;S++)if(b(T.geometries[S],ht,Y,at,G)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(b(null,ht,Y,at,G)===!1)return!1;ht++}}function a(y,b,C){var S=C;return r(y,function(A,T,I,z,q){S=T===0&&C===void 0?A:b(S,A,T,I,z,q)}),S}function s(y,b){r(y,function(C,S,A,T,I){var z=C===null?null:C.type;switch(z){case null:case"Point":case"LineString":case"Polygon":return b(Object(g.b)(C,A,{bbox:T,id:I}),S,0)===!1?!1:void 0}var q;switch(z){case"MultiPoint":q="Point";break;case"MultiLineString":q="LineString";break;case"MultiPolygon":q="Polygon"}for(var Y=0;Y<C.coordinates.length;Y++){var at=C.coordinates[Y],G={type:q,coordinates:at};if(b(Object(g.b)(G,A),S,Y)===!1)return!1}})}function c(y,b){s(y,function(C,S,A){var T=0;if(C.geometry){var I=C.geometry.type;if(I!=="Point"&&I!=="MultiPoint"){var z;return n(C,function(q,Y,at,G,ht){if(z===void 0)return void(z=q);var et=Object(g.e)([z,q],C.properties);if(b(et,S,A,ht,T)===!1)return!1;T++,z=q})!==!1&&void 0}}})}function p(y,b,C){var S=C,A=!1;return c(y,function(T,I,z,q,Y){S=A===!1&&C===void 0?T:b(S,T,I,z,q,Y),A=!0}),S}e.d(t,"a",function(){return a}),e.d(t,"b",function(){return p});var g=e(3)},function(i,t,e){i.exports=e(29)},function(i,t,e){function n(et){return et&&et.__esModule?et:{default:et}}e(30);var r=e(31),a=n(r),s=e(79),c=n(s),p=e(80),g=n(p),y=e(85),b=function(et){if(et&&et.__esModule)return et;var ot={};if(et!=null)for(var vt in et)Object.prototype.hasOwnProperty.call(et,vt)&&(ot[vt]=et[vt]);return ot.default=et,ot}(y),C=e(86),S=n(C),A=e(87),T=e(88),I={imports:{numberFormat:A.numberFormat},interpolate:/{{([\s\S]+?)}}/g},z=(0,a.default)(T.controlTemplate,I),q=(0,a.default)(T.resultsTemplate,I),Y=(0,a.default)(T.pointPopupTemplate,I),at=(0,a.default)(T.linePopupTemplate,I),G=(0,a.default)(T.areaPopupTemplate,I),ht={measure:"Measure",measureDistancesAndAreas:"Measure distances and areas",createNewMeasurement:"Create a new measurement",startCreating:"Start creating a measurement by adding points to the map",finishMeasurement:"Finish measurement",lastPoint:"Last point",area:"Area",perimeter:"Perimeter",pointLocation:"Point location",areaMeasurement:"Area measurement",linearMeasurement:"Linear measurement",pathDistance:"Path distance",centerOnArea:"Center on this area",centerOnLine:"Center on this line",centerOnLocation:"Center on this location",cancel:"Cancel",delete:"Delete",acres:"Acres",feet:"Feet",kilometers:"Kilometers",hectares:"Hectares",meters:"Meters",miles:"Miles",sqfeet:"Sq Feet",sqmeters:"Sq Meters",sqmiles:"Sq Miles",decPoint:".",thousandsSep:",",coordinates:"decimal"};L.Control.Measure=L.Control.extend({_className:"leaflet-control-measure",options:{units:{},labels:{},position:"topright",primaryLengthUnit:"feet",secondaryLengthUnit:"miles",primaryAreaUnit:"acres",activeColor:"#ABE67E",completedColor:"#C8F2BE",captureZIndex:1e4,popupOptions:{className:"leaflet-measure-resultpopup",autoPanPadding:[10,10]}},initialize:function(et){L.setOptions(this,et),this.options.labels=Object.assign(Object.assign({},ht),this.options.labels);var ot=this.options,vt=ot.activeColor,wt=ot.completedColor;this._symbols=new S.default({activeColor:vt,completedColor:wt}),this.options.units=L.extend({},c.default,this.options.units)},onAdd:function(et){return this._map=et,this._latlngs=[],this._initLayout(),et.on("click",this._collapse,this),this._layer=L.layerGroup().addTo(et),this._container},onRemove:function(et){et.off("click",this._collapse,this),et.removeLayer(this._layer)},_initLayout:function(){var et=this._className,ot=this._container=L.DomUtil.create("div",et+" leaflet-bar");ot.innerHTML=z({model:{className:et},labels:this.options.labels}),ot.setAttribute("aria-haspopup",!0),L.DomEvent.disableClickPropagation(ot),L.DomEvent.disableScrollPropagation(ot);var vt=this.$toggle=(0,y.selectOne)(".js-toggle",ot);this.$interaction=(0,y.selectOne)(".js-interaction",ot);var wt=(0,y.selectOne)(".js-start",ot),_t=(0,y.selectOne)(".js-cancel",ot),St=(0,y.selectOne)(".js-finish",ot);this.$startPrompt=(0,y.selectOne)(".js-startprompt",ot),this.$measuringPrompt=(0,y.selectOne)(".js-measuringprompt",ot),this.$startHelp=(0,y.selectOne)(".js-starthelp",ot),this.$results=(0,y.selectOne)(".js-results",ot),this.$measureTasks=(0,y.selectOne)(".js-measuretasks",ot);var zt=(0,y.selectOne)(".close-button",ot),bt=(0,y.selectOne)(".close-button-measure",ot);this._collapse(),this._updateMeasureNotStarted(),L.Browser.android||L.DomEvent.on(ot,"click",this._expand,this);var Ct=this;L.DomEvent.on(zt,"click",function(Tt){Tt.stopPropagation(),Ct._collapse()}),L.DomEvent.on(bt,"click",function(Tt){Tt.stopPropagation(),Ct._finishMeasure(),Ct._collapse()}),L.DomEvent.on(vt,"click",L.DomEvent.stop),L.Browser.touch?L.DomEvent.on(vt,"click",this._expand,this):L.DomEvent.on(vt,"focus",this._expand,this),L.DomEvent.on(wt,"click",L.DomEvent.stop),L.DomEvent.on(wt,"click",this._startMeasure,this),L.DomEvent.on(_t,"click",L.DomEvent.stop),L.DomEvent.on(_t,"click",this._finishMeasure,this),L.DomEvent.on(St,"click",L.DomEvent.stop),L.DomEvent.on(St,"click",this._handleMeasureDoubleClick,this)},_expand:function(){b.hide(this.$toggle),b.show(this.$interaction)},_collapse:function(){this._locked||(b.hide(this.$interaction),b.show(this.$toggle))},_updateMeasureNotStarted:function(){b.hide(this.$startHelp),b.hide(this.$results),b.hide(this.$measureTasks),b.hide(this.$measuringPrompt),b.show(this.$startPrompt)},_updateMeasureStartedNoPoints:function(){b.hide(this.$results),b.show(this.$startHelp),b.show(this.$measureTasks),b.hide(this.$startPrompt),b.show(this.$measuringPrompt)},_updateMeasureStartedWithPoints:function(){b.hide(this.$startHelp),b.show(this.$results),b.show(this.$measureTasks),b.hide(this.$startPrompt),b.show(this.$measuringPrompt)},_startMeasure:function(){this._locked=!0,this._measureVertexes=L.featureGroup().addTo(this._layer),this._captureMarker=L.marker(this._map.getCenter(),{clickable:!0,zIndexOffset:this.options.captureZIndex,opacity:0,autoPanOnFocus:!1,iconSize:this._map.getSize().multiplyBy(2)}).addTo(this._layer),this._setCaptureMarkerIcon(),this._captureMarker.on("mouseout",this._handleMapMouseOut,this).on("dblclick",this._handleMeasureDoubleClick,this).on("click",this._handleMeasureClick,this),this._map.on("mousemove",this._handleMeasureMove,this).on("mouseout",this._handleMapMouseOut,this).on("move",this._centerCaptureMarker,this).on("resize",this._setCaptureMarkerIcon,this),L.DomEvent.on(this._container,"mouseenter",this._handleMapMouseOut,this),this._updateMeasureStartedNoPoints(),this._map.fire("measurestart",null,!1)},_finishMeasure:function(){var et=L.extend({},this._resultsModel,{points:this._latlngs});this._locked=!1,L.DomEvent.off(this._container,"mouseover",this._handleMapMouseOut,this),this._clearMeasure(),this._captureMarker.off("mouseout",this._handleMapMouseOut,this).off("dblclick",this._handleMeasureDoubleClick,this).off("click",this._handleMeasureClick,this),this._map.off("mousemove",this._handleMeasureMove,this).off("mouseout",this._handleMapMouseOut,this).off("move",this._centerCaptureMarker,this).off("resize",this._setCaptureMarkerIcon,this),this._layer.removeLayer(this._measureVertexes).removeLayer(this._captureMarker),this._measureVertexes=null,this._updateMeasureNotStarted(),this._collapse(),this._map.fire("measurefinish",et,!1)},_clearMeasure:function(){this._latlngs=[],this._resultsModel=null,this._measureVertexes.clearLayers(),this._measureDrag&&this._layer.removeLayer(this._measureDrag),this._measureArea&&this._layer.removeLayer(this._measureArea),this._measureBoundary&&this._layer.removeLayer(this._measureBoundary),this._measureDrag=null,this._measureArea=null,this._measureBoundary=null},_centerCaptureMarker:function(){this._captureMarker.setLatLng(this._map.getCenter())},_setCaptureMarkerIcon:function(){this._captureMarker.setIcon(L.divIcon({iconSize:this._map.getSize().multiplyBy(2)}))},_getMeasurementDisplayStrings:function(et){return{lengthDisplay:this.buildDisplay(et.length,this.options.primaryLengthUnit,this.options.secondaryLengthUnit,this.options.decPoint,this.options.thousandsSep),areaDisplay:this.buildDisplay(et.area,this.options.primaryAreaUnit,this.options.secondaryAreaUnit,this.options.decPoint,this.options.thousandsSep)}},buildDisplay:function(et,ot,vt,wt,_t){if(ot&&this.options.units[ot]){var St=this.formatMeasure(et,this.options.units[ot],wt,_t);return vt&&this.options.units[vt]&&(St=St+" ("+this.formatMeasure(et,this.options.units[vt],wt,_t)+")"),St}return this.formatMeasure(et,null,wt,_t)},formatMeasure:function(et,ot,vt,wt){var _t=this.options,St={acres:_t.labels.acres,feet:_t.labels.feet,kilometers:_t.labels.kilometers,hectares:_t.labels.hectares,meters:_t.labels.meters,miles:_t.labels.miles,sqfeet:_t.labels.sqfeet,sqmeters:_t.labels.sqmeters,sqmiles:_t.labels.sqmiles},zt=L.extend({factor:1,decimals:0},ot);return[(0,A.numberFormat)(et*zt.factor,zt.decimals,vt||_t.labels.decPoint,wt||_t.labels.thousandsSep),St[zt.display]||zt.display].join(" ")},_updateResults:function(){var et=(0,g.default)(this._latlngs),ot=this._resultsModel=L.extend({},et,this._getMeasurementDisplayStrings(et),{pointCount:this._latlngs.length});this.$results.innerHTML=q({model:ot,labels:this.options.labels})},_handleMeasureMove:function(et){this._measureDrag?this._measureDrag.setLatLng(et.latlng):this._measureDrag=L.circleMarker(et.latlng,this._symbols.getSymbol("measureDrag")).addTo(this._layer),this._measureDrag.bringToFront()},_handleMeasureDoubleClick:function(){var et=this._latlngs,ot=void 0,vt=void 0;if(this._finishMeasure(),et.length){et.length>2&&et.push(et[0]);var wt=(0,g.default)(et),_t=et.length===1?wt:L.extend({},wt,this._getMeasurementDisplayStrings(wt));et.length===1?(ot=L.circleMarker(et[0],this._symbols.getSymbol("resultPoint")),vt=Y({model:_t,labels:this.options.labels})):et.length===2?(ot=L.polyline(et,this._symbols.getSymbol("resultLine")),vt=at({model:_t,labels:this.options.labels})):(ot=L.polygon(et,this._symbols.getSymbol("resultArea")),vt=G({model:_t,labels:this.options.labels}));var St=L.DomUtil.create("div","");St.innerHTML=vt;var zt=(0,y.selectOne)(".js-zoomto",St);zt&&(L.DomEvent.on(zt,"click",L.DomEvent.stop),L.DomEvent.on(zt,"click",function(){ot.getBounds?this._map.fitBounds(ot.getBounds(),{padding:[20,20],maxZoom:17}):ot.getLatLng&&this._map.panTo(ot.getLatLng())},this));var bt=(0,y.selectOne)(".js-deletemarkup",St);bt&&(L.DomEvent.on(bt,"click",L.DomEvent.stop),L.DomEvent.on(bt,"click",function(){this._layer.removeLayer(ot)},this)),ot.addTo(this._layer),ot.bindPopup(St,this.options.popupOptions),ot.getBounds?ot.openPopup(ot.getBounds().getCenter()):ot.getLatLng&&ot.openPopup(ot.getLatLng()),this._map.fire("measurepopupshown",{popupContainer:St,model:_t,resultFeature:ot},!1)}},_handleMeasureClick:function(et){var ot=this._map.mouseEventToLatLng(et.originalEvent),vt=this._latlngs[this._latlngs.length-1],wt=this._symbols.getSymbol("measureVertex");vt&&ot.equals(vt)||(this._latlngs.push(ot),this._addMeasureArea(this._latlngs),this._addMeasureBoundary(this._latlngs),this._measureVertexes.eachLayer(function(_t){_t.setStyle(wt),_t._path&&_t._path.setAttribute("class",wt.className)}),this._addNewVertex(ot),this._measureBoundary&&this._measureBoundary.bringToFront(),this._measureVertexes.bringToFront()),this._updateResults(),this._updateMeasureStartedWithPoints()},_handleMapMouseOut:function(){this._measureDrag&&(this._layer.removeLayer(this._measureDrag),this._measureDrag=null)},_addNewVertex:function(et){L.circleMarker(et,this._symbols.getSymbol("measureVertexActive")).addTo(this._measureVertexes)},_addMeasureArea:function(et){if(et.length<3)return void(this._measureArea&&(this._layer.removeLayer(this._measureArea),this._measureArea=null));this._measureArea?this._measureArea.setLatLngs(et):this._measureArea=L.polygon(et,this._symbols.getSymbol("measureArea")).addTo(this._layer)},_addMeasureBoundary:function(et){if(et.length<2)return void(this._measureBoundary&&(this._layer.removeLayer(this._measureBoundary),this._measureBoundary=null));this._measureBoundary?this._measureBoundary.setLatLngs(et):this._measureBoundary=L.polyline(et,this._symbols.getSymbol("measureBoundary")).addTo(this._layer)}}),L.Map.mergeOptions({measureControl:!1}),L.Map.addInitHook(function(){this.options.measureControl&&(this.measureControl=new L.Control.Measure().addTo(this))}),L.control.measure=function(et){return new L.Control.Measure(et)}},function(i,t){},function(i,t,e){function n(vt,wt,_t){var St=S.imports._.templateSettings||S;_t&&y(vt,wt,_t)&&(wt=void 0),vt=A(vt),wt=r({},wt,St,c);var zt,bt,Ct=r({},wt.imports,St.imports,c),Tt=b(Ct),Et=s(Ct,Tt),Bt=0,Qt=wt.interpolate||G,At="__p += '",Xt=RegExp((wt.escape||G).source+"|"+Qt.source+"|"+(Qt===C?at:G).source+"|"+(wt.evaluate||G).source+"|$","g"),ie=ot.call(wt,"sourceURL")?"//# sourceURL="+(wt.sourceURL+"").replace(/\s/g," ")+`
`:"";vt.replace(Xt,function(Ut,Ht,re,te,Ft,oe){return re||(re=te),At+=vt.slice(Bt,oe).replace(ht,p),Ht&&(zt=!0,At+=`' +
__e(`+Ht+`) +
'`),Ft&&(bt=!0,At+=`';
`+Ft+`;
__p += '`),re&&(At+=`' +
((__t = (`+re+`)) == null ? '' : __t) +
'`),Bt=oe+Ut.length,Ut}),At+=`';
`;var Wt=ot.call(wt,"variable")&&wt.variable;if(Wt){if(Y.test(Wt))throw new Error(T)}else At=`with (obj) {
`+At+`
}
`;At=(bt?At.replace(I,""):At).replace(z,"$1").replace(q,"$1;"),At="function("+(Wt||"obj")+`) {
`+(Wt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(zt?", __e = _.escape":"")+(bt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+At+`return __p
}`;var $t=a(function(){return Function(Tt,ie+"return "+At).apply(void 0,Et)});if($t.source=At,g($t))throw $t;return $t}var r=e(32),a=e(62),s=e(65),c=e(66),p=e(67),g=e(22),y=e(15),b=e(68),C=e(25),S=e(71),A=e(26),T="Invalid `variable` option passed into `_.template`",I=/\b__p \+= '';/g,z=/\b(__p \+=) '' \+/g,q=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Y=/[()=,{}\[\]\/\s]/,at=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,G=/($^)/,ht=/['\n\r\u2028\u2029\\]/g,et=Object.prototype,ot=et.hasOwnProperty;i.exports=n},function(i,t,e){var n=e(33),r=e(44),a=e(50),s=r(function(c,p,g,y){n(p,a(p),c,y)});i.exports=s},function(i,t,e){function n(s,c,p,g){var y=!p;p||(p={});for(var b=-1,C=c.length;++b<C;){var S=c[b],A=g?g(p[S],s[S],S,p,s):void 0;A===void 0&&(A=s[S]),y?a(p,S,A):r(p,S,A)}return p}var r=e(34),a=e(8);i.exports=n},function(i,t,e){function n(p,g,y){var b=p[g];c.call(p,g)&&a(b,y)&&(y!==void 0||g in p)||r(p,g,y)}var r=e(8),a=e(6),s=Object.prototype,c=s.hasOwnProperty;i.exports=n},function(i,t,e){function n(s,c){var p=a(s,c);return r(p)?p:void 0}var r=e(36),a=e(43);i.exports=n},function(i,t,e){function n(T){return!(!s(T)||a(T))&&(r(T)?A:g).test(c(T))}var r=e(10),a=e(40),s=e(2),c=e(42),p=/[\\^$.*+?()[\]{}|]/g,g=/^\[object .+?Constructor\]$/,y=Function.prototype,b=Object.prototype,C=y.toString,S=b.hasOwnProperty,A=RegExp("^"+C.call(S).replace(p,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");i.exports=n},function(i,t){var e;e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(e=window)}i.exports=e},function(i,t,e){function n(g){var y=s.call(g,p),b=g[p];try{g[p]=void 0;var C=!0}catch{}var S=c.call(g);return C&&(y?g[p]=b:delete g[p]),S}var r=e(4),a=Object.prototype,s=a.hasOwnProperty,c=a.toString,p=r?r.toStringTag:void 0;i.exports=n},function(i,t){function e(a){return r.call(a)}var n=Object.prototype,r=n.toString;i.exports=e},function(i,t,e){function n(s){return!!a&&a in s}var r=e(41),a=function(){var s=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}();i.exports=n},function(i,t,e){var n=e(5),r=n["__core-js_shared__"];i.exports=r},function(i,t){function e(a){if(a!=null){try{return r.call(a)}catch{}try{return a+""}catch{}}return""}var n=Function.prototype,r=n.toString;i.exports=e},function(i,t){function e(n,r){return n==null?void 0:n[r]}i.exports=e},function(i,t,e){function n(s){return r(function(c,p){var g=-1,y=p.length,b=y>1?p[y-1]:void 0,C=y>2?p[2]:void 0;for(b=s.length>3&&typeof b=="function"?(y--,b):void 0,C&&a(p[0],p[1],C)&&(b=y<3?void 0:b,y=1),c=Object(c);++g<y;){var S=p[g];S&&s(c,S,g,b)}return c})}var r=e(12),a=e(15);i.exports=n},function(i,t,e){function n(s,c,p){return c=a(c===void 0?s.length-1:c,0),function(){for(var g=arguments,y=-1,b=a(g.length-c,0),C=Array(b);++y<b;)C[y]=g[c+y];y=-1;for(var S=Array(c+1);++y<c;)S[y]=g[y];return S[c]=p(C),r(s,this,S)}}var r=e(14),a=Math.max;i.exports=n},function(i,t,e){var n=e(47),r=e(49),a=r(n);i.exports=a},function(i,t,e){var n=e(48),r=e(9),a=e(13),s=r?function(c,p){return r(c,"toString",{configurable:!0,enumerable:!1,value:n(p),writable:!0})}:a;i.exports=s},function(i,t){function e(n){return function(){return n}}i.exports=e},function(i,t){function e(s){var c=0,p=0;return function(){var g=a(),y=r-(g-p);if(p=g,y>0){if(++c>=n)return arguments[0]}else c=0;return s.apply(void 0,arguments)}}var n=800,r=16,a=Date.now;i.exports=e},function(i,t,e){function n(c){return s(c)?r(c,!0):a(c)}var r=e(18),a=e(60),s=e(7);i.exports=n},function(i,t){function e(n,r){for(var a=-1,s=Array(n);++a<n;)s[a]=r(a);return s}i.exports=e},function(i,t,e){var n=e(53),r=e(1),a=Object.prototype,s=a.hasOwnProperty,c=a.propertyIsEnumerable,p=n(function(){return arguments}())?n:function(g){return r(g)&&s.call(g,"callee")&&!c.call(g,"callee")};i.exports=p},function(i,t,e){function n(c){return a(c)&&r(c)==s}var r=e(0),a=e(1),s="[object Arguments]";i.exports=n},function(i,t,e){(function(n){var r=e(5),a=e(55),s=typeof t=="object"&&t&&!t.nodeType&&t,c=s&&typeof n=="object"&&n&&!n.nodeType&&n,p=c&&c.exports===s,g=p?r.Buffer:void 0,y=g?g.isBuffer:void 0,b=y||a;n.exports=b}).call(t,e(20)(i))},function(i,t){function e(){return!1}i.exports=e},function(i,t,e){var n=e(57),r=e(58),a=e(59),s=a&&a.isTypedArray,c=s?r(s):n;i.exports=c},function(i,t,e){function n(p){return s(p)&&a(p.length)&&!!c[r(p)]}var r=e(0),a=e(16),s=e(1),c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c["[object Arguments]"]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c["[object Function]"]=c["[object Map]"]=c["[object Number]"]=c["[object Object]"]=c["[object RegExp]"]=c["[object Set]"]=c["[object String]"]=c["[object WeakMap]"]=!1,i.exports=n},function(i,t){function e(n){return function(r){return n(r)}}i.exports=e},function(i,t,e){(function(n){var r=e(11),a=typeof t=="object"&&t&&!t.nodeType&&t,s=a&&typeof n=="object"&&n&&!n.nodeType&&n,c=s&&s.exports===a,p=c&&r.process,g=function(){try{var y=s&&s.require&&s.require("util").types;return y||p&&p.binding&&p.binding("util")}catch{}}();n.exports=g}).call(t,e(20)(i))},function(i,t,e){function n(g){if(!r(g))return s(g);var y=a(g),b=[];for(var C in g)(C!="constructor"||!y&&p.call(g,C))&&b.push(C);return b}var r=e(2),a=e(21),s=e(61),c=Object.prototype,p=c.hasOwnProperty;i.exports=n},function(i,t){function e(n){var r=[];if(n!=null)for(var a in Object(n))r.push(a);return r}i.exports=e},function(i,t,e){var n=e(14),r=e(12),a=e(22),s=r(function(c,p){try{return n(c,void 0,p)}catch(g){return a(g)?g:new Error(g)}});i.exports=s},function(i,t,e){function n(S){if(!s(S)||r(S)!=c)return!1;var A=a(S);if(A===null)return!0;var T=b.call(A,"constructor")&&A.constructor;return typeof T=="function"&&T instanceof T&&y.call(T)==C}var r=e(0),a=e(64),s=e(1),c="[object Object]",p=Function.prototype,g=Object.prototype,y=p.toString,b=g.hasOwnProperty,C=y.call(Object);i.exports=n},function(i,t,e){var n=e(23),r=n(Object.getPrototypeOf,Object);i.exports=r},function(i,t,e){function n(a,s){return r(s,function(c){return a[c]})}var r=e(24);i.exports=n},function(i,t,e){function n(c,p,g,y){return c===void 0||r(c,a[g])&&!s.call(y,g)?p:c}var r=e(6),a=Object.prototype,s=a.hasOwnProperty;i.exports=n},function(i,t){function e(r){return"\\"+n[r]}var n={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};i.exports=e},function(i,t,e){function n(c){return s(c)?r(c):a(c)}var r=e(18),a=e(69),s=e(7);i.exports=n},function(i,t,e){function n(p){if(!r(p))return a(p);var g=[];for(var y in Object(p))c.call(p,y)&&y!="constructor"&&g.push(y);return g}var r=e(21),a=e(70),s=Object.prototype,c=s.hasOwnProperty;i.exports=n},function(i,t,e){var n=e(23),r=n(Object.keys,Object);i.exports=r},function(i,t,e){var n=e(72),r=e(77),a=e(78),s=e(25),c={escape:r,evaluate:a,interpolate:s,variable:"",imports:{_:{escape:n}}};i.exports=c},function(i,t,e){function n(p){return p=a(p),p&&c.test(p)?p.replace(s,r):p}var r=e(73),a=e(26),s=/[&<>"']/g,c=RegExp(s.source);i.exports=n},function(i,t,e){var n=e(74),r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},a=n(r);i.exports=a},function(i,t){function e(n){return function(r){return n==null?void 0:n[r]}}i.exports=e},function(i,t,e){function n(b){if(typeof b=="string")return b;if(s(b))return a(b,n)+"";if(c(b))return y?y.call(b):"";var C=b+"";return C=="0"&&1/b==-p?"-0":C}var r=e(4),a=e(24),s=e(19),c=e(76),p=1/0,g=r?r.prototype:void 0,y=g?g.toString:void 0;i.exports=n},function(i,t,e){function n(c){return typeof c=="symbol"||a(c)&&r(c)==s}var r=e(0),a=e(1),s="[object Symbol]";i.exports=n},function(i,t){var e=/<%-([\s\S]+?)%>/g;i.exports=e},function(i,t){var e=/<%([\s\S]+?)%>/g;i.exports=e},function(i,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.default={acres:{factor:24711e-8,display:"acres",decimals:2},feet:{factor:3.2808,display:"feet",decimals:2},kilometers:{factor:.001,display:"kilometers",decimals:2},hectares:{factor:1e-4,display:"hectares",decimals:2},meters:{factor:1,display:"meters",decimals:2},miles:{factor:3.2808/5280,display:"miles",decimals:2},sqfeet:{factor:10.7639,display:"sqfeet",decimals:2},sqmeters:{factor:1,display:"sqmeters",decimals:2},sqmiles:{factor:386102e-12,display:"sqmiles",decimals:2}}},function(i,t,e){function n(b){return b&&b.__esModule?b:{default:b}}function r(b){return b<10?"0"+b.toString():b.toString()}function a(b,C,S){var A=Math.abs(b),T=Math.floor(A),I=Math.floor(60*(A-T)),z=Math.round(3600*(A-T-I/60)*100)/100,q=A===b?C:S;return r(T)+"&deg; "+r(I)+"' "+r(z)+'" '+q}function s(b){var C=b[b.length-1],S=b.map(function(q){return[q.lat,q.lng]}),A=L.polyline(S),T=L.polygon(S),I=1e3*(0,p.default)(A.toGeoJSON(),{units:"kilometers"}),z=(0,y.default)(T.toGeoJSON());return{lastCoord:{dd:{x:C.lng,y:C.lat},dms:{x:a(C.lng,"E","W"),y:a(C.lat,"N","S")}},length:I,area:z}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var c=e(81),p=n(c),g=e(84),y=n(g)},function(i,t,e){function n(c,p){if(p=p||{},!Object(s.d)(p))throw new Error("options is invalid");if(!c)throw new Error("geojson is required");return Object(a.b)(c,function(g,y){var b=y.geometry.coordinates;return g+Object(r.a)(b[0],b[1],p)},0)}Object.defineProperty(t,"__esModule",{value:!0});var r=e(82),a=e(27),s=e(3);t.default=n},function(i,t,e){function n(s,c,p){if(p=p||{},!Object(a.d)(p))throw new Error("options is invalid");var g=p.units,y=Object(r.a)(s),b=Object(r.a)(c),C=Object(a.a)(b[1]-y[1]),S=Object(a.a)(b[0]-y[0]),A=Object(a.a)(y[1]),T=Object(a.a)(b[1]),I=Math.pow(Math.sin(C/2),2)+Math.pow(Math.sin(S/2),2)*Math.cos(A)*Math.cos(T);return Object(a.g)(2*Math.atan2(Math.sqrt(I),Math.sqrt(1-I)),g)}var r=e(83),a=e(3);t.a=n},function(i,t,e){function n(r){if(!r)throw new Error("coord is required");if(r.type==="Feature"&&r.geometry!==null&&r.geometry.type==="Point")return r.geometry.coordinates;if(r.type==="Point")return r.coordinates;if(Array.isArray(r)&&r.length>=2&&r[0].length===void 0&&r[1].length===void 0)return r;throw new Error("coord must be GeoJSON Point or an Array of numbers")}e.d(t,"a",function(){return n}),e(3)},function(i,t,e){function n(y){return Object(p.a)(y,function(b,C){return b+r(C)},0)}function r(y){var b,C=0;switch(y.type){case"Polygon":return a(y.coordinates);case"MultiPolygon":for(b=0;b<y.coordinates.length;b++)C+=a(y.coordinates[b]);return C;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(b=0;b<y.geometries.length;b++)C+=r(y.geometries[b]);return C}}function a(y){var b=0;if(y&&y.length>0){b+=Math.abs(s(y[0]));for(var C=1;C<y.length;C++)b-=Math.abs(s(y[C]))}return b}function s(y){var b,C,S,A,T,I,z,q=0,Y=y.length;if(Y>2){for(z=0;z<Y;z++)z===Y-2?(A=Y-2,T=Y-1,I=0):z===Y-1?(A=Y-1,T=0,I=1):(A=z,T=z+1,I=z+2),b=y[A],C=y[T],S=y[I],q+=(c(S[0])-c(b[0]))*Math.sin(c(C[1]));q=q*g*g/2}return q}function c(y){return y*Math.PI/180}Object.defineProperty(t,"__esModule",{value:!0});var p=e(27),g=6378137;t.default=n},function(i,t,e){function n(c,p){return p||(p=document),p.querySelector(c)}function r(c,p){return p||(p=document),Array.prototype.slice.call(p.querySelectorAll(c))}function a(c){if(c)return c.setAttribute("style","display:none;"),c}function s(c){if(c)return c.removeAttribute("style"),c}Object.defineProperty(t,"__esModule",{value:!0}),t.selectOne=n,t.selectAll=r,t.hide=a,t.show=s},function(i,t,e){function n(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function c(p,g){for(var y=0;y<g.length;y++){var b=g[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(p,b.key,b)}}return function(p,g,y){return g&&c(p.prototype,g),y&&c(p,y),p}}(),a={activeColor:"#ABE67E",completedColor:"#C8F2BE"},s=function(){function c(p){n(this,c),this._options=L.extend({},a,this._options,p)}return r(c,[{key:"getSymbol",value:function(p){return{measureDrag:{clickable:!1,radius:4,color:this._options.activeColor,weight:2,opacity:.7,fillColor:this._options.activeColor,fillOpacity:.5,className:"layer-measuredrag"},measureArea:{clickable:!1,stroke:!1,fillColor:this._options.activeColor,fillOpacity:.2,className:"layer-measurearea"},measureBoundary:{clickable:!1,color:this._options.activeColor,weight:2,opacity:.9,fill:!1,className:"layer-measureboundary"},measureVertex:{clickable:!1,radius:4,color:this._options.activeColor,weight:2,opacity:1,fillColor:this._options.activeColor,fillOpacity:.7,className:"layer-measurevertex"},measureVertexActive:{clickable:!1,radius:4,color:this._options.activeColor,weight:2,opacity:1,fillColor:this._options.activeColor,fillOpacity:1,className:"layer-measurevertex active"},resultArea:{clickable:!0,color:this._options.completedColor,weight:2,opacity:.9,fillColor:this._options.completedColor,fillOpacity:.2,className:"layer-measure-resultarea"},resultLine:{clickable:!0,color:this._options.completedColor,weight:3,opacity:.9,fill:!1,className:"layer-measure-resultline"},resultPoint:{clickable:!0,radius:4,color:this._options.completedColor,weight:2,opacity:1,fillColor:this._options.completedColor,fillOpacity:.7,className:"layer-measure-resultpoint"}}[p]}}]),c}();t.default=s},function(i,t,e){function n(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".",c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:",",p=r<0?"-":"",g=Math.abs(+r||0),y=parseInt(g.toFixed(a),10)+"",b=y.length>3?y.length%3:0;return[p,b?y.substr(0,b)+c:"",y.substr(b).replace(/(\d{3})(?=\d)/g,"$1"+c),a?""+s+Math.abs(g-y).toFixed(a).slice(2):""].join("")}Object.defineProperty(t,"__esModule",{value:!0}),t.numberFormat=n},function(i,t,e){function n(g){return g&&g.__esModule?g:{default:g}}Object.defineProperty(t,"__esModule",{value:!0});var r=e(89);Object.defineProperty(t,"controlTemplate",{enumerable:!0,get:function(){return n(r).default}});var a=e(90);Object.defineProperty(t,"resultsTemplate",{enumerable:!0,get:function(){return n(a).default}});var s=e(91);Object.defineProperty(t,"pointPopupTemplate",{enumerable:!0,get:function(){return n(s).default}});var c=e(92);Object.defineProperty(t,"linePopupTemplate",{enumerable:!0,get:function(){return n(c).default}});var p=e(93);Object.defineProperty(t,"areaPopupTemplate",{enumerable:!0,get:function(){return n(p).default}})},function(i,t){i.exports='<a class="{{ model.className }}-toggle js-toggle" href=# title="{{ labels.measureDistancesAndAreas }}">{{ labels.measure }}</a> <div class="{{ model.className }}-interaction js-interaction"> <div class="js-startprompt startprompt"> <h3><span class="{{ model.className }}-close-button close-button"></span> {{ labels.measureDistancesAndAreas }}</h3> <ul class=tasks> <a href=# class="js-start start">{{ labels.createNewMeasurement }}</a> </ul> </div> <div class=js-measuringprompt> <h3><span class="{{ model.className }}-close-button close-button-measure"></span> {{ labels.measureDistancesAndAreas }}</h3> <p class=js-starthelp>{{ labels.startCreating }}</p> <div class="js-results results"></div> <ul class="js-measuretasks tasks"> <li><a href=# class="js-cancel cancel">{{ labels.cancel }}</a></li> <li><a href=# class="js-finish finish">{{ labels.finishMeasurement }}</a></li> </ul> </div> </div> '},function(i,t){i.exports=`<div class=group> <p class="lastpoint heading"><span class=heading>{{ labels.lastPoint }}</span> <% if ( labels.coordinates.indexOf('degree') > 0) { %> {{ model.lastCoord.dms.y }} <span class=coorddivider>/</span> {{ model.lastCoord.dms.x }} <% } else { %> {{ numberFormat(model.lastCoord.dd.y, 6) }} <span class=coorddivider>/</span> {{ numberFormat(model.lastCoord.dd.x, 6) }} <% } %> </p> </div> <% if (model.pointCount > 1) { %> <div class=group> <p><span class=heading>{{ labels.pathDistance }}</span> {{ model.lengthDisplay }}</p> </div> <% } %> <% if (model.pointCount > 2) { %> <div class=group> <p><span class=heading>{{ labels.area }}</span> {{ model.areaDisplay }}</p> </div> <% } %> `},function(i,t){i.exports='<h3>{{ labels.pointLocation }}</h3> <p>{{ model.lastCoord.dms.y }} <span class=coorddivider>/</span> {{ model.lastCoord.dms.x }}</p> <p>{{ numberFormat(model.lastCoord.dd.y, 6) }} <span class=coorddivider>/</span> {{ numberFormat(model.lastCoord.dd.x, 6) }}</p> <ul class=tasks> <li><a href=# class="js-zoomto zoomto">{{ labels.centerOnLocation }}</a></li> <li><a href=# class="js-deletemarkup deletemarkup">{{ labels.delete }}</a></li> </ul> '},function(i,t){i.exports='<h3>{{ labels.linearMeasurement }}</h3> <p>{{ model.lengthDisplay }}</p> <ul class=tasks> <li><a href=# class="js-zoomto zoomto">{{ labels.centerOnLine }}</a></li> <li><a href=# class="js-deletemarkup deletemarkup">{{ labels.delete }}</a></li> </ul> '},function(i,t){i.exports='<h3>{{ labels.areaMeasurement }}</h3> <p>{{ model.areaDisplay }}</p> <p>{{ model.lengthDisplay }} {{ labels.perimeter }}</p> <ul class=tasks> <li><a href=# class="js-zoomto zoomto">{{ labels.centerOnArea }}</a></li> <li><a href=# class="js-deletemarkup deletemarkup">{{ labels.delete }}</a></li> </ul> '}]);var baselayers={osmTiles:L.tileLayer("https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}),darkMap:L.tileLayer("https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}),satellite:L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}{r}?access_token={accessToken}",{attribution:'Map data (c) <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery (c) <a href="https://www.mapbox.com/">Mapbox</a>',id:"mapbox/satellite-v9",accessToken:"pk.eyJ1IjoiY2hyaXNiYXJ0IiwiYSI6ImNrZTFtb3Z2bDAweTMyem1zcmthMGY0ejQifQ.3PzoCgSiG-1-sV1qJvO9Og"})};L.Map.mergeOptions({smoothWheelZoom:!0,smoothSensitivity:1});L.Map.SmoothWheelZoom=L.Handler.extend({addHooks:function(){L.DomEvent.on(this._map._container,"wheel",this._onWheelScroll,this)},removeHooks:function(){L.DomEvent.off(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){this._isWheeling||this._onWheelStart(i),this._onWheeling(i)},_onWheelStart:function(i){var t=this._map;this._isWheeling=!0,this._wheelMousePosition=t.mouseEventToContainerPoint(i),this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),this._wheelStartLatLng=t.containerPointToLatLng(this._wheelMousePosition),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),t._panAnim&&t._panAnim.stop(),this._goalZoom=t.getZoom(),this._prevCenter=t.getCenter(),this._prevZoom=t.getZoom(),this._zoomAnimationId=requestAnimationFrame(this._updateWheelZoom.bind(this))},_onWheeling:function(i){var t=this._map;this._goalZoom=this._goalZoom+L.DomEvent.getWheelDelta(i)*.003*t.options.smoothSensitivity,(this._goalZoom<t.getMinZoom()||this._goalZoom>t.getMaxZoom())&&(this._goalZoom=t._limitZoom(this._goalZoom)),this._wheelMousePosition=this._map.mouseEventToContainerPoint(i),clearTimeout(this._timeoutId),this._timeoutId=setTimeout(this._onWheelEnd.bind(this),200),L.DomEvent.preventDefault(i),L.DomEvent.stopPropagation(i)},_onWheelEnd:function(i){this._isWheeling=!1,cancelAnimationFrame(this._zoomAnimationId),this._map._moveEnd(!0)},_updateWheelZoom:function(){var i=this._map;if(!(!i.getCenter().equals(this._prevCenter)||i.getZoom()!=this._prevZoom)){this._zoom=i.getZoom()+(this._goalZoom-i.getZoom())*.3,this._zoom=Math.floor(this._zoom*100)/100;var t=this._wheelMousePosition.subtract(this._centerPoint);t.x===0&&t.y===0||(i.options.smoothWheelZoom==="center"?this._center=this._startLatLng:this._center=i.unproject(i.project(this._wheelStartLatLng,this._zoom).subtract(t),this._zoom),this._moved||(i._moveStart(!0,!1),this._moved=!0),i._move(this._center,this._zoom),this._prevCenter=i.getCenter(),this._prevZoom=i.getZoom(),this._zoomAnimationId=requestAnimationFrame(this._updateWheelZoom.bind(this)))}}});L.Map.addInitHook("addHandler","smoothWheelZoom",L.Map.SmoothWheelZoom);const markerPrefixClass="q-slider__marker-labels",defaultMarkerConvertFn=i=>({value:i}),defaultMarkerLabelRenderFn=({marker:i})=>h("div",{key:i.value,style:i.style,class:i.classes},i.label),keyCodes=[34,37,40,33,39,38],useSliderProps={...useDarkProps,...useFormProps,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:i=>i>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},useSliderEmits=["pan","update:modelValue","change"];function useSlider({updateValue:i,updatePosition:t,getDragging:e,formAttrs:n}){const{props:r,emit:a,slots:s,proxy:{$q:c}}=getCurrentInstance(),p=useDark(r,c),g=useFormInject(n),y=ref(!1),b=ref(!1),C=ref(!1),S=ref(!1),A=computed(()=>r.vertical===!0?"--v":"--h"),T=computed(()=>"-"+(r.switchLabelSide===!0?"switched":"standard")),I=computed(()=>r.vertical===!0?r.reverse===!0:r.reverse!==(c.lang.rtl===!0)),z=computed(()=>isNaN(r.innerMin)===!0||r.innerMin<r.min?r.min:r.innerMin),q=computed(()=>isNaN(r.innerMax)===!0||r.innerMax>r.max?r.max:r.innerMax),Y=computed(()=>r.disable!==!0&&r.readonly!==!0&&z.value<q.value),at=computed(()=>{if(r.step===0)return Yt=>Yt;const Pt=(String(r.step).trim().split(".")[1]||"").length;return Yt=>parseFloat(Yt.toFixed(Pt))}),G=computed(()=>r.step===0?1:r.step),ht=computed(()=>Y.value===!0?r.tabindex||0:-1),et=computed(()=>r.max-r.min),ot=computed(()=>q.value-z.value),vt=computed(()=>Zt(z.value)),wt=computed(()=>Zt(q.value)),_t=computed(()=>r.vertical===!0?I.value===!0?"bottom":"top":I.value===!0?"right":"left"),St=computed(()=>r.vertical===!0?"height":"width"),zt=computed(()=>r.vertical===!0?"width":"height"),bt=computed(()=>r.vertical===!0?"vertical":"horizontal"),Ct=computed(()=>{const Pt={role:"slider","aria-valuemin":z.value,"aria-valuemax":q.value,"aria-orientation":bt.value,"data-step":r.step};return r.disable===!0?Pt["aria-disabled"]="true":r.readonly===!0&&(Pt["aria-readonly"]="true"),Pt}),Tt=computed(()=>`q-slider q-slider${A.value} q-slider--${y.value===!0?"":"in"}active inline no-wrap `+(r.vertical===!0?"row":"column")+(r.disable===!0?" disabled":" q-slider--enabled"+(Y.value===!0?" q-slider--editable":""))+(C.value==="both"?" q-slider--focus":"")+(r.label||r.labelAlways===!0?" q-slider--label":"")+(r.labelAlways===!0?" q-slider--label-always":"")+(p.value===!0?" q-slider--dark":"")+(r.dense===!0?" q-slider--dense q-slider--dense"+A.value:""));function Et(Pt){const Yt="q-slider__"+Pt;return`${Yt} ${Yt}${A.value} ${Yt}${A.value}${T.value}`}function Bt(Pt){const Yt="q-slider__"+Pt;return`${Yt} ${Yt}${A.value}`}const Qt=computed(()=>{const Pt=r.selectionColor||r.color;return"q-slider__selection absolute"+(Pt!==void 0?` text-${Pt}`:"")}),At=computed(()=>Bt("markers")+" absolute overflow-hidden"),Xt=computed(()=>Bt("track-container")),ie=computed(()=>Et("pin")),Wt=computed(()=>Et("label")),$t=computed(()=>Et("text-container")),Ut=computed(()=>Et("marker-labels-container")+(r.markerLabelsClass!==void 0?` ${r.markerLabelsClass}`:"")),Ht=computed(()=>"q-slider__track relative-position no-outline"+(r.trackColor!==void 0?` bg-${r.trackColor}`:"")),re=computed(()=>{const Pt={[zt.value]:r.trackSize};return r.trackImg!==void 0&&(Pt.backgroundImage=`url(${r.trackImg}) !important`),Pt}),te=computed(()=>"q-slider__inner absolute"+(r.innerTrackColor!==void 0?` bg-${r.innerTrackColor}`:"")),Ft=computed(()=>{const Pt=wt.value-vt.value,Yt={[_t.value]:`${100*vt.value}%`,[St.value]:Pt===0?"2px":`${100*Pt}%`};return r.innerTrackImg!==void 0&&(Yt.backgroundImage=`url(${r.innerTrackImg}) !important`),Yt});function oe(Pt){const{min:Yt,max:fe,step:ye}=r;let we=Yt+Pt*(fe-Yt);if(ye>0){const $e=(we-z.value)%ye;we+=(Math.abs($e)>=ye/2?($e<0?-1:1)*ye:0)-$e}return we=at.value(we),between(we,z.value,q.value)}function Zt(Pt){return et.value===0?0:(Pt-r.min)/et.value}function ae(Pt,Yt){const fe=position(Pt),ye=r.vertical===!0?between((fe.top-Yt.top)/Yt.height,0,1):between((fe.left-Yt.left)/Yt.width,0,1);return between(I.value===!0?1-ye:ye,vt.value,wt.value)}const ce=computed(()=>isNumber$1(r.markers)===!0?r.markers:G.value),_e=computed(()=>{const Pt=[],Yt=ce.value,fe=r.max;let ye=r.min;do Pt.push(ye),ye+=Yt;while(ye<fe);return Pt.push(fe),Pt}),de=computed(()=>{const Pt=` ${markerPrefixClass}${A.value}-`;return markerPrefixClass+`${Pt}${r.switchMarkerLabelsSide===!0?"switched":"standard"}${Pt}${I.value===!0?"rtl":"ltr"}`}),xe=computed(()=>r.markerLabels===!1?null:ni(r.markerLabels).map((Pt,Yt)=>({index:Yt,value:Pt.value,label:Pt.label||Pt.value,classes:de.value+(Pt.classes!==void 0?" "+Pt.classes:""),style:{...li(Pt.value),...Pt.style||{}}}))),ve=computed(()=>({markerList:xe.value,markerMap:ze.value,classes:de.value,getStyle:li})),ii=computed(()=>{const Pt=ot.value===0?"2px":100*ce.value/ot.value;return{...Ft.value,backgroundSize:r.vertical===!0?`2px ${Pt}%`:`${Pt}% 2px`}});function ni(Pt){if(Pt===!1)return null;if(Pt===!0)return _e.value.map(defaultMarkerConvertFn);if(typeof Pt=="function")return _e.value.map(fe=>{const ye=Pt(fe);return isObject$1(ye)===!0?{...ye,value:fe}:{value:fe,label:ye}});const Yt=({value:fe})=>fe>=r.min&&fe<=r.max;return Array.isArray(Pt)===!0?Pt.map(fe=>isObject$1(fe)===!0?fe:{value:fe}).filter(Yt):Object.keys(Pt).map(fe=>{const ye=Pt[fe],we=Number(fe);return isObject$1(ye)===!0?{...ye,value:we}:{value:we,label:ye}}).filter(Yt)}function li(Pt){return{[_t.value]:`${100*(Pt-r.min)/et.value}%`}}const ze=computed(()=>{if(r.markerLabels===!1)return null;const Pt={};return xe.value.forEach(Yt=>{Pt[Yt.value]=Yt}),Pt});function fn(){if(s["marker-label-group"]!==void 0)return s["marker-label-group"](ve.value);const Pt=s["marker-label"]||defaultMarkerLabelRenderFn;return xe.value.map(Yt=>Pt({marker:Yt,...ve.value}))}const pn=computed(()=>[[TouchPan,An,void 0,{[bt.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function An(Pt){Pt.isFinal===!0?(S.value!==void 0&&(t(Pt.evt),Pt.touch===!0&&i(!0),S.value=void 0,a("pan","end")),y.value=!1,C.value=!1):Pt.isFirst===!0?(S.value=e(Pt.evt),t(Pt.evt),i(),y.value=!0,a("pan","start")):(t(Pt.evt),i())}function mn(){C.value=!1}function Qi(Pt){t(Pt,e(Pt)),i(),b.value=!0,y.value=!0,document.addEventListener("mouseup",Ti,!0)}function Ti(){b.value=!1,y.value=!1,i(!0),mn(),document.removeEventListener("mouseup",Ti,!0)}function Ki(Pt){t(Pt,e(Pt)),i(!0)}function Xi(Pt){keyCodes.includes(Pt.keyCode)&&i(!0)}function ji(Pt){if(r.vertical===!0)return null;const Yt=c.lang.rtl!==r.reverse?1-Pt:Pt;return{transform:`translateX(calc(${2*Yt-1} * ${r.thumbSize} / 2 + ${50-100*Yt}%))`}}function Ei(Pt){const Yt=computed(()=>b.value===!1&&(C.value===Pt.focusValue||C.value==="both")?" q-slider--focus":""),fe=computed(()=>`q-slider__thumb q-slider__thumb${A.value} q-slider__thumb${A.value}-${I.value===!0?"rtl":"ltr"} absolute non-selectable`+Yt.value+(Pt.thumbColor.value!==void 0?` text-${Pt.thumbColor.value}`:"")),ye=computed(()=>({width:r.thumbSize,height:r.thumbSize,[_t.value]:`${100*Pt.ratio.value}%`,zIndex:C.value===Pt.focusValue?2:void 0})),we=computed(()=>Pt.labelColor.value!==void 0?` text-${Pt.labelColor.value}`:""),$e=computed(()=>ji(Pt.ratio.value)),Ji=computed(()=>"q-slider__text"+(Pt.labelTextColor.value!==void 0?` text-${Pt.labelTextColor.value}`:""));return()=>{const Bi=[h("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[h("path",{d:r.thumbPath})]),h("div",{class:"q-slider__focus-ring fit"})];return(r.label===!0||r.labelAlways===!0)&&(Bi.push(h("div",{class:ie.value+" absolute fit no-pointer-events"+we.value},[h("div",{class:Wt.value,style:{minWidth:r.thumbSize}},[h("div",{class:$t.value,style:$e.value},[h("span",{class:Ji.value},Pt.label.value)])])])),r.name!==void 0&&r.disable!==!0&&g(Bi,"push")),h("div",{class:fe.value,style:ye.value,...Pt.getNodeData()},Bi)}}function ui(Pt,Yt,fe,ye){const we=[];r.innerTrackColor!=="transparent"&&we.push(h("div",{key:"inner",class:te.value,style:Ft.value})),r.selectionColor!=="transparent"&&we.push(h("div",{key:"selection",class:Qt.value,style:Pt.value})),r.markers!==!1&&we.push(h("div",{key:"marker",class:At.value,style:ii.value})),ye(we);const $e=[hDir("div",{key:"trackC",class:Xt.value,tabindex:Yt.value,...fe.value},[h("div",{class:Ht.value,style:re.value},we)],"slide",Y.value,()=>pn.value)];if(r.markerLabels!==!1){const Ji=r.switchMarkerLabelsSide===!0?"unshift":"push";$e[Ji](h("div",{key:"markerL",class:Ut.value},fn()))}return $e}return onBeforeUnmount(()=>{document.removeEventListener("mouseup",Ti,!0)}),{state:{active:y,focus:C,preventFocus:b,dragging:S,editable:Y,classes:Tt,tabindex:ht,attributes:Ct,roundValueFn:at,keyStep:G,trackLen:et,innerMin:z,innerMinRatio:vt,innerMax:q,innerMaxRatio:wt,positionProp:_t,sizeProp:St,isReversed:I},methods:{onActivate:Qi,onMobileClick:Ki,onBlur:mn,onKeyup:Xi,getContent:ui,getThumbRenderFn:Ei,convertRatioToModel:oe,convertModelToRatio:Zt,getDraggingRatio:ae}}}const getNodeData=()=>({});var QSlider=createComponent({name:"QSlider",props:{...useSliderProps,modelValue:{required:!0,default:null,validator:i=>typeof i=="number"||i===null},labelValue:[String,Number]},emits:useSliderEmits,setup(i,{emit:t}){const{proxy:{$q:e}}=getCurrentInstance(),{state:n,methods:r}=useSlider({updateValue:A,updatePosition:I,getDragging:T,formAttrs:useFormAttrs(i)}),a=ref(null),s=ref(0),c=ref(0);function p(){c.value=i.modelValue===null?n.innerMin.value:between(i.modelValue,n.innerMin.value,n.innerMax.value)}watch(()=>`${i.modelValue}|${n.innerMin.value}|${n.innerMax.value}`,p),p();const g=computed(()=>r.convertModelToRatio(c.value)),y=computed(()=>n.active.value===!0?s.value:g.value),b=computed(()=>{const Y={[n.positionProp.value]:`${100*n.innerMinRatio.value}%`,[n.sizeProp.value]:`${100*(y.value-n.innerMinRatio.value)}%`};return i.selectionImg!==void 0&&(Y.backgroundImage=`url(${i.selectionImg}) !important`),Y}),C=r.getThumbRenderFn({focusValue:!0,getNodeData,ratio:y,label:computed(()=>i.labelValue!==void 0?i.labelValue:c.value),thumbColor:computed(()=>i.thumbColor||i.color),labelColor:computed(()=>i.labelColor),labelTextColor:computed(()=>i.labelTextColor)}),S=computed(()=>n.editable.value!==!0?{}:e.platform.is.mobile===!0?{onClick:r.onMobileClick}:{onMousedown:r.onActivate,onFocus:z,onBlur:r.onBlur,onKeydown:q,onKeyup:r.onKeyup});function A(Y){c.value!==i.modelValue&&t("update:modelValue",c.value),Y===!0&&t("change",c.value)}function T(){return a.value.getBoundingClientRect()}function I(Y,at=n.dragging.value){const G=r.getDraggingRatio(Y,at);c.value=r.convertRatioToModel(G),s.value=i.snap!==!0||i.step===0?G:r.convertModelToRatio(c.value)}function z(){n.focus.value=!0}function q(Y){if(!keyCodes.includes(Y.keyCode))return;stopAndPrevent(Y);const at=([34,33].includes(Y.keyCode)?10:1)*n.keyStep.value,G=([34,37,40].includes(Y.keyCode)?-1:1)*(n.isReversed.value===!0?-1:1)*(i.vertical===!0?-1:1)*at;c.value=between(n.roundValueFn.value(c.value+G),n.innerMin.value,n.innerMax.value),A()}return()=>{const Y=r.getContent(b,n.tabindex,S,at=>{at.push(C())});return h("div",{ref:a,class:n.classes.value+(i.modelValue===null?" q-slider--no-value":""),...n.attributes.value,"aria-valuenow":i.modelValue},Y)}}});const useRasterStore=defineStore({id:"fetchRasterStore",state:()=>({selectedDate:"20231105",selectedYear:"100",layerName:"UG_GMES_ocean_state_forecast",selectedRaster:"UG_GMES_ocean_state_forecast",selectedLayerName:"",currentSelectedRaster:"",ecosystemLayers:{landcover:"landcover2020",mangrove:"mangrove2020"},layerList:["mangrove2020"]}),getters:{getSelectedDate:i=>i.selectedDate,getLayerName:i=>i.layerName,getselectedRaster:i=>i.selectedRaster,getselectedLayerName:i=>i.selectedLayerName,getecosystemLayers:i=>i.ecosystemLayers,getLayerList:i=>i.layerList,getSelectedYear:i=>i.selectedYear},actions:{setSelectedDate(i){const t=i.getDate(),e=i.getMonth()+1,n=i.getFullYear(),r=t.toString().padStart(2,"0"),a=e.toString().padStart(2,"0");this.selectedDate=`${n}${a}${r}`,console.log(this.selectedDate)},setSelectedYear(i){this.selectedYear=i},setLayerName(i){this.layerName=i},setEcosystemLayerName(i,t){this.ecosystemLayers.hasOwnProperty(i)&&(this.ecosystemLayers[i]=t),console.log(this.ecosystemLayers)},updateLayerList(i){this.layerList=i,console.log(this.layerList)},setSelectedLayerName(){switch(this.layerName){case"Landcover":this.slectedLayerName="ESA WorldCover 10m";break;case"Mangrove":this.slectedLayerName="Mangrove Cover";break;case"SST":this.slectedLayerName="Sea Surface Temperature (SST)";break;case"SALT":this.slectedLayerName="Sea Surface Salinity (SSSal)";break;case"SSH":this.slectedLayerName="Sea Surface Height (SSH)";break;case"SWH":this.slectedLayerName="Significant Wave Height (SWH)";break;case"SSC":this.slectedLayerName="Sea Surface Currents (SSC)";break;default:this.selectedLayerName="Ocean State";break}}}});function addMonths(i,t){requiredArgs(2,arguments);var e=toDate(i),n=toInteger(t);if(isNaN(n))return new Date(NaN);if(!n)return e;var r=e.getDate(),a=new Date(e.getTime());a.setMonth(e.getMonth()+n+1,0);var s=a.getDate();return r>=s?a:(e.setFullYear(a.getFullYear(),a.getMonth(),r),e)}function add(i,t){if(requiredArgs(2,arguments),!t||_typeof(t)!=="object")return new Date(NaN);var e=t.years?toInteger(t.years):0,n=t.months?toInteger(t.months):0,r=t.weeks?toInteger(t.weeks):0,a=t.days?toInteger(t.days):0,s=t.hours?toInteger(t.hours):0,c=t.minutes?toInteger(t.minutes):0,p=t.seconds?toInteger(t.seconds):0,g=toDate(i),y=n||e?addMonths(g,n+e*12):g,b=a||r?addDays(y,a+r*7):y,C=c+s*60,S=p+C*60,A=S*1e3,T=new Date(b.getTime()+A);return T}var MILLISECONDS_IN_HOUR=36e5;function addHours(i,t){requiredArgs(2,arguments);var e=toInteger(t);return addMilliseconds(i,e*MILLISECONDS_IN_HOUR)}function startOfWeek(i,t){var e,n,r,a,s,c,p,g;requiredArgs(1,arguments);var y=getDefaultOptions(),b=toInteger((e=(n=(r=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(s=t.locale)===null||s===void 0||(c=s.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:y.weekStartsOn)!==null&&n!==void 0?n:(p=y.locale)===null||p===void 0||(g=p.options)===null||g===void 0?void 0:g.weekStartsOn)!==null&&e!==void 0?e:0);if(!(b>=0&&b<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var C=toDate(i),S=C.getDay(),A=(S<b?7:0)+S-b;return C.setDate(C.getDate()-A),C.setHours(0,0,0,0),C}function startOfDay(i){requiredArgs(1,arguments);var t=toDate(i);return t.setHours(0,0,0,0),t}var MILLISECONDS_IN_DAY=864e5;function differenceInCalendarDays(i,t){requiredArgs(2,arguments);var e=startOfDay(i),n=startOfDay(t),r=e.getTime()-getTimezoneOffsetInMilliseconds(e),a=n.getTime()-getTimezoneOffsetInMilliseconds(n);return Math.round((r-a)/MILLISECONDS_IN_DAY)}var MILLISECONDS_IN_MINUTE=6e4;function addMinutes(i,t){requiredArgs(2,arguments);var e=toInteger(t);return addMilliseconds(i,e*MILLISECONDS_IN_MINUTE)}function addQuarters(i,t){requiredArgs(2,arguments);var e=toInteger(t),n=e*3;return addMonths(i,n)}function addSeconds(i,t){requiredArgs(2,arguments);var e=toInteger(t);return addMilliseconds(i,e*1e3)}function addWeeks(i,t){requiredArgs(2,arguments);var e=toInteger(t),n=e*7;return addDays(i,n)}function addYears(i,t){requiredArgs(2,arguments);var e=toInteger(t);return addMonths(i,e*12)}function compareAsc(i,t){requiredArgs(2,arguments);var e=toDate(i),n=toDate(t),r=e.getTime()-n.getTime();return r<0?-1:r>0?1:r}var millisecondsInMinute=6e4,millisecondsInHour=36e5,millisecondsInSecond=1e3;function differenceInCalendarMonths(i,t){requiredArgs(2,arguments);var e=toDate(i),n=toDate(t),r=e.getFullYear()-n.getFullYear(),a=e.getMonth()-n.getMonth();return r*12+a}function differenceInCalendarYears(i,t){requiredArgs(2,arguments);var e=toDate(i),n=toDate(t);return e.getFullYear()-n.getFullYear()}function compareLocalAsc(i,t){var e=i.getFullYear()-t.getFullYear()||i.getMonth()-t.getMonth()||i.getDate()-t.getDate()||i.getHours()-t.getHours()||i.getMinutes()-t.getMinutes()||i.getSeconds()-t.getSeconds()||i.getMilliseconds()-t.getMilliseconds();return e<0?-1:e>0?1:e}function differenceInDays(i,t){requiredArgs(2,arguments);var e=toDate(i),n=toDate(t),r=compareLocalAsc(e,n),a=Math.abs(differenceInCalendarDays(e,n));e.setDate(e.getDate()-r*a);var s=Number(compareLocalAsc(e,n)===-r),c=r*(a-s);return c===0?0:c}function differenceInMilliseconds(i,t){return requiredArgs(2,arguments),toDate(i).getTime()-toDate(t).getTime()}var roundingMap={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function i(t){return t<0?Math.ceil(t):Math.floor(t)}},defaultRoundingMethod="trunc";function getRoundingMethod(i){return i?roundingMap[i]:roundingMap[defaultRoundingMethod]}function differenceInHours(i,t,e){requiredArgs(2,arguments);var n=differenceInMilliseconds(i,t)/millisecondsInHour;return getRoundingMethod(e==null?void 0:e.roundingMethod)(n)}function differenceInMinutes(i,t,e){requiredArgs(2,arguments);var n=differenceInMilliseconds(i,t)/millisecondsInMinute;return getRoundingMethod(e==null?void 0:e.roundingMethod)(n)}function endOfDay(i){requiredArgs(1,arguments);var t=toDate(i);return t.setHours(23,59,59,999),t}function endOfMonth(i){requiredArgs(1,arguments);var t=toDate(i),e=t.getMonth();return t.setFullYear(t.getFullYear(),e+1,0),t.setHours(23,59,59,999),t}function isLastDayOfMonth(i){requiredArgs(1,arguments);var t=toDate(i);return endOfDay(t).getTime()===endOfMonth(t).getTime()}function differenceInMonths(i,t){requiredArgs(2,arguments);var e=toDate(i),n=toDate(t),r=compareAsc(e,n),a=Math.abs(differenceInCalendarMonths(e,n)),s;if(a<1)s=0;else{e.getMonth()===1&&e.getDate()>27&&e.setDate(30),e.setMonth(e.getMonth()-r*a);var c=compareAsc(e,n)===-r;isLastDayOfMonth(toDate(i))&&a===1&&compareAsc(i,n)===1&&(c=!1),s=r*(a-Number(c))}return s===0?0:s}function differenceInQuarters(i,t,e){requiredArgs(2,arguments);var n=differenceInMonths(i,t)/3;return getRoundingMethod(e==null?void 0:e.roundingMethod)(n)}function differenceInSeconds(i,t,e){requiredArgs(2,arguments);var n=differenceInMilliseconds(i,t)/1e3;return getRoundingMethod(e==null?void 0:e.roundingMethod)(n)}function differenceInWeeks(i,t,e){requiredArgs(2,arguments);var n=differenceInDays(i,t)/7;return getRoundingMethod(e==null?void 0:e.roundingMethod)(n)}function differenceInYears(i,t){requiredArgs(2,arguments);var e=toDate(i),n=toDate(t),r=compareAsc(e,n),a=Math.abs(differenceInCalendarYears(e,n));e.setFullYear(1584),n.setFullYear(1584);var s=compareAsc(e,n)===-r,c=r*(a-Number(s));return c===0?0:c}function eachDayOfInterval(i,t){var e;requiredArgs(1,arguments);var n=i||{},r=toDate(n.start),a=toDate(n.end),s=a.getTime();if(!(r.getTime()<=s))throw new RangeError("Invalid interval");var c=[],p=r;p.setHours(0,0,0,0);var g=Number((e=t==null?void 0:t.step)!==null&&e!==void 0?e:1);if(g<1||isNaN(g))throw new RangeError("`options.step` must be a number greater than 1");for(;p.getTime()<=s;)c.push(toDate(p)),p.setDate(p.getDate()+g),p.setHours(0,0,0,0);return c}function startOfMinute(i){requiredArgs(1,arguments);var t=toDate(i);return t.setSeconds(0,0),t}function startOfQuarter(i){requiredArgs(1,arguments);var t=toDate(i),e=t.getMonth(),n=e-e%3;return t.setMonth(n,1),t.setHours(0,0,0,0),t}function startOfMonth(i){requiredArgs(1,arguments);var t=toDate(i);return t.setDate(1),t.setHours(0,0,0,0),t}function endOfYear(i){requiredArgs(1,arguments);var t=toDate(i),e=t.getFullYear();return t.setFullYear(e+1,0,0),t.setHours(23,59,59,999),t}function startOfYear(i){requiredArgs(1,arguments);var t=toDate(i),e=new Date(0);return e.setFullYear(t.getFullYear(),0,1),e.setHours(0,0,0,0),e}function endOfHour(i){requiredArgs(1,arguments);var t=toDate(i);return t.setMinutes(59,59,999),t}function endOfWeek(i,t){var e,n,r,a,s,c,p,g;requiredArgs(1,arguments);var y=getDefaultOptions(),b=toInteger((e=(n=(r=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(s=t.locale)===null||s===void 0||(c=s.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:y.weekStartsOn)!==null&&n!==void 0?n:(p=y.locale)===null||p===void 0||(g=p.options)===null||g===void 0?void 0:g.weekStartsOn)!==null&&e!==void 0?e:0);if(!(b>=0&&b<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var C=toDate(i),S=C.getDay(),A=(S<b?-7:0)+6-(S-b);return C.setDate(C.getDate()+A),C.setHours(23,59,59,999),C}function endOfMinute(i){requiredArgs(1,arguments);var t=toDate(i);return t.setSeconds(59,999),t}function endOfQuarter(i){requiredArgs(1,arguments);var t=toDate(i),e=t.getMonth(),n=e-e%3+3;return t.setMonth(n,0),t.setHours(23,59,59,999),t}function endOfSecond(i){requiredArgs(1,arguments);var t=toDate(i);return t.setMilliseconds(999),t}function assign(i,t){if(i==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(i[e]=t[e]);return i}function getDayOfYear(i){requiredArgs(1,arguments);var t=toDate(i),e=differenceInCalendarDays(t,startOfYear(t)),n=e+1;return n}function _arrayLikeToArray(i,t){(t==null||t>i.length)&&(t=i.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=i[e];return n}function _unsupportedIterableToArray(i,t){if(!!i){if(typeof i=="string")return _arrayLikeToArray(i,t);var e=Object.prototype.toString.call(i).slice(8,-1);if(e==="Object"&&i.constructor&&(e=i.constructor.name),e==="Map"||e==="Set")return Array.from(i);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return _arrayLikeToArray(i,t)}}function _createForOfIteratorHelper(i,t){var e=typeof Symbol!="undefined"&&i[Symbol.iterator]||i["@@iterator"];if(!e){if(Array.isArray(i)||(e=_unsupportedIterableToArray(i))||t&&i&&typeof i.length=="number"){e&&(i=e);var n=0,r=function(){};return{s:r,n:function(){return n>=i.length?{done:!0}:{done:!1,value:i[n++]}},e:function(g){throw g},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,s=!1,c;return{s:function(){e=e.call(i)},n:function(){var g=e.next();return a=g.done,g},e:function(g){s=!0,c=g},f:function(){try{!a&&e.return!=null&&e.return()}finally{if(s)throw c}}}}function _assertThisInitialized(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _setPrototypeOf(i,t){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},_setPrototypeOf(i,t)}function _inherits(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),t&&_setPrototypeOf(i,t)}function _getPrototypeOf(i){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(i)}function _isNativeReflectConstruct(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _possibleConstructorReturn(i,t){if(t&&(_typeof(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(i)}function _createSuper(i){var t=_isNativeReflectConstruct();return function(){var n=_getPrototypeOf(i),r;if(t){var a=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _classCallCheck(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function _toPrimitive(i,t){if(_typeof(i)!=="object"||i===null)return i;var e=i[Symbol.toPrimitive];if(e!==void 0){var n=e.call(i,t||"default");if(_typeof(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function _toPropertyKey(i){var t=_toPrimitive(i,"string");return _typeof(t)==="symbol"?t:String(t)}function _defineProperties(i,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,_toPropertyKey(n.key),n)}}function _createClass(i,t,e){return t&&_defineProperties(i.prototype,t),e&&_defineProperties(i,e),Object.defineProperty(i,"prototype",{writable:!1}),i}function _defineProperty(i,t,e){return t=_toPropertyKey(t),t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}var TIMEZONE_UNIT_PRIORITY=10,Setter=function(){function i(){_classCallCheck(this,i),_defineProperty(this,"priority",void 0),_defineProperty(this,"subPriority",0)}return _createClass(i,[{key:"validate",value:function(e,n){return!0}}]),i}(),ValueSetter=function(i){_inherits(e,i);var t=_createSuper(e);function e(n,r,a,s,c){var p;return _classCallCheck(this,e),p=t.call(this),p.value=n,p.validateValue=r,p.setValue=a,p.priority=s,c&&(p.subPriority=c),p}return _createClass(e,[{key:"validate",value:function(r,a){return this.validateValue(r,this.value,a)}},{key:"set",value:function(r,a,s){return this.setValue(r,a,this.value,s)}}]),e}(Setter),DateToSystemTimezoneSetter=function(i){_inherits(e,i);var t=_createSuper(e);function e(){var n;_classCallCheck(this,e);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a)),_defineProperty(_assertThisInitialized(n),"priority",TIMEZONE_UNIT_PRIORITY),_defineProperty(_assertThisInitialized(n),"subPriority",-1),n}return _createClass(e,[{key:"set",value:function(r,a){if(a.timestampIsSet)return r;var s=new Date(0);return s.setFullYear(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),s.setHours(r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()),s}}]),e}(Setter),Parser=function(){function i(){_classCallCheck(this,i),_defineProperty(this,"incompatibleTokens",void 0),_defineProperty(this,"priority",void 0),_defineProperty(this,"subPriority",void 0)}return _createClass(i,[{key:"run",value:function(e,n,r,a){var s=this.parse(e,n,r,a);return s?{setter:new ValueSetter(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}},{key:"validate",value:function(e,n,r){return!0}}]),i}(),EraParser=function(i){_inherits(e,i);var t=_createSuper(e);function e(){var n;_classCallCheck(this,e);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a)),_defineProperty(_assertThisInitialized(n),"priority",140),_defineProperty(_assertThisInitialized(n),"incompatibleTokens",["R","u","t","T"]),n}return _createClass(e,[{key:"parse",value:function(r,a,s){switch(a){case"G":case"GG":case"GGG":return s.era(r,{width:"abbreviated"})||s.era(r,{width:"narrow"});case"GGGGG":return s.era(r,{width:"narrow"});case"GGGG":default:return s.era(r,{width:"wide"})||s.era(r,{width:"abbreviated"})||s.era(r,{width:"narrow"})}}},{key:"set",value:function(r,a,s){return a.era=s,r.setUTCFullYear(s,0,1),r.setUTCHours(0,0,0,0),r}}]),e}(Parser),numericPatterns={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},timezonePatterns={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function mapValue(i,t){return i&&{value:t(i.value),rest:i.rest}}function parseNumericPattern(i,t){var e=t.match(i);return e?{value:parseInt(e[0],10),rest:t.slice(e[0].length)}:null}function parseTimezonePattern(i,t){var e=t.match(i);if(!e)return null;if(e[0]==="Z")return{value:0,rest:t.slice(1)};var n=e[1]==="+"?1:-1,r=e[2]?parseInt(e[2],10):0,a=e[3]?parseInt(e[3],10):0,s=e[5]?parseInt(e[5],10):0;return{value:n*(r*millisecondsInHour+a*millisecondsInMinute+s*millisecondsInSecond),rest:t.slice(e[0].length)}}function parseAnyDigitsSigned(i){return parseNumericPattern(numericPatterns.anyDigitsSigned,i)}function parseNDigits(i,t){switch(i){case 1:return parseNumericPattern(numericPatterns.singleDigit,t);case 2:return parseNumericPattern(numericPatterns.twoDigits,t);case 3:return parseNumericPattern(numericPatterns.threeDigits,t);case 4:return parseNumericPattern(numericPatterns.fourDigits,t);default:return parseNumericPattern(new RegExp("^\\d{1,"+i+"}"),t)}}function parseNDigitsSigned(i,t){switch(i){case 1:return parseNumericPattern(numericPatterns.singleDigitSigned,t);case 2:return parseNumericPattern(numericPatterns.twoDigitsSigned,t);case 3:return parseNumericPattern(numericPatterns.threeDigitsSigned,t);case 4:return parseNumericPattern(numericPatterns.fourDigitsSigned,t);default:return parseNumericPattern(new RegExp("^-?\\d{1,"+i+"}"),t)}}function dayPeriodEnumToHours(i){switch(i){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function normalizeTwoDigitYear(i,t){var e=t>0,n=e?t:1-t,r;if(n<=50)r=i||100;else{var a=n+50,s=Math.floor(a/100)*100,c=i>=a%100;r=i+s-(c?100:0)}return e?r:1-r}function isLeapYearIndex$1(i){return i%400===0||i%4===0&&i%100!==0}var YearParser=function(i){_inherits(e,i);var t=_createSuper(e);function e(){var n;_classCallCheck(this,e);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a)),_defineProperty(_assertThisInitialized(n),"priority",130),_defineProperty(_assertThisInitialized(n),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),n}return _createClass(e,[{key:"parse",value:function(r,a,s){var c=function(g){return{year:g,isTwoDigitYear:a==="yy"}};switch(a){case"y":return mapValue(parseNDigits(4,r),c);case"yo":return mapValue(s.ordinalNumber(r,{unit:"year"}),c);default:return mapValue(parseNDigits(a.length,r),c)}}},{key:"validate",value:function(r,a){return a.isTwoDigitYear||a.year>0}},{key:"set",value:function(r,a,s){var c=r.getUTCFullYear();if(s.isTwoDigitYear){var p=normalizeTwoDigitYear(s.year,c);return r.setUTCFullYear(p,0,1),r.setUTCHours(0,0,0,0),r}var g=!("era"in a)||a.era===1?s.year:1-s.year;return r.setUTCFullYear(g,0,1),r.setUTCHours(0,0,0,0),r}}]),e}(Parser),LocalWeekYearParser=function(i){_inherits(e,i);var t=_createSuper(e);function e(){var n;_classCallCheck(this,e);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a)),_defineProperty(_assertThisInitialized(n),"priority",130),_defineProperty(_assertThisInitialized(n),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),n}return _createClass(e,[{key:"parse",value:function(r,a,s){var c=function(g){return{year:g,isTwoDigitYear:a==="YY"}};switch(a){case"Y":return mapValue(parseNDigits(4,r),c);case"Yo":return mapValue(s.ordinalNumber(r,{unit:"year"}),c);default:return mapValue(parseNDigits(a.length,r),c)}}},{key:"validate",value:function(r,a){return a.isTwoDigitYear||a.year>0}},{key:"set",value:function(r,a,s,c){var p=getUTCWeekYear(r,c);if(s.isTwoDigitYear){var g=normalizeTwoDigitYear(s.year,p);return r.setUTCFullYear(g,0,c.firstWeekContainsDate),r.setUTCHours(0,0,0,0),startOfUTCWeek(r,c)}var y=!("era"in a)||a.era===1?s.year:1-s.year;return r.setUTCFullYear(y,0,c.firstWeekContainsDate),r.setUTCHours(0,0,0,0),startOfUTCWeek(r,c)}}]),e}(Parser),ISOWeekYearParser=function(i){_inherits(e,i);var t=_createSuper(e);function e(){var n;_classCallCheck(this,e);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a)),_defineProperty(_assertThisInitialized(n),"priority",130),_defineProperty(_assertThisInitialized(n),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),n}return _createClass(e,[{key:"parse",value:function(r,a){return parseNDigitsSigned(a==="R"?4:a.length,r)}},{key:"set",value:function(r,a,s){var c=new Date(0);return c.setUTCFullYear(s,0,4),c.setUTCHours(0,0,0,0),startOfUTCISOWeek(c)}}]),e}(Parser),ExtendedYearParser=function(i){_inherits(e,i);var t=_createSuper(e);function e(){var n;_classCallCheck(this,e);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a)),_defineProperty(_assertThisInitialized(n),"priority",130),_defineProperty(_assertThisInitialized(n),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),n}return _createClass(e,[{key:"parse",value:function(r,a){return parseNDigitsSigned(a==="u"?4:a.length,r)}},{key:"set",value:function(r,a,s){return r.setUTCFullYear(s,0,1),r.setUTCHours(0,0,0,0),r}}]),e}(Parser),QuarterParser=function(i){_inherits(e,i);var t=_createSuper(e);function e(){var n;_classCallCheck(this,e);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a)),_defineProperty(_assertThisInitialized(n),"priority",120),_defineProperty(_assertThisInitialized(n),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),n}return _createClass(e,[{key:"parse",value:function(r,a,s){switch(a){case"Q":case"QQ":return parseNDigits(a.length,r);case"Qo":return s.ordinalNumber(r,{unit:"quarter"});case"QQQ":return s.quarter(r,{width:"abbreviated",context:"formatting"})||s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(r,{width:"wide",context:"formatting"})||s.quarter(r,{width:"abbreviated",context:"formatting"})||s.quarter(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,a){return a>=1&&a<=4}},{key:"set",value:function(r,a,s){return r.setUTCMonth((s-1)*3,1),r.setUTCHours(0,0,0,0),r}}]),e}(Parser),StandAloneQuarterParser=function(i){_inherits(e,i);var t=_createSuper(e);function e(){var n;_classCallCheck(this,e);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a)),_defineProperty(_assertThisInitialized(n),"priority",120),_defineProperty(_assertThisInitialized(n),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),n}return _createClass(e,[{key:"parse",value:function(r,a,s){switch(a){case"q":case"qq":return parseNDigits(a.length,r);case"qo":return s.ordinalNumber(r,{unit:"quarter"});case"qqq":return s.quarter(r,{width:"abbreviated",context:"standalone"})||s.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(r,{width:"wide",context:"standalone"})||s.quarter(r,{width:"abbreviated",context:"standalone"})||s.quarter(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,a){return a>=1&&a<=4}},{key:"set",value:function(r,a,s){return r.setUTCMonth((s-1)*3,1),r.setUTCHours(0,0,0,0),r}}]),e}(Parser),MonthParser=function(i){_inherits(e,i);var t=_createSuper(e);function e(){var n;_classCallCheck(this,e);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a)),_defineProperty(_assertThisInitialized(n),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),_defineProperty(_assertThisInitialized(n),"priority",110),n}return _createClass(e,[{key:"parse",value:function(r,a,s){var c=function(g){return g-1};switch(a){case"M":return mapValue(parseNumericPattern(numericPatterns.month,r),c);case"MM":return mapValue(parseNDigits(2,r),c);case"Mo":return mapValue(s.ordinalNumber(r,{unit:"month"}),c);case"MMM":return s.month(r,{width:"abbreviated",context:"formatting"})||s.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(r,{width:"wide",context:"formatting"})||s.month(r,{width:"abbreviated",context:"formatting"})||s.month(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,a){return a>=0&&a<=11}},{key:"set",value:function(r,a,s){return r.setUTCMonth(s,1),r.setUTCHours(0,0,0,0),r}}]),e}(Parser),StandAloneMonthParser=function(i){_inherits(e,i);var t=_createSuper(e);function e(){var n;_classCallCheck(this,e);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a)),_defineProperty(_assertThisInitialized(n),"priority",110),_defineProperty(_assertThisInitialized(n),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),n}return _createClass(e,[{key:"parse",value:function(r,a,s){var c=function(g){return g-1};switch(a){case"L":return mapValue(parseNumericPattern(numericPatterns.month,r),c);case"LL":return mapValue(parseNDigits(2,r),c);case"Lo":return mapValue(s.ordinalNumber(r,{unit:"month"}),c);case"LLL":return s.month(r,{width:"abbreviated",context:"standalone"})||s.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(r,{width:"wide",context:"standalone"})||s.month(r,{width:"abbreviated",context:"standalone"})||s.month(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,a){return a>=0&&a<=11}},{key:"set",value:function(r,a,s){return r.setUTCMonth(s,1),r.setUTCHours(0,0,0,0),r}}]),e}(Parser);function setUTCWeek(i,t,e){requiredArgs(2,arguments);var n=toDate(i),r=toInteger(t),a=getUTCWeek(n,e)-r;return n.setUTCDate(n.getUTCDate()-a*7),n}var LocalWeekParser=function(i){_inherits(e,i);var t=_createSuper(e);function e(){var n;_classCallCheck(this,e);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a)),_defineProperty(_assertThisInitialized(n),"priority",100),_defineProperty(_assertThisInitialized(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),n}return _createClass(e,[{key:"parse",value:function(r,a,s){switch(a){case"w":return parseNumericPattern(numericPatterns.week,r);case"wo":return s.ordinalNumber(r,{unit:"week"});default:return parseNDigits(a.length,r)}}},{key:"validate",value:function(r,a){return a>=1&&a<=53}},{key:"set",value:function(r,a,s,c){return startOfUTCWeek(setUTCWeek(r,s,c),c)}}]),e}(Parser);function setUTCISOWeek(i,t){requiredArgs(2,arguments);var e=toDate(i),n=toInteger(t),r=getUTCISOWeek(e)-n;return e.setUTCDate(e.getUTCDate()-r*7),e}var ISOWeekParser=function(i){_inherits(e,i);var t=_createSuper(e);function e(){var n;_classCallCheck(this,e);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a)),_defineProperty(_assertThisInitialized(n),"priority",100),_defineProperty(_assertThisInitialized(n),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),n}return _createClass(e,[{key:"parse",value:function(r,a,s){switch(a){case"I":return parseNumericPattern(numericPatterns.week,r);case"Io":return s.ordinalNumber(r,{unit:"week"});default:return parseNDigits(a.length,r)}}},{key:"validate",value:function(r,a){return a>=1&&a<=53}},{key:"set",value:function(r,a,s){return startOfUTCISOWeek(setUTCISOWeek(r,s))}}]),e}(Parser),DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31],DAYS_IN_MONTH_LEAP_YEAR=[31,29,31,30,31,30,31,31,30,31,30,31],DateParser=function(i){_inherits(e,i);var t=_createSuper(e);function e(){var n;_classCallCheck(this,e);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a)),_defineProperty(_assertThisInitialized(n),"priority",90),_defineProperty(_assertThisInitialized(n),"subPriority",1),_defineProperty(_assertThisInitialized(n),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),n}return _createClass(e,[{key:"parse",value:function(r,a,s){switch(a){case"d":return parseNumericPattern(numericPatterns.date,r);case"do":return s.ordinalNumber(r,{unit:"date"});default:return parseNDigits(a.length,r)}}},{key:"validate",value:function(r,a){var s=r.getUTCFullYear(),c=isLeapYearIndex$1(s),p=r.getUTCMonth();return c?a>=1&&a<=DAYS_IN_MONTH_LEAP_YEAR[p]:a>=1&&a<=DAYS_IN_MONTH[p]}},{key:"set",value:function(r,a,s){return r.setUTCDate(s),r.setUTCHours(0,0,0,0),r}}]),e}(Parser),DayOfYearParser=function(i){_inherits(e,i);var t=_createSuper(e);function e(){var n;_classCallCheck(this,e);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a)),_defineProperty(_assertThisInitialized(n),"priority",90),_defineProperty(_assertThisInitialized(n),"subpriority",1),_defineProperty(_assertThisInitialized(n),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),n}return _createClass(e,[{key:"parse",value:function(r,a,s){switch(a){case"D":case"DD":return parseNumericPattern(numericPatterns.dayOfYear,r);case"Do":return s.ordinalNumber(r,{unit:"date"});default:return parseNDigits(a.length,r)}}},{key:"validate",value:function(r,a){var s=r.getUTCFullYear(),c=isLeapYearIndex$1(s);return c?a>=1&&a<=366:a>=1&&a<=365}},{key:"set",value:function(r,a,s){return r.setUTCMonth(0,s),r.setUTCHours(0,0,0,0),r}}]),e}(Parser);function setUTCDay(i,t,e){var n,r,a,s,c,p,g,y;requiredArgs(2,arguments);var b=getDefaultOptions(),C=toInteger((n=(r=(a=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(c=e.locale)===null||c===void 0||(p=c.options)===null||p===void 0?void 0:p.weekStartsOn)!==null&&a!==void 0?a:b.weekStartsOn)!==null&&r!==void 0?r:(g=b.locale)===null||g===void 0||(y=g.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&n!==void 0?n:0);if(!(C>=0&&C<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var S=toDate(i),A=toInteger(t),T=S.getUTCDay(),I=A%7,z=(I+7)%7,q=(z<C?7:0)+A-T;return S.setUTCDate(S.getUTCDate()+q),S}var DayParser=function(i){_inherits(e,i);var t=_createSuper(e);function e(){var n;_classCallCheck(this,e);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a)),_defineProperty(_assertThisInitialized(n),"priority",90),_defineProperty(_assertThisInitialized(n),"incompatibleTokens",["D","i","e","c","t","T"]),n}return _createClass(e,[{key:"parse",value:function(r,a,s){switch(a){case"E":case"EE":case"EEE":return s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,a){return a>=0&&a<=6}},{key:"set",value:function(r,a,s,c){return r=setUTCDay(r,s,c),r.setUTCHours(0,0,0,0),r}}]),e}(Parser),LocalDayParser=function(i){_inherits(e,i);var t=_createSuper(e);function e(){var n;_classCallCheck(this,e);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a)),_defineProperty(_assertThisInitialized(n),"priority",90),_defineProperty(_assertThisInitialized(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),n}return _createClass(e,[{key:"parse",value:function(r,a,s,c){var p=function(y){var b=Math.floor((y-1)/7)*7;return(y+c.weekStartsOn+6)%7+b};switch(a){case"e":case"ee":return mapValue(parseNDigits(a.length,r),p);case"eo":return mapValue(s.ordinalNumber(r,{unit:"day"}),p);case"eee":return s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"eeeee":return s.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(r,a){return a>=0&&a<=6}},{key:"set",value:function(r,a,s,c){return r=setUTCDay(r,s,c),r.setUTCHours(0,0,0,0),r}}]),e}(Parser),StandAloneLocalDayParser=function(i){_inherits(e,i);var t=_createSuper(e);function e(){var n;_classCallCheck(this,e);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a)),_defineProperty(_assertThisInitialized(n),"priority",90),_defineProperty(_assertThisInitialized(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),n}return _createClass(e,[{key:"parse",value:function(r,a,s,c){var p=function(y){var b=Math.floor((y-1)/7)*7;return(y+c.weekStartsOn+6)%7+b};switch(a){case"c":case"cc":return mapValue(parseNDigits(a.length,r),p);case"co":return mapValue(s.ordinalNumber(r,{unit:"day"}),p);case"ccc":return s.day(r,{width:"abbreviated",context:"standalone"})||s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"});case"ccccc":return s.day(r,{width:"narrow",context:"standalone"});case"cccccc":return s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(r,{width:"wide",context:"standalone"})||s.day(r,{width:"abbreviated",context:"standalone"})||s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(r,a){return a>=0&&a<=6}},{key:"set",value:function(r,a,s,c){return r=setUTCDay(r,s,c),r.setUTCHours(0,0,0,0),r}}]),e}(Parser);function setUTCISODay(i,t){requiredArgs(2,arguments);var e=toInteger(t);e%7===0&&(e=e-7);var n=1,r=toDate(i),a=r.getUTCDay(),s=e%7,c=(s+7)%7,p=(c<n?7:0)+e-a;return r.setUTCDate(r.getUTCDate()+p),r}var ISODayParser=function(i){_inherits(e,i);var t=_createSuper(e);function e(){var n;_classCallCheck(this,e);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a)),_defineProperty(_assertThisInitialized(n),"priority",90),_defineProperty(_assertThisInitialized(n),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),n}return _createClass(e,[{key:"parse",value:function(r,a,s){var c=function(g){return g===0?7:g};switch(a){case"i":case"ii":return parseNDigits(a.length,r);case"io":return s.ordinalNumber(r,{unit:"day"});case"iii":return mapValue(s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),c);case"iiiii":return mapValue(s.day(r,{width:"narrow",context:"formatting"}),c);case"iiiiii":return mapValue(s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),c);case"iiii":default:return mapValue(s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),c)}}},{key:"validate",value:function(r,a){return a>=1&&a<=7}},{key:"set",value:function(r,a,s){return r=setUTCISODay(r,s),r.setUTCHours(0,0,0,0),r}}]),e}(Parser),AMPMParser=function(i){_inherits(e,i);var t=_createSuper(e);function e(){var n;_classCallCheck(this,e);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a)),_defineProperty(_assertThisInitialized(n),"priority",80),_defineProperty(_assertThisInitialized(n),"incompatibleTokens",["b","B","H","k","t","T"]),n}return _createClass(e,[{key:"parse",value:function(r,a,s){switch(a){case"a":case"aa":case"aaa":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,a,s){return r.setUTCHours(dayPeriodEnumToHours(s),0,0,0),r}}]),e}(Parser),AMPMMidnightParser=function(i){_inherits(e,i);var t=_createSuper(e);function e(){var n;_classCallCheck(this,e);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a)),_defineProperty(_assertThisInitialized(n),"priority",80),_defineProperty(_assertThisInitialized(n),"incompatibleTokens",["a","B","H","k","t","T"]),n}return _createClass(e,[{key:"parse",value:function(r,a,s){switch(a){case"b":case"bb":case"bbb":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,a,s){return r.setUTCHours(dayPeriodEnumToHours(s),0,0,0),r}}]),e}(Parser),DayPeriodParser=function(i){_inherits(e,i);var t=_createSuper(e);function e(){var n;_classCallCheck(this,e);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a)),_defineProperty(_assertThisInitialized(n),"priority",80),_defineProperty(_assertThisInitialized(n),"incompatibleTokens",["a","b","t","T"]),n}return _createClass(e,[{key:"parse",value:function(r,a,s){switch(a){case"B":case"BB":case"BBB":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(r,a,s){return r.setUTCHours(dayPeriodEnumToHours(s),0,0,0),r}}]),e}(Parser),Hour1to12Parser=function(i){_inherits(e,i);var t=_createSuper(e);function e(){var n;_classCallCheck(this,e);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a)),_defineProperty(_assertThisInitialized(n),"priority",70),_defineProperty(_assertThisInitialized(n),"incompatibleTokens",["H","K","k","t","T"]),n}return _createClass(e,[{key:"parse",value:function(r,a,s){switch(a){case"h":return parseNumericPattern(numericPatterns.hour12h,r);case"ho":return s.ordinalNumber(r,{unit:"hour"});default:return parseNDigits(a.length,r)}}},{key:"validate",value:function(r,a){return a>=1&&a<=12}},{key:"set",value:function(r,a,s){var c=r.getUTCHours()>=12;return c&&s<12?r.setUTCHours(s+12,0,0,0):!c&&s===12?r.setUTCHours(0,0,0,0):r.setUTCHours(s,0,0,0),r}}]),e}(Parser),Hour0to23Parser=function(i){_inherits(e,i);var t=_createSuper(e);function e(){var n;_classCallCheck(this,e);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a)),_defineProperty(_assertThisInitialized(n),"priority",70),_defineProperty(_assertThisInitialized(n),"incompatibleTokens",["a","b","h","K","k","t","T"]),n}return _createClass(e,[{key:"parse",value:function(r,a,s){switch(a){case"H":return parseNumericPattern(numericPatterns.hour23h,r);case"Ho":return s.ordinalNumber(r,{unit:"hour"});default:return parseNDigits(a.length,r)}}},{key:"validate",value:function(r,a){return a>=0&&a<=23}},{key:"set",value:function(r,a,s){return r.setUTCHours(s,0,0,0),r}}]),e}(Parser),Hour0To11Parser=function(i){_inherits(e,i);var t=_createSuper(e);function e(){var n;_classCallCheck(this,e);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a)),_defineProperty(_assertThisInitialized(n),"priority",70),_defineProperty(_assertThisInitialized(n),"incompatibleTokens",["h","H","k","t","T"]),n}return _createClass(e,[{key:"parse",value:function(r,a,s){switch(a){case"K":return parseNumericPattern(numericPatterns.hour11h,r);case"Ko":return s.ordinalNumber(r,{unit:"hour"});default:return parseNDigits(a.length,r)}}},{key:"validate",value:function(r,a){return a>=0&&a<=11}},{key:"set",value:function(r,a,s){var c=r.getUTCHours()>=12;return c&&s<12?r.setUTCHours(s+12,0,0,0):r.setUTCHours(s,0,0,0),r}}]),e}(Parser),Hour1To24Parser=function(i){_inherits(e,i);var t=_createSuper(e);function e(){var n;_classCallCheck(this,e);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a)),_defineProperty(_assertThisInitialized(n),"priority",70),_defineProperty(_assertThisInitialized(n),"incompatibleTokens",["a","b","h","H","K","t","T"]),n}return _createClass(e,[{key:"parse",value:function(r,a,s){switch(a){case"k":return parseNumericPattern(numericPatterns.hour24h,r);case"ko":return s.ordinalNumber(r,{unit:"hour"});default:return parseNDigits(a.length,r)}}},{key:"validate",value:function(r,a){return a>=1&&a<=24}},{key:"set",value:function(r,a,s){var c=s<=24?s%24:s;return r.setUTCHours(c,0,0,0),r}}]),e}(Parser),MinuteParser=function(i){_inherits(e,i);var t=_createSuper(e);function e(){var n;_classCallCheck(this,e);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a)),_defineProperty(_assertThisInitialized(n),"priority",60),_defineProperty(_assertThisInitialized(n),"incompatibleTokens",["t","T"]),n}return _createClass(e,[{key:"parse",value:function(r,a,s){switch(a){case"m":return parseNumericPattern(numericPatterns.minute,r);case"mo":return s.ordinalNumber(r,{unit:"minute"});default:return parseNDigits(a.length,r)}}},{key:"validate",value:function(r,a){return a>=0&&a<=59}},{key:"set",value:function(r,a,s){return r.setUTCMinutes(s,0,0),r}}]),e}(Parser),SecondParser=function(i){_inherits(e,i);var t=_createSuper(e);function e(){var n;_classCallCheck(this,e);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a)),_defineProperty(_assertThisInitialized(n),"priority",50),_defineProperty(_assertThisInitialized(n),"incompatibleTokens",["t","T"]),n}return _createClass(e,[{key:"parse",value:function(r,a,s){switch(a){case"s":return parseNumericPattern(numericPatterns.second,r);case"so":return s.ordinalNumber(r,{unit:"second"});default:return parseNDigits(a.length,r)}}},{key:"validate",value:function(r,a){return a>=0&&a<=59}},{key:"set",value:function(r,a,s){return r.setUTCSeconds(s,0),r}}]),e}(Parser),FractionOfSecondParser=function(i){_inherits(e,i);var t=_createSuper(e);function e(){var n;_classCallCheck(this,e);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a)),_defineProperty(_assertThisInitialized(n),"priority",30),_defineProperty(_assertThisInitialized(n),"incompatibleTokens",["t","T"]),n}return _createClass(e,[{key:"parse",value:function(r,a){var s=function(p){return Math.floor(p*Math.pow(10,-a.length+3))};return mapValue(parseNDigits(a.length,r),s)}},{key:"set",value:function(r,a,s){return r.setUTCMilliseconds(s),r}}]),e}(Parser),ISOTimezoneWithZParser=function(i){_inherits(e,i);var t=_createSuper(e);function e(){var n;_classCallCheck(this,e);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a)),_defineProperty(_assertThisInitialized(n),"priority",10),_defineProperty(_assertThisInitialized(n),"incompatibleTokens",["t","T","x"]),n}return _createClass(e,[{key:"parse",value:function(r,a){switch(a){case"X":return parseTimezonePattern(timezonePatterns.basicOptionalMinutes,r);case"XX":return parseTimezonePattern(timezonePatterns.basic,r);case"XXXX":return parseTimezonePattern(timezonePatterns.basicOptionalSeconds,r);case"XXXXX":return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds,r);case"XXX":default:return parseTimezonePattern(timezonePatterns.extended,r)}}},{key:"set",value:function(r,a,s){return a.timestampIsSet?r:new Date(r.getTime()-s)}}]),e}(Parser),ISOTimezoneParser=function(i){_inherits(e,i);var t=_createSuper(e);function e(){var n;_classCallCheck(this,e);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a)),_defineProperty(_assertThisInitialized(n),"priority",10),_defineProperty(_assertThisInitialized(n),"incompatibleTokens",["t","T","X"]),n}return _createClass(e,[{key:"parse",value:function(r,a){switch(a){case"x":return parseTimezonePattern(timezonePatterns.basicOptionalMinutes,r);case"xx":return parseTimezonePattern(timezonePatterns.basic,r);case"xxxx":return parseTimezonePattern(timezonePatterns.basicOptionalSeconds,r);case"xxxxx":return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds,r);case"xxx":default:return parseTimezonePattern(timezonePatterns.extended,r)}}},{key:"set",value:function(r,a,s){return a.timestampIsSet?r:new Date(r.getTime()-s)}}]),e}(Parser),TimestampSecondsParser=function(i){_inherits(e,i);var t=_createSuper(e);function e(){var n;_classCallCheck(this,e);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a)),_defineProperty(_assertThisInitialized(n),"priority",40),_defineProperty(_assertThisInitialized(n),"incompatibleTokens","*"),n}return _createClass(e,[{key:"parse",value:function(r){return parseAnyDigitsSigned(r)}},{key:"set",value:function(r,a,s){return[new Date(s*1e3),{timestampIsSet:!0}]}}]),e}(Parser),TimestampMillisecondsParser=function(i){_inherits(e,i);var t=_createSuper(e);function e(){var n;_classCallCheck(this,e);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a)),_defineProperty(_assertThisInitialized(n),"priority",20),_defineProperty(_assertThisInitialized(n),"incompatibleTokens","*"),n}return _createClass(e,[{key:"parse",value:function(r){return parseAnyDigitsSigned(r)}},{key:"set",value:function(r,a,s){return[new Date(s),{timestampIsSet:!0}]}}]),e}(Parser),parsers={G:new EraParser,y:new YearParser,Y:new LocalWeekYearParser,R:new ISOWeekYearParser,u:new ExtendedYearParser,Q:new QuarterParser,q:new StandAloneQuarterParser,M:new MonthParser,L:new StandAloneMonthParser,w:new LocalWeekParser,I:new ISOWeekParser,d:new DateParser,D:new DayOfYearParser,E:new DayParser,e:new LocalDayParser,c:new StandAloneLocalDayParser,i:new ISODayParser,a:new AMPMParser,b:new AMPMMidnightParser,B:new DayPeriodParser,h:new Hour1to12Parser,H:new Hour0to23Parser,K:new Hour0To11Parser,k:new Hour1To24Parser,m:new MinuteParser,s:new SecondParser,S:new FractionOfSecondParser,X:new ISOTimezoneWithZParser,x:new ISOTimezoneParser,t:new TimestampSecondsParser,T:new TimestampMillisecondsParser},formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,notWhitespaceRegExp=/\S/,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function parse$1(i,t,e,n){var r,a,s,c,p,g,y,b,C,S,A,T,I,z,q,Y,at,G;requiredArgs(3,arguments);var ht=String(i),et=String(t),ot=getDefaultOptions(),vt=(r=(a=n==null?void 0:n.locale)!==null&&a!==void 0?a:ot.locale)!==null&&r!==void 0?r:defaultLocale;if(!vt.match)throw new RangeError("locale must contain match property");var wt=toInteger((s=(c=(p=(g=n==null?void 0:n.firstWeekContainsDate)!==null&&g!==void 0?g:n==null||(y=n.locale)===null||y===void 0||(b=y.options)===null||b===void 0?void 0:b.firstWeekContainsDate)!==null&&p!==void 0?p:ot.firstWeekContainsDate)!==null&&c!==void 0?c:(C=ot.locale)===null||C===void 0||(S=C.options)===null||S===void 0?void 0:S.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(wt>=1&&wt<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var _t=toInteger((A=(T=(I=(z=n==null?void 0:n.weekStartsOn)!==null&&z!==void 0?z:n==null||(q=n.locale)===null||q===void 0||(Y=q.options)===null||Y===void 0?void 0:Y.weekStartsOn)!==null&&I!==void 0?I:ot.weekStartsOn)!==null&&T!==void 0?T:(at=ot.locale)===null||at===void 0||(G=at.options)===null||G===void 0?void 0:G.weekStartsOn)!==null&&A!==void 0?A:0);if(!(_t>=0&&_t<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(et==="")return ht===""?toDate(e):new Date(NaN);var St={firstWeekContainsDate:wt,weekStartsOn:_t,locale:vt},zt=[new DateToSystemTimezoneSetter],bt=et.match(longFormattingTokensRegExp).map(function(te){var Ft=te[0];if(Ft in longFormatters){var oe=longFormatters[Ft];return oe(te,vt.formatLong)}return te}).join("").match(formattingTokensRegExp),Ct=[],Tt=_createForOfIteratorHelper(bt),Et;try{var Bt=function(){var Ft=Et.value;!(n!=null&&n.useAdditionalWeekYearTokens)&&isProtectedWeekYearToken(Ft)&&throwProtectedError(Ft,et,i),!(n!=null&&n.useAdditionalDayOfYearTokens)&&isProtectedDayOfYearToken(Ft)&&throwProtectedError(Ft,et,i);var oe=Ft[0],Zt=parsers[oe];if(Zt){var ae=Zt.incompatibleTokens;if(Array.isArray(ae)){var ce=Ct.find(function(de){return ae.includes(de.token)||de.token===oe});if(ce)throw new RangeError("The format string mustn't contain `".concat(ce.fullToken,"` and `").concat(Ft,"` at the same time"))}else if(Zt.incompatibleTokens==="*"&&Ct.length>0)throw new RangeError("The format string mustn't contain `".concat(Ft,"` and any other token at the same time"));Ct.push({token:oe,fullToken:Ft});var _e=Zt.run(ht,Ft,vt.match,St);if(!_e)return{v:new Date(NaN)};zt.push(_e.setter),ht=_e.rest}else{if(oe.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+oe+"`");if(Ft==="''"?Ft="'":oe==="'"&&(Ft=cleanEscapedString(Ft)),ht.indexOf(Ft)===0)ht=ht.slice(Ft.length);else return{v:new Date(NaN)}}};for(Tt.s();!(Et=Tt.n()).done;){var Qt=Bt();if(_typeof(Qt)==="object")return Qt.v}}catch(te){Tt.e(te)}finally{Tt.f()}if(ht.length>0&&notWhitespaceRegExp.test(ht))return new Date(NaN);var At=zt.map(function(te){return te.priority}).sort(function(te,Ft){return Ft-te}).filter(function(te,Ft,oe){return oe.indexOf(te)===Ft}).map(function(te){return zt.filter(function(Ft){return Ft.priority===te}).sort(function(Ft,oe){return oe.subPriority-Ft.subPriority})}).map(function(te){return te[0]}),Xt=toDate(e);if(isNaN(Xt.getTime()))return new Date(NaN);var ie=subMilliseconds(Xt,getTimezoneOffsetInMilliseconds(Xt)),Wt={},$t=_createForOfIteratorHelper(At),Ut;try{for($t.s();!(Ut=$t.n()).done;){var Ht=Ut.value;if(!Ht.validate(ie,St))return new Date(NaN);var re=Ht.set(ie,Wt,St);Array.isArray(re)?(ie=re[0],assign(Wt,re[1])):ie=re}}catch(te){$t.e(te)}finally{$t.f()}return ie}function cleanEscapedString(i){return i.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp,"'")}function startOfHour(i){requiredArgs(1,arguments);var t=toDate(i);return t.setMinutes(0,0,0),t}function startOfSecond(i){requiredArgs(1,arguments);var t=toDate(i);return t.setMilliseconds(0),t}function subDays(i,t){requiredArgs(2,arguments);var e=toInteger(t);return addDays(i,-e)}function parseISO(i,t){var e;requiredArgs(1,arguments);var n=toInteger((e=t==null?void 0:t.additionalDigits)!==null&&e!==void 0?e:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof i=="string"||Object.prototype.toString.call(i)==="[object String]"))return new Date(NaN);var r=splitDateString(i),a;if(r.date){var s=parseYear(r.date,n);a=parseDate(s.restDateString,s.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var c=a.getTime(),p=0,g;if(r.time&&(p=parseTime(r.time),isNaN(p)))return new Date(NaN);if(r.timezone){if(g=parseTimezone(r.timezone),isNaN(g))return new Date(NaN)}else{var y=new Date(c+p),b=new Date(0);return b.setFullYear(y.getUTCFullYear(),y.getUTCMonth(),y.getUTCDate()),b.setHours(y.getUTCHours(),y.getUTCMinutes(),y.getUTCSeconds(),y.getUTCMilliseconds()),b}return new Date(c+p+g)}var patterns={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},dateRegex=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,timeRegex=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,timezoneRegex=/^([+-])(\d{2})(?::?(\d{2}))?$/;function splitDateString(i){var t={},e=i.split(patterns.dateTimeDelimiter),n;if(e.length>2)return t;if(/:/.test(e[0])?n=e[0]:(t.date=e[0],n=e[1],patterns.timeZoneDelimiter.test(t.date)&&(t.date=i.split(patterns.timeZoneDelimiter)[0],n=i.substr(t.date.length,i.length))),n){var r=patterns.timezone.exec(n);r?(t.time=n.replace(r[1],""),t.timezone=r[1]):t.time=n}return t}function parseYear(i,t){var e=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=i.match(e);if(!n)return{year:NaN,restDateString:""};var r=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?r:a*100,restDateString:i.slice((n[1]||n[2]).length)}}function parseDate(i,t){if(t===null)return new Date(NaN);var e=i.match(dateRegex);if(!e)return new Date(NaN);var n=!!e[4],r=parseDateUnit(e[1]),a=parseDateUnit(e[2])-1,s=parseDateUnit(e[3]),c=parseDateUnit(e[4]),p=parseDateUnit(e[5])-1;if(n)return validateWeekDate(t,c,p)?dayOfISOWeekYear(t,c,p):new Date(NaN);var g=new Date(0);return!validateDate(t,a,s)||!validateDayOfYearDate(t,r)?new Date(NaN):(g.setUTCFullYear(t,a,Math.max(r,s)),g)}function parseDateUnit(i){return i?parseInt(i):1}function parseTime(i){var t=i.match(timeRegex);if(!t)return NaN;var e=parseTimeUnit(t[1]),n=parseTimeUnit(t[2]),r=parseTimeUnit(t[3]);return validateTime(e,n,r)?e*millisecondsInHour+n*millisecondsInMinute+r*1e3:NaN}function parseTimeUnit(i){return i&&parseFloat(i.replace(",","."))||0}function parseTimezone(i){if(i==="Z")return 0;var t=i.match(timezoneRegex);if(!t)return 0;var e=t[1]==="+"?-1:1,n=parseInt(t[2]),r=t[3]&&parseInt(t[3])||0;return validateTimezone(n,r)?e*(n*millisecondsInHour+r*millisecondsInMinute):NaN}function dayOfISOWeekYear(i,t,e){var n=new Date(0);n.setUTCFullYear(i,0,4);var r=n.getUTCDay()||7,a=(t-1)*7+e+1-r;return n.setUTCDate(n.getUTCDate()+a),n}var daysInMonths=[31,null,31,30,31,30,31,31,30,31,30,31];function isLeapYearIndex(i){return i%400===0||i%4===0&&i%100!==0}function validateDate(i,t,e){return t>=0&&t<=11&&e>=1&&e<=(daysInMonths[t]||(isLeapYearIndex(i)?29:28))}function validateDayOfYearDate(i,t){return t>=1&&t<=(isLeapYearIndex(i)?366:365)}function validateWeekDate(i,t,e){return t>=1&&t<=53&&e>=0&&e<=6}function validateTime(i,t,e){return i===24?t===0&&e===0:e>=0&&e<60&&t>=0&&t<60&&i>=0&&i<25}function validateTimezone(i,t){return t>=0&&t<=59}function subMonths(i,t){requiredArgs(2,arguments);var e=toInteger(t);return addMonths(i,-e)}function sub(i,t){if(requiredArgs(2,arguments),!t||_typeof(t)!=="object")return new Date(NaN);var e=t.years?toInteger(t.years):0,n=t.months?toInteger(t.months):0,r=t.weeks?toInteger(t.weeks):0,a=t.days?toInteger(t.days):0,s=t.hours?toInteger(t.hours):0,c=t.minutes?toInteger(t.minutes):0,p=t.seconds?toInteger(t.seconds):0,g=subMonths(i,n+e*12),y=subDays(g,a+r*7),b=c+s*60,C=p+b*60,S=C*1e3,A=new Date(y.getTime()-S);return A}const _sfc_main$n={__name:"datepicker",setup(i){const t=useRasterStore();useQuasar();const e=ref(new Date),n=ref(null),r=ref(null),a=ref([]),s=ref(getDayOfYear(e.value)),c=C=>{let S=sub(C,{days:3}),A=add(C,{days:3});const T=eachDayOfInterval({start:S,end:A});a.value=T.map(I=>({value:getDayOfYear(I),label:format(I,"yyyy/MM/dd")})),s.value=getDayOfYear(e.value),n.value=a.value[0].value,r.value=a.value[6].value},p=computed(()=>{const C=e.value,S=C.getDate(),A=C.getMonth()+1,T=C.getFullYear(),I=S.toString().padStart(2,"0"),z=A.toString().padStart(2,"0");return`${T}/${z}/${I}`});onMounted(()=>{c(e.value),t.setSelectedDate(e.value)});const g=C=>{console.log(C);const[S,A,T]=C.split("/").map(Number);return new Date(S,A-1,T)},y=C=>{console.log(s.value);const S=a.value.find(A=>A.value===C);e.value=g(S.label),s.value=C,t.setSelectedDate(e.value),c(e.value)},b=computed(()=>t.getSelectedDate);return watch(b,()=>{console.log(t.getSelectedDate);const C=t.getSelectedDate,S=C.slice(0,4),A=C.slice(4,6),T=C.slice(6,8),I=new Date(`${S}-${A}-${T}`),z=`${I.getFullYear()}/${(I.getMonth()+1).toString().padStart(2,"0")}/${I.getDate().toString().padStart(2,"0")}`;console.log("formated date",z),e.value=g(z),c(e.value)}),(C,S)=>(openBlock(),createBlock(QSlider,{class:"",modelValue:s.value,"onUpdate:modelValue":S[0]||(S[0]=A=>s.value=A),min:n.value,max:r.value,ticks:"","ticks-count":9,snap:"",onChange:y,"label-value":p.value,"label-always":"",markers:"","marker-labels":a.value,"switch-marker-labels-side":"","track-color":"white","track-size":"2px","thumb-color":"primary","inner-track-color":"transparent","selection-color":"transparent"},null,8,["modelValue","min","max","label-value","marker-labels"]))}};var QSlideTransition=createComponent({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(i,{slots:t,emit:e}){let n=!1,r,a,s=null,c=null,p,g;function y(){r&&r(),r=null,n=!1,s!==null&&(clearTimeout(s),s=null),c!==null&&(clearTimeout(c),c=null),a!==void 0&&a.removeEventListener("transitionend",p),p=null}function b(T,I,z){I!==void 0&&(T.style.height=`${I}px`),T.style.transition=`height ${i.duration}ms cubic-bezier(.25, .8, .50, 1)`,n=!0,r=z}function C(T,I){T.style.overflowY=null,T.style.height=null,T.style.transition=null,y(),I!==g&&e(I)}function S(T,I){let z=0;a=T,n===!0?(y(),z=T.offsetHeight===T.scrollHeight?0:void 0):(g="hide",T.style.overflowY="hidden"),b(T,z,I),s=setTimeout(()=>{s=null,T.style.height=`${T.scrollHeight}px`,p=q=>{c=null,(Object(q)!==q||q.target===T)&&C(T,"show")},T.addEventListener("transitionend",p),c=setTimeout(p,i.duration*1.1)},100)}function A(T,I){let z;a=T,n===!0?y():(g="show",T.style.overflowY="hidden",z=T.scrollHeight),b(T,z,I),s=setTimeout(()=>{s=null,T.style.height=0,p=q=>{c=null,(Object(q)!==q||q.target===T)&&C(T,"hide")},T.addEventListener("transitionend",p),c=setTimeout(p,i.duration*1.1)},100)}return onBeforeUnmount(()=>{n===!0&&y()}),()=>h(Transition,{css:!1,appear:i.appear,onEnter:S,onLeave:A},t.default)}});const itemGroups=shallowReactive({}),LINK_PROPS=Object.keys(useRouterLinkProps);var QExpansionItem=createComponent({name:"QExpansionItem",props:{...useRouterLinkProps,...useModelToggleProps,...useDarkProps,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...useModelToggleEmits,"click","afterShow","afterHide"],setup(i,{slots:t,emit:e}){const{proxy:{$q:n}}=getCurrentInstance(),r=useDark(i,n),a=ref(i.modelValue!==null?i.modelValue:i.defaultOpened),s=ref(null),c=useId(),{show:p,hide:g,toggle:y}=useModelToggle({showing:a});let b,C;const S=computed(()=>`q-expansion-item q-item-type q-expansion-item--${a.value===!0?"expanded":"collapsed"} q-expansion-item--${i.popup===!0?"popup":"standard"}`),A=computed(()=>{if(i.contentInsetLevel===void 0)return null;const Et=n.lang.rtl===!0?"Right":"Left";return{["padding"+Et]:i.contentInsetLevel*56+"px"}}),T=computed(()=>i.disable!==!0&&(i.href!==void 0||i.to!==void 0&&i.to!==null&&i.to!=="")),I=computed(()=>{const Et={};return LINK_PROPS.forEach(Bt=>{Et[Bt]=i[Bt]}),Et}),z=computed(()=>T.value===!0||i.expandIconToggle!==!0),q=computed(()=>i.expandedIcon!==void 0&&a.value===!0?i.expandedIcon:i.expandIcon||n.iconSet.expansionItem[i.denseToggle===!0?"denseIcon":"icon"]),Y=computed(()=>i.disable!==!0&&(T.value===!0||i.expandIconToggle===!0)),at=computed(()=>({expanded:a.value===!0,detailsId:c.value,toggle:y,show:p,hide:g})),G=computed(()=>{const Et=i.toggleAriaLabel!==void 0?i.toggleAriaLabel:n.lang.label[a.value===!0?"collapse":"expand"](i.label);return{role:"button","aria-expanded":a.value===!0?"true":"false","aria-controls":c.value,"aria-label":Et}});watch(()=>i.group,Et=>{C!==void 0&&C(),Et!==void 0&&_t()});function ht(Et){T.value!==!0&&y(Et),e("click",Et)}function et(Et){Et.keyCode===13&&ot(Et,!0)}function ot(Et,Bt){Bt!==!0&&s.value!==null&&s.value.focus(),y(Et),stopAndPrevent(Et)}function vt(){e("afterShow")}function wt(){e("afterHide")}function _t(){b===void 0&&(b=uid$1()),a.value===!0&&(itemGroups[i.group]=b);const Et=watch(a,Qt=>{Qt===!0?itemGroups[i.group]=b:itemGroups[i.group]===b&&delete itemGroups[i.group]}),Bt=watch(()=>itemGroups[i.group],(Qt,At)=>{At===b&&Qt!==void 0&&Qt!==b&&g()});C=()=>{Et(),Bt(),itemGroups[i.group]===b&&delete itemGroups[i.group],C=void 0}}function St(){const Et={class:[`q-focusable relative-position cursor-pointer${i.denseToggle===!0&&i.switchToggleSide===!0?" items-end":""}`,i.expandIconClass],side:i.switchToggleSide!==!0,avatar:i.switchToggleSide},Bt=[h(QIcon,{class:"q-expansion-item__toggle-icon"+(i.expandedIcon===void 0&&a.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:q.value})];return Y.value===!0&&(Object.assign(Et,{tabindex:0,...G.value,onClick:ot,onKeyup:et}),Bt.unshift(h("div",{ref:s,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),h(QItemSection,Et,()=>Bt)}function zt(){let Et;return t.header!==void 0?Et=[].concat(t.header(at.value)):(Et=[h(QItemSection,()=>[h(QItemLabel,{lines:i.labelLines},()=>i.label||""),i.caption?h(QItemLabel,{lines:i.captionLines,caption:!0},()=>i.caption):null])],i.icon&&Et[i.switchToggleSide===!0?"push":"unshift"](h(QItemSection,{side:i.switchToggleSide===!0,avatar:i.switchToggleSide!==!0},()=>h(QIcon,{name:i.icon})))),i.disable!==!0&&i.hideExpandIcon!==!0&&Et[i.switchToggleSide===!0?"unshift":"push"](St()),Et}function bt(){const Et={ref:"item",style:i.headerStyle,class:i.headerClass,dark:r.value,disable:i.disable,dense:i.dense,insetLevel:i.headerInsetLevel};return z.value===!0&&(Et.clickable=!0,Et.onClick=ht,Object.assign(Et,T.value===!0?I.value:G.value)),h(QItem,Et,zt)}function Ct(){return withDirectives(h("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:A.value,id:c.value},hSlot(t.default)),[[vShow,a.value]])}function Tt(){const Et=[bt(),h(QSlideTransition,{duration:i.duration,onShow:vt,onHide:wt},Ct)];return i.expandSeparator===!0&&Et.push(h(QSeparator,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:r.value}),h(QSeparator,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:r.value})),Et}return i.group!==void 0&&_t(),onBeforeUnmount(()=>{C!==void 0&&C()}),()=>h("div",{class:S.value},[h("div",{class:"q-expansion-item__container relative-position"},Tt())])}});const _hoisted_1$k={class:"row items-center q-pa-md"},_hoisted_2$f={class:""},_hoisted_3$e={class:"q-pb-sm text-primary"},_hoisted_4$e={class:"q-pb-sm q-px-md"},_hoisted_5$a={class:"col"},_hoisted_6$a={class:"q-pb-sm"},_sfc_main$m={__name:"dateselection",setup(i){const t=useRasterStore();ref(!0);const e=ref(new Date),n=ref(format(new Date,"yyyy/MM/dd")),r=computed(()=>n.value),a=computed(()=>{const c=t.getSelectedDate,p=c.slice(0,4),g=c.slice(4,6),y=c.slice(6,8),b=new Date(`${p}-${g}-${y}`);return`${b.getFullYear()}/${(b.getMonth()+1).toString().padStart(2,"0")}/${b.getDate().toString().padStart(2,"0")}`}),s=c=>{console.log(c);const[p,g,y]=c.split("/").map(Number);return new Date(p,g-1,y)};return watch(r,()=>{console.log("date change",n.value),e.value=s(n.value),t.setSelectedDate(e.value)}),watch(()=>t.getSelectedDate,()=>{const c=t.getSelectedDate,p=c.slice(0,4),g=c.slice(4,6),y=c.slice(6,8),b=new Date(`${p}-${g}-${y}`),C=`${b.getFullYear()}/${(b.getMonth()+1).toString().padStart(2,"0")}/${b.getDate().toString().padStart(2,"0")}`;b.value=C},{deep:!0}),watch(a,c=>{console.log("from datepicker",c);const p=c.slice(0,4),g=c.slice(4,6),y=c.slice(6,8),b=new Date(`${p}-${g}-${y}`);`${b.getFullYear()}${(b.getMonth()+1).toString().padStart(2,"0")}${b.getDate().toString().padStart(2,"0")}`}),(c,p)=>(openBlock(),createElementBlock("div",_hoisted_1$k,[createBaseVNode("div",_hoisted_2$f,[createBaseVNode("div",_hoisted_3$e,toDisplayString(c.$t("selectDate")),1)]),createBaseVNode("div",_hoisted_4$e,[createVNode(QIcon,{color:"primary",size:"xs",name:"event",class:"cursor-pointer"},{default:withCtx(()=>[createVNode(QPopupProxy,{anchor:"bottom left",self:"top left","transition-show":"scale","transition-hide":"scale"},{default:withCtx(()=>[createVNode(QDate,{modelValue:n.value,"onUpdate:modelValue":p[0]||(p[0]=g=>n.value=g),mask:"YYYY/MM/DD",minimal:""},null,8,["modelValue"])]),_:1})]),_:1})]),createBaseVNode("div",_hoisted_5$a,[createBaseVNode("div",_hoisted_6$a,[createVNode(QChip,{dense:"",square:"","text-color":"grey-9",class:"q-my-none q-ml-xs q-mr-none"},{default:withCtx(()=>[createTextVNode(toDisplayString(a.value)+" ",1),createVNode(QPopupProxy,{anchor:"bottom left",self:"top left","transition-show":"scale","transition-hide":"scale"},{default:withCtx(()=>[createVNode(QDate,{modelValue:n.value,"onUpdate:modelValue":p[1]||(p[1]=g=>n.value=g),mask:"YYYY/MM/DD",minimal:""},null,8,["modelValue"])]),_:1})]),_:1})])])]))}},_hoisted_1$j={class:"q-pa-sm text-grey-9",style:{}},_hoisted_2$e={key:0},_sfc_main$l={__name:"mangroveSelector",setup(i){const{t}=useI18n(),e=useRasterStore(),n=ref(["mangrove2020"]),r=ref([{label:`${t("MangroveCover")} 2020`,value:"mangrove2020"},{label:`${t("MangroveCover")} 2015`,value:"mangrove2015"},{label:`${t("MangroveChange")} 2015 - 2020`,value:"mangroveChange"}]);watch(n,s=>{e.updateLayerList(s)});const a=computed(()=>e.getLayerName);return onMounted(()=>{n.value=e.getLayerList}),(s,c)=>(openBlock(),createElementBlock("div",_hoisted_1$j,[createVNode(QList,{separator:"",dense:""},{default:withCtx(()=>[createVNode(QItem,null,{default:withCtx(()=>[a.value=="mangrove"?(openBlock(),createElementBlock("div",_hoisted_2$e,[createVNode(QOptionGroup,{dense:"",modelValue:n.value,"onUpdate:modelValue":c[0]||(c[0]=p=>n.value=p),options:r.value,color:"primary",type:"checkbox"},null,8,["modelValue","options"])])):createCommentVNode("",!0)]),_:1})]),_:1})]))}},_hoisted_1$i={class:"row items-center q-gutter-md q-py-md q-pl-md",style:{"max-width":"300px"}},_hoisted_2$d={class:""},_hoisted_3$d={class:"text-primary"},_hoisted_4$d={class:"col-6"},_sfc_main$k={__name:"yearselection",setup(i){const t=useRasterStore(),e=ref("100"),n=ref([{label:"2020",value:"100"},{label:"2021",value:"200"}]),r=computed(()=>e.value);return watch(r,a=>{console.log(a),t.setSelectedYear(a)}),(a,s)=>(openBlock(),createElementBlock("div",_hoisted_1$i,[createBaseVNode("div",_hoisted_2$d,[createBaseVNode("div",_hoisted_3$d,toDisplayString(a.$t("selectYear")),1)]),createBaseVNode("div",_hoisted_4$d,[createVNode(QSelect,{dense:"",rounded:"",outlined:"",modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=c=>e.value=c),options:n.value,"emit-value":"","map-options":""},null,8,["modelValue","options"])])]))}},_hoisted_1$h={class:"column q-pa-none bg-white",style:{"min-width":"fit-content"}},_sfc_main$j={__name:"layerswitcher",setup(i){const t=useRasterStore(),e=ref(""),n=computed(()=>!["ESA WorldCover 10m","Mangrove Cover"].includes(e.value)),r=computed(()=>t.layerName),a=s=>{switch(s){case"landcover":e.value="ESA WorldCover 10m";break;case"mangrove":e.value="Mangrove Cover";break;case"SST":e.value="Sea Surface Temperature (SST)";break;case"SALT":e.value="Sea Surface Salinity (SSSal)";break;case"SSH":e.value="Sea Surface Height (SSH)";break;case"SWH":e.value="Significant Wave Height (SWH)";break;case"SSC":e.value="Sea Surface Currents (SSC)";break;default:e.value="Ocean State";break}};return watch(()=>t.getLayerName,s=>{a(s)},{deep:!0}),onMounted(()=>{a(t.getLayerName)}),(s,c)=>(openBlock(),createElementBlock("div",_hoisted_1$h,[createVNode(QList,null,{default:withCtx(()=>[createVNode(QExpansionItem,{dense:"","header-class":"bg-primary text-white",label:e.value,"default-opened":""},{default:withCtx(()=>[n.value?(openBlock(),createBlock(_sfc_main$m,{key:0})):createCommentVNode("",!0),!n.value&&r.value=="mangrove"?(openBlock(),createBlock(_sfc_main$l,{key:1})):createCommentVNode("",!0),!n.value&&r.value=="landcover"?(openBlock(),createBlock(_sfc_main$k,{key:2})):createCommentVNode("",!0)]),_:1},8,["label"])]),_:1})]))}};var scc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHoAAACcCAIAAAA/JigsAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAKBElEQVR4nO2dfUhT/x7Hv0v79bDldOrEFaQpZg0fGpbkLtEjmtcVhEEs8alxh9alZqBE6wFUKA0rf/3VJdLAKKigKIUwC3r4J00jbRU5MYnrQ7Wp00yzc/84Z2N3etaZnj7b0c+LoOPbz759fff1c87O3vtORFEUEQgU1VX/r6zDDf+l/BeH/rPsP3/viVvg7Tl5iEhAds8BhLY8BA7aDYo//Zda9I8ZD/GcesbTZOY+uLpBQbtBQbtBQbtBQbtBQbtBQbtBQbtBQbtBQbtBQbtBQbtBQbtBQbtBQbtBQbtBQbtB4cduiqJKSkpkMplMJjt27Ni0Lzez1Xiqi+zwMnNg/HkZ5fLly42NjS0tLYSQzMzMqKgonU7HscZTnfZdoHYTiqIoikoh6hn/oShq48aN9fX19FD19fVqtZqaAluNpzqNY+bCgsmZzPKlYalU2tnZGRISQggZGBiIiYmxWCwuZWw1nuo0IpEgEzL82O3n5zc2NrZw4UJCyMTExJIlS37+/OlSxlbjqc7MW5h283OqlEgkg4OD9LHVal22bBn3Gk91QcOP3Uql8uXLl/Rxc3OzUqnkXuOpLmj4uTLJzs42Go2xsbGEEKPRWFBQQOvOv/JsNZ7qgoYfu/V6vdlsVqlU9PGBAwe413iqOy4B6QNhdXB+TpX8zWeOg0/iQUG7QUG7QWFOlb+Wib07j3kCY/dkoMS785gnOFY32g0BY/e4FJsJBIzdExJc3RAwdo+i3SAwdn/DKxMQGLttuLpBsN+iEqPdENjtlmAzgcBuN153g4DNBBRsJqA47MbVDYGjd8+F17l9H7zfDQraDQpcAvbRo0fbt28PCAhQKBS5ubl9fX20bjabNRpNUFBQUFCQRqMxm820Lvp/AgIC3OuCgB+7HWnVlpaWhw8fXrlyZWpNeXl5YWHhu3fv3r9/v2rVKq1WS+tZWVkJCQldXV1dXV1xcXFZWVm07pxkvHXrll6vd68LAib4IHr8ZcZDUFtCUlJSTpw4sXPnTkJIQ0NDeXn5s2fu0hA2my0sLGxkZIQQIhaLe3t76Uza0NBQeHg4rTuTnJx8586d5cuXc9R9Fn5Wd0dHx/r16+njpKSkjo4ON8UjIyOXLl3asmUL/WV6evq5c+cGBwetVmtlZWV6erpL/b1795RK5VRP2XRfhp/VzSUBy/x7IhEhRC6XP3/+PDo6mhDy+fNntVrd3d1NCFm5cuWLFy8UCoXzQ5KTk2tqatasWeMyFJvuy8AlYGkoihocHCwoKMjPz6eV3NxcrVZrsVgsFotWq83JyXGub2hoCAsLm+opm+7jeKd3Dw0NKRQKm81GCFm6dGlfXx9b705JSamsrFSr1S4jsOk+Dj+rm06r0lcXRqMxNzeX1p3fQbNnz57W1taxsbGenp7jx49v3ryZ1hMTEysqKqxWq9VqPXv27Lp16xwPaWxsFIlEUz1l030ffuzW6/Xbtm1TqVQqlWrHjh3TJmDz8vL0er1MJlOr1RMTE9euXaP12tra5ubmiIiIiIiI1tbW2tpax0NKS0uLi4unDsWm+z78NBP+5jPHwSfxoKDdoKDdoNjvdy+yzWIQ7N1csdv912zsRrjisNv1rhDyJ+ClmSBcsdu9EO2GAJsJKLi6QcHVDYpjdaPdEGAzAQVXNyh2uxeg3RA4NtjAZgIBY3cUGfXuPOYJjN0rCTYTCPB+NyhoNyhwCVhPE60uumMctiStIIBLwM4g0er8LYfIlqQVBEzwYRvZMuMhHpHHnqaouCRaueyD6ZykFQReSMByT7SGhoaKxeK4uLjq6urJyUmXepckrSDgZx9Bm80mlUrp48DAwOHhYTfF5eXlNTU1v9Xppf3jx483b94cOXKkq6vr/Pnzju86J2l5+AGggE7AeppoXbRoUVJS0vXr113+h6YmaQUB3B6wNKWlpSUlJdx1mgULFixevNhFDAgIKCoqevXq1Yym7B3gErDEw0Tr7t27m5ubR0dHTSZTXl7e3r17aZ0tSSsI4BKwxMNEq06nKywsDA0N1Wg0ycnJFRUVtM6WpBUE/FwI8jefOQ4+iQcF7QYF7QaFeZoTSX55dx7zBMbu8F+zsBt/QzjD2B0yMgu7cSsUzjB2B42i3RAwdi/7LqQPjBAujN0Bs2kmCGfsq3s2zQThDGO3GO0GgbF7KTYTEOyrewRPlRDYV7cNVzcEjN1LsJmAwNjtZ8NmAoH9lfghXN0Q2O0extUNAd7NAwXtBoUfu6fmVD2qef36dWpqqkQiiY6Orquro8XHjx+npaVJpVKFQqHT6b5+/UrrVqs1JycnODg4NDT09OnTvMwfDN4Cx7+NT7LVfPjwQaPRZGdn9/T0NDU1PXjwgNZPnTpVWFjY2dnZ1tbm7+/v2F/QYDCMj4+bTKb29naTyXT16lVefgQY7CnTf6+e+Rh/v2fG4pBZnVqj1WrVavXBgwfdPGp4eHjFihV0Li4kJOTt27dyuZwQ0tfXl5mZ+fTp05lPHhbv9+6mpiabzaZQKIKDg3NycqxW67Q1CQkJji+dP925vb0daKJ84H27v3z50t7e3tbWZjKZxsfHDQaDS0Fra+uhQ4eqq6vpL9PT0w0GQ39/f39/v8FgoLfaFAret1ssFldVVcnlcrlcfvHixfv37zt/98mTJ7t27aqrq0tMTKSVCxcuUBQVGxsbHx+vVCpDQoS0E5b37Y6Pj3fu5s6XLjdv3ty/f//t27c3bdrkEGUyWV1d3bdv33p7ewMDA7du3Qo63dnxZ+12f2lIk5eXV1RURDeHw4cPZ2Rk0HpVVVVxcXFjY+OGDRuc67Oysj5+/GixWG7cuHHmzJmTJ0/+kan/Gfh594LzuYvY33jAsSY/P7+7u1upVE5OTmZkZFRVVdH60aNHCSFr1651jDA8PCyRSNLS0lJTU3t7e9Vq9d27d1evnsU1FTh8Xggiv8X7vXtegXaDgnaDYj9V4otnINjt/o52Q8DYPTnq+p5c7vjxNJX5AGP391mkqPCTLrljt3sWvRvt5g4PdiPcsduNwQcQ7HZb0G4IGLtHB9FuCBi7x8jMLwQR7thXN76vEgR770a7QcDVDQqublAcqxtPlRDg/W5Q0G5QvJCAdalk09n2lWWrFwT8BB+Yj3T93Q/PFticVnfsK0sIyczMjIqK0ul07sfxfXy3mdTW1paVlUVGRkZGRpaVlU27sabgALWbbU/XaXU3+8q63xvWl+GnmXCBbU9XNp1tX1n3e8P6OEyKqkr014yHKKLGmbE4xOlpPn36lJCQYLFY3OhSqbSzs5MOuA4MDMTExLivFwTe6d3T7unqonPZV5ZtHJ8FLgHLtqcrm862ryxbvSCAS8DSe7p2dHSEh4fv27fPaDS61/V6vdlsVqlU9LFjX1m2ekHAZ+9GfovvXnfPSdBuULheuiG8gKsblP8BDdnHOgRkTsMAAAAASUVORK5CYII=",ssh="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFkAAACcCAIAAACbTJD/AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAJJUlEQVR4nO2dfUhT3x/Hz3z4Vt9NnToXG0H9+gXNhg+F9of70tMv0IYWREEs8SlBtMcZlNJ6+EfoiZV+oz8CKQOj/iiIikBMg5oRaRrOVlGKSDCl2tbmQ5bt98dh91yc57ruvfPa+rz++uzs3HPP3n3Oueu+9/HK/H4/AhBCCEVJPYF5BGhBiGEig+wf3qPY/E/FmIzEQF4QQAsCaEEALQigBQG0IIAWBNCCAFoQQAsCaEEALQigBQG0IIAWBNCCAFoQwqKF3+8/evRoUlJSUlJSbW3tjLeX29vb8/LyEhIStFpteXn558+fmbdevXqVm5urUChWrFjR3NyMG91ud3FxcXJyckpKyqlTp37pXCESFi2uXLnS2tra1dXV1dXV0tLS2NgY3OfkyZNVVVUfPnzo6emJiYkpLi7G7e/evSsoKCgqKhoaGmpra3vw4AFuN5vNk5OTDofDbrc7HI6rV6+Gfq4QkTFCini/Mycn5/jx41u2bEEIPXz4sK6u7ulTrhuiXq93yZIlHo8HIWQymQwGw969e6f1UalUr1+/VqvVCKHh4eEdO3Y8efKEx7k4CEte9PX1ZWdn4zgrK6uvr4+7f1tbW0ZGBhP7fD6tVpucnFxcXOx2u5luMpmMCex2O79zcRAWLXw+X0JCAo6VSqXX6+Xo3N3dvW/fvoaGBvzy06dPdru9p6fH4XBMTk6azWbcbjQazWbzyMjIyMiI2Wz2+Xw8zsWNaFrIAiCEFAoFTniEkNvtjouLox31+PHjrVu3Njc3Z2Zm4ha5XG61WtVqtVqtrq+vv3//Pm6/ePGi3+/X6XTp6el6vV6lUuH20M81K6Jp4Q+AENLr9S9evMDtnZ2der1+xkNu3bq1e/fu27dvr1u3jmlMT09nXwuYdZGUlNTc3Pzlyxen06lUKjdt2oTbQzxXKIRljRQVFVksloGBgYGBAYvFUlJSgtuZD4YQslqtR44caW1tXbt2LfvY0tLS6upqvBYOHjyYn5+P2wsLC9+/f+9yuW7evHn69OkTJ05wn4sHMbN3+XUqKir6+/vXrFmD4z179gT3OXz4MEJo1apVTIvX61UoFGVlZYODg3q9fmpqKj8/32q14nfz8vJyc3OdTqfBYLh79+7KlStDP1eIhOWa+psC38EJoAUBtCCQvfNnnFzCecwHiBZTSoWE85gPsPMCtAgwmQBrJMB3BeRFgDHQgom+wHWEiXyQFySUgxYMClgjDPD9goSwRkgIa4SEcB0hoYA7yJEB3L8ggBYEyXx2trc0Y/u0d2lj9vf3FxQUJCYmJiYmFhQU9Pf38562ZD47YyzR3prWgTZmYWFhRkYG9kfS0tIKCwt5T5t4ArL2T7xH8W9UsV+G7n3LZLJpigS3cI8pl8udTie2Dr9+/arRaEZHR/l9innhs08jJSVFLpenpaU1NDRMTU1xj2k0Gs+fP+/xeNxu97lz54xGI+9phyUvoqOjJyYmYmNjEULfv39ftGjRjx8/Zj49JQu+ffvW29t76NCh7OzsCxcucIz58eNHg8EwODiIEFq6dGlHR4dWq+X3KST22WksWLAgKyvrxo0b165dwy20MUtKSkwmk8vlcrlcJpOJ+X0PD6T02WefXFTUwoULcUwb02az1dbWKpVKpVJZU1PT0dHB+yNI5rPT2LZtW2dn59jYmMPhKC0t3blzJ/eYmZmZZ8+edbvdbrf7zJkzq1ev5j1tyXx29g+OEELMrlFeXl5VVdXX16fRaHbt2mWxWLjHbGpqOnDgwLJlyxBCOTk5TU1NvKcdlr3zNwW+gxNACwJoQWDtnQt8AsaJhP2CpcVfQrSIBNha8PwvTcQg1hqJBFhaxIIWDLBGSAh5QULICxLGghYMsEZICHlBwijQggBrJMB/0ZiE85gPEC2Woj99jcD9CwJoQZDMZ6f1efTo0ebNm+Pj47VabUlJyfDwMG6n1b/TfHkeSOaz0/rU1dVVVVW9efPm7du3y5cvN5lMuJ1W/44ovjwPiCfwP7SR9yiPUDv7ZSg+eyh9fD7f4sWLg31zdv07zZHlgWQ++6x9RkdHL126tHHjDP9C7Pp3RPHleRAW3yyUGnPuPnjlq9Vqm8027UBc/37v3j38EicF48sPDAxgX54Hkvns3H38fr/H46msrCwrK2O3B9e/Y4J9eR5I5rPP2ic+Pr66uvrly5dMy4z172zYvjwPJPPZaX22b9/e3d09MTExNDR07NixDRs24HZa/TvNl+eBZD47rU9paWlFRYXdblepVEaj8fr167idVv9O8+V5EJZr6m8KfAcngBYE0IJA9s7/oJ8SzmM+QLTQ/BSgRUSkF9FCNSpAi4goPSFaJI6BFgHixv/0B9QQLeKFrJGIgJUXQtZIREC0kIMWTPQ3rBEmko/C3hngbx/kRYBFsEaYKNoHa4ThK+QFg/dPz4uI+A+mSIAWBDH9Ed7eOq0mneahi1jDzkY0LYR46xw16TN66CLWsLNhmdT7V/If5t+3Qrx1Wk06zUMXsYadjWh5IcRb56hJn9FDF7GGnY1oeRFKDTu/mvTg2nYRa9jZiJYXQrx17pr0YA9dxBp2NqL5qdg3x3sBt7ce3Mdms925cwdLU1NTo9Fogo9le+ih9OeBaHkhxFun1aTTPHQRa9jZiJYXQrx1Wk06zUMXsYadjWh7pyizkRb4Dk4ALQigBYG1d8I9PhKOgxYBpsb4/2I2WoypSA7RYlyAbxYZf/mTpYWA/QK0iDRYWoAnwETjLtAiwJgHtAgwgfhfUyMDVl7A7zuZaBy0YCLIC8gLAjsv/vS9E+5fEEALwpz67LSa9FmPXb9+PdtbEKV6PZg59dlpNencxzY1NU2zI4WXrs8I8QSssr94j1LtnxTyTHaOY10uV2ZmZktLi06nC/EvzPNmTn12NuyadI5ja2tr9+/fzzxROKyI5pvxeCY7U5NOO/b58+e9vb2XL18Wa5LczKnPjgmuSacdazabGxsbo6Lm6GIn2mmEPJOdduyzZ89SU1OZS4boF45piLZGsIeu0+kQQhaLpbKyErezdzir1VpfX9/a2pqamhrKsdMeWh+OawebOfXZaTXpv/qMddrfnBeIaNdUUWYjLfAdnABaEMK+If1GQF4QQAvC/wEP+dmn72ggNAAAAABJRU5ErkJggg==",swh="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFkAAACdCAIAAABQEENaAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAJhklEQVR4nO2df0hT3R/Hzyyf+j6bm8/cJi3h4cko65JKaIL70q8n0EQLoiCs/JUgrcJmYUj2A8SIglU+0R+BWcGiooKyEMRU+vFHpGlfZ6vQpAxKLadualm67x+33XOfbee67R5T5+f11/F47rmf+/acc6/3vc8Zckwrxsbe3stNjJz/14I/lyTob/1vlGbnEofDgQCEEEJBkx3AFAK0wMzmSjrJf/3u5YnjMY1gJhkYFxjQAgNaYEALDGiBAS0woAUGtMCAFhjQAgNaYEALDGiBAS0woAUGtMCAFhhqWjgcjoMHDyqVSqVSWVRU5PGVsuTfuNe7H/LixYukpCSZTLZw4UKTycRW1tXVJScnKxQKrVabm5v75csXKpdATYsLFy7U1NQ0NjY2NjZWV1eXl5d7bMZ/B+9S6d74zZs3aWlpGRkZnZ2dtbW19+/fZ+uPHj2q1+vb29ubm5tnz56dmZlJ5RKwJyDyfWdiYuLhw4fXr1+PEKqqqiotLX382PUlqEQiZEG4/zY9PV2n0+3evVvg1DabLSIior+/3+/gOaiNi9bW1vj4eLYcFxfX2trqsZlarZZKpcuWLSsrKxsdHRXus7a21m63a7XasLCwzMzMvr4+j21iYmJEBs9CTQu73a5QKNhyaGiozWZzb+NwOHp6enp7eysqKm7cuHHgwAHhPj9//mw2m5ubmy0Wy8jIiMFgcGnQ1NS0Z8+esrIyKpdAbY4oFIr29naVSoUQ6unpWbRokdVqFTjk/fv3MTEx/Dbuc0ShULS1tanVaoRQd3c3wzA9PT3cb+vr63fs2GEymVauXOl35HyojQuGYZ49e8aWGxoaGIYZ58RBQXPnzhVuEx0dzVeHf6O5fv36tm3bbt26RUsIRFGLjIyM4uLijo6Ojo6O4uLirKwstp5/ARs3bmxoaBgaGrJYLNnZ2Vu2bBHuMzs7u6CgoLu7u7u7Oz8/PzU1la03Go2FhYU1NTUrVqygFT/i+2YiycvLe/v27fLly9nyzp073dvk5ubq9frW1tZ58+Zt3bq1uLiYref0YgvcWMjJyXn37h3DMKOjo6mpqUajka3fv38/Qmjp0qVczzabTSaTibwEauuFyDimAvAMjgEtMKAFBq+dYyHSSYxjKoC1GA0Vuw5Pd/jjArRwMqKAOeLku+hnlekO1mIItOBKvXAf4Up2GBe4KAUtOGQwRzjg+QIXYY7gIswRXIT7CC6GhExeGFMCeH+BAS0w1LQQ8Mrd27i0JPnmDx48WLdunVwu12q1WVlZXV1d3p/LD2h+5sCb1DWPPjvJNy8tLdXr9a9evXr9+vWCBQvS09N9OpevYE9AUvfZ714ca1Q/O/HRSXeH5Jvb7fbw8PDBwUGfevOJX71ejOuze/TNBwcHz507t2bNmgmNjZpv5g3sn/Hbt28tLS379u3r6Og4ffo0vwHrm1dWVvIr2XVBo9E8efJkQsP7pXOEj7vPLuCbDwwMGI3G2trahw8f4tCn+xzBJ/63zy7sm8vl8oKCgufPn09sSBPaO/LOZyf55ps2bWpqavr69WtnZ+ehQ4dWr149saHSmiMud3vcLW8kV1ZWlpSU8H12dmi4Pymwvjnb3mw2q1SqlJSU48ePK5VK9/a0Zgrl9WJaA8/gGNACA1pgeM9ac+wi+gmE9YKnxW9itAgE+FoMkpvNCGjNkUCAp0UwaMEBcwQXYVzgIowLXAwGLThgjuAijAtcDAItMDBHnESioUmMYyqAtfgTzfQ5Au8vMKAFhpoW3uSYk3x2kp9OypH3JnfeD6hp4WWOuUefneSnk3Lkvcyd9xXsCfyN/HduH6A6/o8kr9wb14/vp5Ny5L3JnfeDCVkvBHLMhX12Fz+dlCPvZe68r9D32T165SzCPru7n07Kkfcmd94PKI+L+vr6DRs2mEym2NhYUps5c+bExcVdvXr10qVL/HqHw9Hf379r166cnBy2RiaTcROtr68vxPlJQ1K9SGhq4VOOucd8dhc/nZQj72vuvJdQ04LklXvjs5P8dFKOPKleJNTWC29yzEn57NnZ2Xl5eZyffuXKFbaelCPvTe68H0zIPXWaAs/gGNACA1pg8Nr5FxqbxDimAliLeWMitAiI4YW1UA2K0CIgUk+wFn8MgRZOQoZn+hfUYC3kYuZIQMAbF2LmSECAtZCCFlzpd5gjXEk6CGunk9/tMC6c/AfmCFeaZYc5wjEA44LDNtPHRUD8g0kJ0AJDTQuSV87HV58dEfaN7+vry8zMDAsLU6vVx44do3UJ1LQgeeUu+OSzk/aNNxgMIyMjFovFbDZbLJaKigoql8Azvvcu9r+bf17zf3LPPf95Mh99dtK+8SqV6uXLlxqNBiHU1dW1efPmR48e+R+8E/rrhXDuuU8+u8C+8fztks1mM5XIKfvswrnnvvrs3L7xCKH8/HyDwcBOh5SUFIPBwG4LbTAY7HY6n8akPC7cvXJ3vPfZpVKp0WjUaDQajebs2bP37t1j68+cOeNwOKKioqKjoxmGYTerFw/9OeJl7rk3Pjtp33ilUmkymXp7ez99+hQaGrp27VoqkVPTguSVi/HZSfvGb9++va2tzWq1Xrt27cSJE0eOHKFyCdS0YL1ypVKp0+m+f//OeeV8WJ9drVanpaUlJCScPHlS+NicnJzIyEiGYaKiooKDg7l945OTk5OSkiIiIi5evHjnzp3Fi0XcAXlMyD11mgLP4BjQAgNaYHjPWvCODxeHQQsno0PjfKuUALNohDLpYC2GRfhmgbHzJ08LEesFaBFo8LQAT4ArDVtBCydD/aCFk6/I/3tqYMAbF/D5Tq40DFpwJRgXMC4w/HEx09dOeH+BAS0w9LVYtWoVaUd3ks9OOnbcfeNZ5HI5lcgpa3H58uUfP34INPDos5OOFd43nuXmzZt5eXlUgseegFHym9+9FDhGEEJWqzU2Nra6ujoqKsqjny7gs497LMm7T0hIuH379vz58/0OnoPmuCgqKtq7d6+wc0Py2YWPJXn3d+/eZRiGihCIos/+9OnTlpaW8+fPC7Qh+ezCxwp496WlpS4GtRiojQuDwVBeXh4UNH6H7j678LEk776qqio8PHzJkiWiY/8JtfXC/b4g/BGcDx8+xMfHf/z4EXnaH9z92IGBAa1Wy/+oRWJi4qlTp3Q6nd9hu0D5+0e4GwR/r3SuDclnJx0rsG98TU2NRCKhKAT6xc9aJJ+dhIB3X1JSUlhYSDc8mvfU6Q48g2NACwzlrzOZ1sC4wIAWmP8DJIEVje3jyoMAAAAASUVORK5CYII=",sst="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAACcCAIAAAB0jvvBAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAK4ElEQVR4nO2da0hU3RrHnzF9s8b7FSchTwmZk5dEE5xTdkUTLxAFZeItYcgKm5EUyTISobTMPNGHwF6NjIwsykIQs8AMImWMNCtKMYtUqhl1NNN0zoe1mtln71nb7etMc6bW79Oep7X2XvNvXbb7P8/aIp1OBxQAG0s34P8FKgTGVn8kE/37H5+lTffYFI2xJLRHYKgQGCoEhgqBoUJgqBAYKgSGCoGhQmCoEBgqBIYKgaFCYKgQGCoEhgqBoUJgTCaE6CeseG9vb0JCgqurq6ura0JCQm9vL7euRqNJS0tzd3f39PQ8ceIE85+eP38eExPj4ODg7+9fW1uLgg8ePNi6dauTk5NEIklPTx8aGmK1wWhL+DGZEDqdzugD8ZSUlJCQkL6+vr6+vqCgoJSUFG4ZhUIxNTXV09PT1dXV09Pz999/o/ibN28SEhJSU1MHBgZaWlru37+P4iUlJdnZ2a9evXr9+vWKFSuSk5NZzSA1hgeRvoJJnlmKRCJWC8Ri8eDgoKOjIwCMjo76+PiMj4+zqnt4eLx8+dLLywsAhoaGdu7c2draCgDJyckymezAgQM8l9Zqtd7e3uic3KsLx+xzRFxc3JkzZ0ZGRjQaTVlZWVxcnNFi+p4sEom6urrQcUtLi1arlUgk7u7uaWlpGo2GVWt8fPzChQubNm3SRzw9PcVicVBQUGVl5czMjPB2mr1HfPz4USaT9ff3A8Dy5cufPHkikUhY1VNTU2dnZ8vLywFAoVDcuHFjenoaAGxtbffs2XP27FkAyMnJsbe3148a+Kmdl5dXW1ubv7+/Pv79+/cXL14cPnw4IiLi3LlzAr+C2XtEenp6cnKyWq1Wq9XJyclpaWncMhUVFTqdLiAgIDg4WCqVenh4oLhYLC4vL/fy8vLy8jp//vy9e/eYtXQ63cjIyP79+zMzM5nxxYsXh4eHX7t2rbq6Wng7zd4jli5dOjQ0xD9HMLl48WJbWxtaINavX19fX4/mjuHh4TVr1gwPD7PKj46OSiQSrVbLin/48CEiIuLTp08Cv4LZe0RoaGhpaalGo9FoNKdPn167di2KM5e3lJSUt2/fqtXq69evnzp16vjx4yiekZGhVCqHh4eHh4dzcnLi4+NRfMeOHSqVanJycmBg4OjRoxs3bkTxpKSk9vb2iYmJnp6ejIyMXbt2CW+nie8jmAeImpqa9vZ2Pz8/Pz8/lUpVU1PDrRsbGxsTE+Pr63v58uU7d+6sWrUKxTMzM1euXCmVSgMCAuzs7NAkAgAZGRlyudzNzU0mk01PT1+5cgXFs7KysrOzPT09ExISIiMjS0tL59F+0w4N64XeYmOoEBgqBMbws4BZR7EF22FxDELMuDhYsB0Wh9kjqBAAADDlTIcGAABMO9AeAQAAE1QIxFe6aiC0tEdgxFQIhAMdGgh6H4GhQwNDhwaGrhoYR0fLNcPy0OcRGCoExmRCPHz4MDY21tnZWSKRZGVlffnyBcV1Ol1+fr6bm5ubm1tBQQHJmzTqerPcbScnJ1acdRIeV31OTCZEUVFRdnb2u3fvOjs7bW1t9Y7WpUuXmpubOzo6Ojo6mpqaqqqquHVJrjfT2r5586ZcLmfGuechuepCMDzOFz38LLwaC90mD+bHsbExX1/fkZERAIiKijp27Nj27dsBoLGxsaSk5PFj9rN/Ia53ZGTkrVu3li1bZmg6x1UjuepCMMsc0dLSEhISgo67u7sjIiLQcXh4eHd3t9Hy/K733bt3pVIpUwUSRl11IZheCJVKdfDgwcrKSvRRq9U6OzujYxcXl7GxMW6Vz58/d3V1dXZ29vT0TE1NKRQKVoGSkpIjR47Meem4uDiFQoEsQoVCwTVEeTCxEI8ePUpMTKytrQ0NDUURBwcHNEYAQKPROBq7W+F3vRsbG729vVevXj3n1UmuuhBMKURdXd3evXvr6+s3bNigD0ql0mfPnqHj9vZ2qVTKrRgcHMwc7azloLi4OD8/X0gD3Nzcamtrv379Ojg46OLisnnzZuGNN5kQ5eXleXl5zc3N69atY8ZTU1MLCwvRb6gKCwvT09NRnPltSa43ADQ3N4tEIplMJqQNJFddCLZzFxFGbm4uAAQGBuojY2NjDg4Ocrm8t7c3LCwMAORy+b59+7h1MzMz+/v7pVLpzMxMfHy83vUGgOLi4ry8PFZ55owIAPrehFz1wcFBmUzGdNWFYJbl0xqht9gYKgSGCoFhTJaL53H7wcHq5wiGEH8tRAirhykE36/+fntMNTSsHoYQdlQIBB0aGNojMLRHYOyoEAg6NDC0R2BsqBAYOjQAAGAlTFiwHRbHIMRy+KOHBn0egaFCYMzuhpPiTEi53qS8cpLDTjqPEMzuhpPiTEi53qS8cpLDzpMzPieGx/lbYBN/UR4ewEPmR6YbLiTOhJnrTcorF+KwM88jBLO74ULieli53qS88jkddm7O+JyYzOnSg9zwhoYGgXE9zFxvFKmoqJDJZCdPnoSfeeUozu+wc88jBLO74fxxJtxcb1JeOb/DTsoZ58eUc0RdXZ1Sqbx9+zbLBybFjcLM9SbllQuZI0g54yTM7oaT4kw3nJTrTcorJznspPMIwWRC5Obmvn//PjAwUP+TN/S/QYozIeV6k/LK5XL5li1bwsLCwsLCtm3bpnfYSecRglmWT2uE3mJjqBAYKgTGcEP1L5i1YDssjkEIn9kFCGH9HcsghMf4AoSw/lQPgxCuE1QIAABw/PZHv3rFIITTQoaG9cPoEQsZGtaPQQgxFQKxlA4NhHicTpYAALBUS3sEAAAsoUMDsUhLhwZilPYIxNgf3SOs/89GE0GFwJjdDdcTHR1N2r2c5G6T3HBSnJRLLgSzu+GImpqaHz9+kOqS3G2SG06Kk3LJhcBIrz40j5w4Nv95zfzEcr3VanVoaGhTU1NAQIDR5HaSc0Vyw4Xsvs7NJefnV7jhBQUFhw4d4kk+JLnbJDd8zt3XheeS6zF9j1CpVImJiQ0NDcjvffr0qVKpbG1ttbGxIe1tv2jRosnJSTs7OwCYnp5esmQJGkekXdbn3H09MjKyurpaSBa1HrO74QqFoqqqysaG70Ikd5vkhvPvvi48l5yJKXuEUdebu1JwOwVpjiC54fy7r0dFRZWVlQnMotZjdjec9cILQ+IxQyCSu01yw0lxmGcuOROzu+FCILnbJDecZ/d1o7nkQjDL8mmN0FtsDBUCQ4XAMJ5H0Ed1mG9UCAAAmJmYxzuMWCwyRVMsi0GIbwtwun6DnTAZQixgjqBC/D4whKCP8xHf1FQIAACYGKFCAADAJPzz5fM3gNEj6O8sEd+oEAjaIzC0R2Am/uzJkj6PwFAhMGZ3w4W8y5vkYpN2PieVF5KHTuJXuOFzvsub5GKTdj4nlReSh07C8Di/XPTXfL+8HqVuivmR6YbP913eTBdbyM7nJNdbSB46k1/hhgt/lzfXxebf+ZzH9Z4zD52F2XPDUXfQv8u7r6+P513eJSUlzHdco53P9e8T51pnrPKkNgjhF+WGC3mXN9fF5t/5nOR6C8lD52L2ndL/52I2Nvb29qTq3B3R+Xc+N7qD+pxtIGF2N5z0Lm/WUmrUxebZ+dxoeVIbhGCyVYN7j4B2Sm9oaCguLu7u7vbx8dm9e3dhYSHqFKzVJDo6WqlUJiUlMc9w9erVoqIitPM5y/43Wp7UBiFfwSzLpzVCb7ExVAjM/G77fmNoj8BQITD/Bfxnp5ZtDzj+AAAAAElFTkSuQmCC",salt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAACcCAIAAABweyv8AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAG3klEQVR4nO2dTWhTWRSA74ut40xj0mmTSoMwjBUaCbZducmg1hFaxB8QBak/MUUQq0VfFoIoKojgKq2OuBNRCNiFiBQ30qZFpwtBbKXRWGkR7KaNtWl+ran1zSKYd0+szpB3bvKSOd+qeQ33vH6cc9/tO8l9kqIojPiKodAnoC9IB6As85NT+iPnUYaUvzFOpvBQdgBIB4B0AEgHgHQASAeAdABIB4B0AEgHgHQASAeAdABIB4B0AEgHgHQA0HRIX8k6Pjc353K5qqurrVbrxYsXscIJAk2HoihL3pSXZTmVSgWDwUAgEAwGb926hRVRBFLmb0C5VypJUpYUi8Xy6tWrmpoaxtj09PSePXuePHmScyDR5GPuyFSQJEmBQCAPEXNGuI5t27bJshwKhUKhkCzL8XhcdEQtCNfR3d2tKIrdbm9oaHA4HBaLRXRELQjXUVVV5fP5Zmdnp6amKisrt2zZIjqiFoTrOHDgwPj4eDgcvnv37pUrV86fPy86ohbK/v0t/w1+vmSMZa4vra2tLS0tU1NTTqfzwYMH9fX1WBFFgHyhLXZokQ4gHQDSAVCn0i8rKwp4HjpB1bFYaSzgeegEPjtIB6cjZaZi4XQsGCk7OB1J0sHrmKUrC68jTtkB/oWrIB28DiMVC6+D1h1ULFlQsQB4HZQdYO5YWbjT0At0vwNAOgBoOgYGBlpbW81ms81mO3LkyIcPH9LHJQhWOEGg6bhw4UJHR8fExMTIyEhZWZnL5cr8SuHACicItbEgDczkPIrSDFqNsVhs9erVkUiELdXT1zNC5g6/39/Y2Jh5abVaKyoq1q9ff+3atcXFRRERsUDrwmUYHh4+ceJEb29v+mU6NT59+jQ6Onrq1Km3b992dXWhB8UCuVgGBwcPHjzo8/k2btz47dvevXvX2NgYDodzDiQazGLp6enZv3//vXv3lnTBGDMYDCtWrECMiA6aDq/Xe/r06b6+vg0bNvDHd+3a9ezZs2QyGQwG3W733r17sSKKAK1Yvl1TxGIxo9HY29t76dKlly9f1tbW7tu379y5c3pOECEX2uKFFukA0gEgHQBuGfaTlo84lsjcwelYrutPfOYHXkeicKehF7CKpUTgdJSTDioWCGUHgLIDwGcH6aBigVB2ADgdBtIBbh1TsXA66liygOehE1QdvzEqFrrfASEdADQd/f39W7duNZlMNpvt8OHD09PT6ePF0rtPg6bj8uXLHR0dr1+/HhsbW7NmTVtbW/p4UTTuM6iNhT9Zc86j9LMB/mU8Hl+1alUioc7NxdLHx587EonE9evXm5tzl1tAkDv46TmipqZmaGgId+T8gJwdiqJEIpFjx461t7fjjpwfhMwd0WjUZrPxmzH87+aO3bt3Dw8Pz8/PT05Onj17dvPmzVgj5xM0HW63++jRo1VVVU6nc2Fh4c6dO+njmUVHUaw+hBRL8UKLdADpAJAOgLoM+519KeB56ARVR+0XDTpKJclUHZaEBh2l8lUYVcevSdLB6Vj5sQgW0aJRdZi0FEupwGWHlmIpFVQdFaSD1/ELFQvIjgRNpXx2xCk7OB0/U7HwOpbFqVj4O+lRyg5eR4yyo2T+FUWCdACEd/AZYy9evGhpaTEajWvXrvX5fFgRRSC8g//mzZsdO3YcOnRocnLS7/c/fPgQK6IIuOZYp4ZdiP8a41/xHfy2tjan03n8+PHcB88jwjv4fr8/Ho/bbLbq6mqXyzU3N4ceERFkHZIkGY3Grq6u7u7u9JGZmZlAIDAyMhIMBlOplCzLuBFxwS+WaDTq9Xr9fv/jx48ZY2azeXx83Gq1MsZCoZDD4Xj//r2WMxYKfrGYTCaPx/P8+fP0y4aGBr53r/M2rfAOvtvt9ng86UdOnDx5cvv27VgRRSC8g9/e3l5XV+dwOOx2e3l5udfrxYooAiEX2uKFFukA0gEgHQDufgfdHAQ6PpIO/qECydx39FqGcSp6QNXxUUMXrmR2OuV0aJg7SEdpwumgxgLQESYd/CMnIqSD0zHPdL11Zn7gsoM+VwrmDtJB2ZEFZQeAzw6aSul+B4R0APB1bNq0iW+mfG93fX2CrOP27dufP3/mj/xgd30dojYWvNLynEfxKCnGWDgcbmpqevTokd1uX/Jbs/zu+voEMzvOnDnT2dn5g8czZ+2ur0PQvoP/9OnT0dHRGzdufO8NWbvr6xO07JBl+ebNmwbD0gMODg7u3LnT5/M1NTVhRRQB2tzxbWs+M3JPT4/H47l//37WjvI6BK1Ysj61oFr2eq9evdrX17du3TqsWOLAvLKog3I6vre7fs6xhIL/QBIGM6Uo9qnIQIt0AOkAFMemK3mDsgNAOgD/AGDItYzUzw9FAAAAAElFTkSuQmCC",oceancondition="/assets/ocean_condition.679360db.png";function createLegend(){const i={palette:["#006400","#ffbb22","#ffff4c","#f096ff","#fa0000","#f0f0f0","#0064c8","#0096a0","#00cf75","#fae6a0"],names:["Tree cover","Shrubland","Grassland","Cropland","Built-up","Bare / sparse vegetation","Permanent water bodies","Herbaceous wetland","Mangroves","Moss and lichen"]},t={palette:["#04ff17","red","green"],names:["mangrove 2015 - 2020","Loss","Gain"]},e=r=>{let a=[];for(let s=0;s<r.names.length;s++)a.push({landcover:r.names[s],color:r.palette[s]});return a};return{setLegendColors:function(r){let a=[];switch(r){case"landcover":a=e(i);break;case"mangrove":a=e(t);break;default:a=e(i)}return a}}}var Legend_vue_vue_type_style_index_0_lang="";const _hoisted_1$g={key:0,class:"lengend-rect-gee"},_hoisted_2$c={class:"col q-pa-sm q-ma-none q-gutter-none bg-white text-grey-10",style:{"max-width":"fit"}},_hoisted_3$c={class:"h6 q-pa-sm text-bold"},_hoisted_4$c={class:"my-font q-px-sm q-my-sm",style:{"font-size":"0.75rem","font-weight":"normal"}},_hoisted_5$9=createBaseVNode("br",null,null,-1),_hoisted_6$9={key:1,class:"legend-rect bg-white text-grey-9"},_hoisted_7$9={class:"h6 q-pa-xs text-bold"},_hoisted_8$9={class:"column",style:{"max-width":"100%"}},_hoisted_9$7=["src"],_sfc_main$i={__name:"Legend",setup(i){const t=useRasterStore(),{setLegendColors:e}=createLegend(),n=ref([]),r=ref(!1),a=ref(""),s=ref(null),c=async function(){let p=t.getLayerName;if(p=="landcover"||p=="mangrove"){switch(r.value=!0,p){case"mangrove":a.value="Mangrove Cover";break;default:a.value="Land Cover";break}n.value=e(p)}else switch(r.value=!1,p){case"UG_GMES_ocean_state_forecast":s.value=oceancondition,a.value="Ocean State";break;case"SSC":s.value=scc,a.value="Surface Currents";break;case"SSH":s.value=ssh,a.value="Surface Height";break;case"SST":s.value=sst,a.value="Temperature";break;case"SALT":s.value=salt,a.value="Salintity";break;case"SWH":s.value=swh,a.value="Wave Height";break;default:s.value=oceancondition,a.value="Ocean State";break}};return onMounted(()=>{c()}),watch(()=>t.getLayerName,()=>{c()},{deep:!0}),(p,g)=>r.value?(openBlock(),createElementBlock("div",_hoisted_1$g,[createBaseVNode("div",_hoisted_2$c,[createBaseVNode("div",_hoisted_3$c,toDisplayString(a.value),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(n.value,(y,b)=>(openBlock(),createElementBlock("div",{class:"q-gutter-xs q-pa-xs",key:b,style:{"min-width":"12vw"}},[createBaseVNode("i",{style:normalizeStyle(["background:"+y.color,{"font-size":"0.75em",border:"0px outset black","border-radius":"12px"}]),class:"q-px-sm q-my-xs"},null,4),createBaseVNode("span",_hoisted_4$c,toDisplayString(y.landcover),1),_hoisted_5$9]))),128))])])):(openBlock(),createElementBlock("div",_hoisted_6$9,[createBaseVNode("div",_hoisted_7$9,toDisplayString(a.value),1),createBaseVNode("div",_hoisted_8$9,[createBaseVNode("img",{src:s.value,style:{width:"85%"},alt:""},null,8,_hoisted_9$7)])]))}};var vue3Tour="",Tour_vue_vue_type_style_index_0_lang="";const iconHtml='<i class="fa fa-check"></i>',_sfc_main$h={__name:"Tour",setup(i){const t=ref([{target:".layer-options",content:`Change the layer date ${iconHtml} or years for the layer displayed on the map.`},{target:".zoom-buttons",content:"Use the <strong>zoomin and zoomout</strong> to set the zoom level of the map. You can reset the zoom by clicking on the reset zoom button between the zoom-in and zoom-out buttons."},{target:".gradient-rect",content:"The date slider allows you to quickly select a date for the layer to be added to the map."},{target:".basemap-selection",content:"Use the date slider to quickly select a date for the layer loaded on the map."},{target:".tab-item",content:"Use this to switch bettween the Services (Layers) and Analysis (Statistics) tab"}]);return onMounted(()=>{}),(e,n)=>{const r=resolveComponent("v-tour");return openBlock(),createBlock(r,{class:"site-tour q-pa-none q-ma-none",name:"myTour",steps:t.value,options:{highlight:!0}},null,8,["steps"])}}};var _imports_0="/assets/northarrow2.aefb9576.png";const _sfc_main$g={components:{Maplegend:_sfc_main$i},setup(){const i=useRasterStore(),t=ref(new Date);function e(r){const a=r.substring(0,4),s=r.substring(4,6);return`${r.substring(6,8)}-${s}-${a}`}return{mapTitle:computed(()=>{let r,a=i.getLayerName,s=i.getSelectedDate;if(s=e(s),a=="landcover"||a=="mangrove")switch(a){case"mangrove":r="Mangrove Cover";break;default:r="Land Cover";break}else switch(a){case"UG_GMES_ocean_state_forecast":r=`Ocean State ${s}`;break;case"SSC":r=`Sea Surface Currents ${s}`;break;case"SSH":r=`Sea Surface Height ${s}`;break;case"SST":r=`Sea Surface Temperature ${s}`;break;case"SALT":r=`Salintity ${s}`;break;case"SWH":r=`Significant Wave Height ${s}`;break;default:r=a+` ${s}`;break}return r}),printDate:t}}},_hoisted_1$f={class:"title text-grey-10 q-px-md q-py-sm",style:{"background-color":"#00000000","text-decoration":"underline",display:"none",top:"2px",width:"98.5%",position:"fixed","z-index":"10000"},"leaflet-browser-print-content":""},_hoisted_2$b={class:"north-arrow q-px-md",style:{width:"fit-content",height:"fit-content",display:"none",position:"absolute","z-index":"100000",top:"10%",right:"250px"},"leaflet-browser-print-content":""},_hoisted_3$b=createBaseVNode("img",{src:_imports_0,style:{position:"relative",width:"100%",height:"100%",left:"-1%"}},null,-1),_hoisted_4$b=createBaseVNode("div",{class:"target-div",style:{width:"fit-content",height:"fit-content",display:"none",position:"absolute",bottom:"20%",left:"5%"},"leaflet-browser-print-content":""},null,-1),_hoisted_5$8={class:"my-font sub-content q-mr-md",style:{display:"none","max-width":"200px"},"leaflet-browser-print-content":""},_hoisted_6$8={class:"column justify-between q-ma-none q-px-xs",style:{position:"relative",height:"100%"}},_hoisted_7$8={class:"row"},_hoisted_8$8={class:"q-pa-xs",style:{border:"1px solid grey",width:"100%"}},_hoisted_9$6={style:{"max-width":"85%"}},_hoisted_10$6={class:"row q-mt-xs q-mb-xs"},_hoisted_11$4={class:"q-my-none q-pa-xs bg-grey-2"},_hoisted_12$4=createBaseVNode("div",{class:"row items-center"},[createBaseVNode("h6",{class:"q-my-none q-pr-sm",style:{"font-size":"1em","font-weight":"bold"}}," Data Source: "),createBaseVNode("p",{class:"text-justify q-my-none",style:{"font-size":"1em","max-width":"200px"}},[createBaseVNode("span",null,[createBaseVNode("a",{href:"https://derickongeri.github.io"},"MarCNoWA geoportal")])])],-1),_hoisted_13$4={class:"row items-center"},_hoisted_14$3=createBaseVNode("h6",{class:"q-my-none q-pr-sm",style:{"font-size":"1em","font-weight":"bold"}}," Print Date: ",-1),_hoisted_15$3={class:"text-justify q-my-none",style:{"font-size":"1em","max-width":"200px"}},_hoisted_16$2=createBaseVNode("div",{class:"row items-start"},[createBaseVNode("p",{class:"q-my-none q-pr-sm",style:{"font-size":"1em","font-weight":"bold"}}," Credit: "),createBaseVNode("p",{class:"text-justify q-my-none",style:{"font-size":"1em","max-width":"200px"}}," Regional Marine Centre, University of Ghana, C/o P.O.Box LG 99, Legon Accra, GHANA ")],-1),_hoisted_17$2=createBaseVNode("div",{class:"footer-content",style:{"text-decoration":"underline",display:"none",bottom:"0px",width:"98.5%",height:"12%",position:"fixed","z-index":"10000"},"leaflet-browser-print-content":""},[createBaseVNode("div",{class:"row items-center q-pa-sm justify-between bg-white q-ma-xs",style:{"min-width":"98%","min-height":"98%"}},[createBaseVNode("div",{class:"column"},[createBaseVNode("a",{href:"http://gmes.africa-union.org",target:"_blank",rel:"noopener"},[createBaseVNode("img",{src:_imports_0$1,style:{position:"relative",width:"100%",height:"55px"}})])]),createBaseVNode("div",{class:"column"},[createBaseVNode("a",{href:"http://gmes.africa-union.org",target:"_blank",rel:"noopener"},[createBaseVNode("img",{src:_imports_1,style:{position:"relative",width:"100%",height:"55px"}})])]),createBaseVNode("div",{class:"column q-pl-md"},[createBaseVNode("a",{href:"https://au.int/",target:"_blank",rel:"noopener"},[createBaseVNode("img",{src:_imports_2,style:{position:"relative",width:"100%",height:"55px",left:"-1%"}})])]),createBaseVNode("div",{class:"column q-pl-md"},[createBaseVNode("a",{href:"https://european-union.europa.eu",target:"_blank",rel:"noopener"},[createBaseVNode("img",{src:_imports_3,style:{position:"relative",width:"100%",height:"55px",left:"-1%"}})])]),createBaseVNode("div",{class:"column q-pl-md"},[createBaseVNode("a",{href:"https://cbas.ug.edu.gh/news/cbas-launches-%E2%82%AC24-million-marcnowa-project-under-gmes-and-africa-programme",target:"_blank",rel:"noopener"},[createBaseVNode("img",{src:_imports_4,style:{position:"relative",width:"100%",height:"60px",left:"-1%"}})])])])],-1);function _sfc_render$5(i,t,e,n,r,a){const s=resolveComponent("Maplegend");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("h6",_hoisted_1$f,toDisplayString(n.mapTitle),1),createBaseVNode("div",_hoisted_2$b,[createVNode(QAvatar,{square:"",size:"50px",class:"q-ma-none"},{default:withCtx(()=>[_hoisted_3$b]),_:1})]),_hoisted_4$b,createBaseVNode("div",_hoisted_5$8,[createBaseVNode("div",_hoisted_6$8,[createBaseVNode("div",_hoisted_7$8,[createBaseVNode("div",_hoisted_8$8,[createBaseVNode("div",_hoisted_9$6,[createVNode(s)])])]),createBaseVNode("div",_hoisted_10$6,[createBaseVNode("div",_hoisted_11$4,[_hoisted_12$4,createBaseVNode("div",_hoisted_13$4,[_hoisted_14$3,createBaseVNode("p",_hoisted_15$3,toDisplayString(n.printDate),1)]),_hoisted_16$2])])])]),_hoisted_17$2],64)}var printLayout=_export_sfc(_sfc_main$g,[["render",_sfc_render$5]]);function setSelectedRaster(){const i=useRasterStore();return{setRasterLayerSelected:async function(){let n=i.getSelectedDate,r=i.getLayerName,a=r+"_"+n;const s="https://geoportal.gmes.ug.edu.gh/geoserver/marcnowa/wms";return L.tileLayer.wms(s,{layers:`marcnowa:${a}`,format:"image/png",transparent:"true",opacity:1,styles:`marcnowa:${r}`})},getEarthEngineLayer:async function(n){let r=null,a=[],s=null,c=i.getSelectedYear;switch(n){case"landcover":s=await axios.post("https://geoportal.gmes.ug.edu.gh/ee/api/landcovermap",{year:c},{headers:{"Content-Type":"application/json"}});break;default:s=await axios.get("https://geoportal.gmes.ug.edu.gh/ee/api/mangrovemap");break}const p=s.data.tileList.reverse(),g=(y,b)=>{r=L.tileLayer(`https://earthengine.googleapis.com/v1alpha/${b}/tiles/{z}/{x}/{y}`,{transparent:!0,crs:L.CRS.EPSG4326,format:"image/png",attribution:"google earth engine",zIndex:y+2}),a.push(r)};for(let y=0;y<p.length;y++)g(y,p[y]);return a}}}const useStatsStore=defineStore({id:"fetchStatsStore",state:()=>({selectedGrid:null,centerPoint:null,customPolygon:null,dates:null,oceanConditionList:{calm:null,rough:null,dangerous:null},chartData:{ug_gmes_ocean_state_forecast:null,salt:null,sst:null,ssc:null,ssh:null,swh:null,mangrovecover:null,mangrovechange:null,landcover:null}}),getters:{getSelectedGrid:i=>i.selectedGrid,getCenterPoint:i=>i.centerPoint,getChartData:i=>t=>i.chartData[t],getOceanConditionList:i=>i.oceanConditionList,getfilterdates:i=>i.dates,getCustomPolygon:i=>i.customPolygon},actions:{setSelectedGrid(i){this.selectedGrid=i,console.log(this.selectedGrid)},setCustomPolygon(i){this.customPolygon=i},setCenterPoint(i){this.centerPoint=i},updateChartData(i,t){this.chartData.hasOwnProperty(i)?this.chartData[i]=t:console.error(`Unknown variable: ${i}`)},updateOceanCondition(i){this.oceanConditionList={calm:i[0],rough:i[1],dangerous:i[2]}},setFilterDates(i){console.log(i),this.dates=i}}});class EventBus{constructor(){this.__stack={}}on(t,e,n){return(this.__stack[t]||(this.__stack[t]=[])).push({fn:e,ctx:n}),this}once(t,e,n){const r=(...a)=>{this.off(t,r),e.apply(n,a)};return r.__callback=e,this.on(t,r,n)}emit(t){const e=this.__stack[t];if(e!==void 0){const n=[].slice.call(arguments,1);e.forEach(r=>{r.fn.apply(r.ctx,n)})}return this}off(t,e){const n=this.__stack[t];if(n===void 0)return this;if(e===void 0)return delete this.__stack[t],this;const r=n.filter(a=>a.fn!==e&&a.fn.__callback!==e);return r.length!==0?this.__stack[t]=r:delete this.__stack[t],this}}var Map_vue_vue_type_style_index_0_lang="",Map_vue_vue_type_style_index_1_lang="",Map_vue_vue_type_style_index_2_lang="",Map_vue_vue_type_style_index_3_leafletBrowserPrintContent_true_lang="",Map_vue_vue_type_style_index_4_lang="";const _sfc_main$f=defineComponent({components:{dateslider:_sfc_main$n,layerOptions:_sfc_main$j,legendItem:_sfc_main$i,Tour:_sfc_main$h,burnedAreaLayout:printLayout},setup(){const i=new EventBus;useQuasar();const t=useRasterStore(),e=useStatsStore(),{locale:n}=useI18n({useScope:"global"});useNotify();const{setRasterLayerSelected:r,getEarthEngineLayer:a}=setSelectedRaster(),s=ref(300),c=ref(null),p=ref(!1),g=ref(!1),y=ref(null),b=ref(null),C=ref(!0),S=ref(null),A=ref(null),T=ref(null),I=ref(null),z=ref(null),q=ref([16.678691,4.329978]);ref(null);const Y=ref([]),at=ref(null),G=ref(!1),ht=ref(!1),et=ref(null),ot=ref(null),vt=ref(null),wt=ref(null),_t=async function(){const{osmTiles:Zt,darkMap:ae,satellite:ce}=baselayers;Y.value={OSM:Zt,satellite:ce,darkMap:ae};const _e=L$1.latLng(2.615021,-19.530914),de=L$1.latLng(21.438683,29.435631);L$1.latLngBounds(_e,de),y.value=L$1.map("mapid",{zoomControl:!1,layersControl:!0,attributionControl:!1,center:q.value,zoom:4.7,maxZoom:17,zoomSnap:.1,zoomAnimation:!0,fadeAnimation:!0,scrollWheelZoom:!1,smoothWheelZoom:!0,smoothSenesitivity:.5,pmIgnore:!1}),L$1.tileLayer("https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}).addTo(y.value),y.value.scrollWheelZoom=!0,L$1.control.layers(Y.value).addTo(y.value);let xe=document.getElementsByClassName("leaflet-control-layers");xe[0].style.visibility="hidden";var ve=new L$1.Control.Measure({position:"topright"});ve.addTo(y.value),y.value.getContainer().classList.add("crosshair-cursor")},St=()=>{y.value.pm.addControls({position:"topright",drawMarker:!1,drawPolygon:!0,drawPolyline:!1,drawCircle:!1,drawCircleMarker:!1,drawRectangle:!0,editMode:!1,dragMode:!1,cutPolygon:!1,removalMode:!0,rotateMode:!1,drawText:!1,oneBlock:!0}),y.value.pm.setPathOptions({color:"black",fillColor:"green",fillOpacity:0}),["mangrove","landcover"].includes(t.layerName)||y.value.pm.disableDraw(),y.value.on("pm:create",Zt=>{wt.value&&y.value.removeLayer(wt.value),ot.value&&(y.value.removeLayer(ot.value),ot.value=null),wt.value=Zt.layer;const ae=JSON.stringify(Zt.layer.toGeoJSON().geometry);e.setCustomPolygon(ae),y.value.fitBounds(wt.value.getBounds(),{padding:[50,50]})}),y.value.on("pm:remove",Zt=>{wt.value=null,e.setCustomPolygon(null),Qt()})},zt=function(){y.value.setZoom(y.value.getZoom()+1)},bt=function(){y.value.setZoom(y.value.getZoom()-1)},Ct=function(){const Zt=document.getElementsByClassName("leaflet-top leaflet-right")[0];Zt.style.display==="none"?Zt.style.display="block":Zt.style.display="none"},Tt=function(){return G.value=!G.value},Et=function(){setTimeout(()=>{base_map_ctrl_cliked.value===!1&&(G.value=!1)},3e3)},Bt=function(Zt){const ae=Y.value[Zt];switch(y.value.addLayer(ae),ae.bringToFront(),t.layerName){case"landcover":z.value.bringToFront();break;case"mangrove":A.value.bringToFront(),T.value.bringToFront(),I.value.bringToFront();break;default:S.value.bringToFront();break}},Qt=function(){const Zt={landcover:{center:[18.9,.9799450162558969],zoom:5},mangrove:{center:[13.254094739970755,-16.17314525052899],zoom:9}},{center:ae,zoom:ce}=Zt[t.layerName]||Zt.landcover;y.value.setView(ae,ce)},At=function(){const Zt={center:[18.9,.9799450162558969],zoom:5};["landcover","mangrove"].includes(t.layerName)||y.value.setView(Zt.center,Zt.zoom)},Xt=()=>{At(),setTimeout(()=>{let Zt=null;const ae=document.querySelector(".target-div"),ce=document.querySelector(".leaflet-control-better-scale"),_e=document.querySelector(".leaflet-tile-loaded");if(!ae){console.error("targetDiv not found");return}if(!ce){console.error("scaleBar element not found");return}if(!_e){console.error("overlayCanvas not found");return}console.log(ce,"div scalebar"),Zt=ce.cloneNode(!0),Zt.setAttribute("data-cloned","true"),ae.querySelector('[data-cloned="true"]')?console.log("Cloned div already appended"):ae.appendChild(Zt);var de={documentTitle:"",closePopupsOnPrint:!1,manualMode:!1},xe=L$1.browserPrint(y.value,de);xe.print(L$1.BrowserPrint.Mode.Landscape())},300)},ie=async(Zt,ae)=>{wt.value&&y.value.removeLayer(wt.value),ot.value&&(y.value.removeLayer(ot.value),ot.value=null),vt.value&&y.value.removeLayer(vt.value);const ce="https://geoportal.gmes.ug.edu.gh/geoserver/marcnowa/ows",_e=new URLSearchParams({service:"WFS",version:"1.0.0",request:"GetFeature",typeName:"marcnowa:Grids",outputFormat:"application/json",srsName:"EPSG:4326",CQL_FILTER:`DWITHIN(the_geom, POINT(${ae} ${Zt}), 0.000001, meters)`}),de=`${ce}?${_e.toString()}`;console.log(de);let ve=(await axios.get(de)).data;if(console.log("response",ve.features),ve.features.length!==0){e.setSelectedGrid(ve.features[0].properties),ot.value=new L$1.geoJSON([ve],{style:{fillOpacity:0,fillColor:"#42424200",weight:2,color:"#484c4d00"}}),console.log("vector",ot.value);const ni=ot.value.getBounds().getCenter();e.setCenterPoint(`${ni.lat},${ni.lng}`),console.log("Centerpoint Coordinates:",ni);const li=L$1.divIcon({className:"custom-div-icon",html:"<div style='background-color:#0096FF;' class='marker-pin-selected'></div><i class='material-icons' style='font-size: 18px; color: #dfe8f5'>circle</i>",iconSize:[30,42],iconAnchor:[15,42]});vt.value=L$1.marker([Zt,ae],{icon:li}),y.value.setView([ni.lat,ni.lng],9),vt.value.addTo(y.value),ot.value.addTo(y.value).bringToFront()}},Wt=async function(){try{Plugin.show({spinner:QSpinnerFacebook,spinnerSize:"xl",message:"Loading map data..."}),[S.value,A.value,T.value,I.value,z.value].forEach(ce=>{ce&&(console.log(ce),y.value.removeLayer(ce))}),b.value=t.getLayerName;const ae=t.getecosystemLayers.mangrove;switch(console.log(b.value),b.value){case"landcover":y.value.setView([18.678691,4.329978],4.7);let ce=await a("landcover");z.value=ce[0],z.value.addTo(y.value).bringToFront(),z.value.on("load",()=>{Plugin.hide()});break;case"mangrove":const _e=[13.254094739970755,-16.17314525052899],de=9;y.value.setView(_e,de);let xe=await a("mangrove"),ve;switch(A.value=xe[2],T.value=xe[1],I.value=xe[0],ae){case"mangrove2015":ve=A.value;break;case"mangroveChange":ve=I.value;break;default:ve=T.value;break}ve.addTo(y.value).bringToFront(),ve.on("load",()=>{Plugin.hide()});break;default:try{S.value=await r(),S.value.addTo(y.value).bringToFront(),S.value.on("load",()=>{Plugin.hide()})}catch{Plugin.hide()}break}}catch{Plugin.hide()}},$t=()=>{[A.value,T.value,I.value].forEach(de=>{de&&(console.log(de),y.value.removeLayer(de))});let ae=t.getLayerList;const _e=[{layer:A.value,name:"mangrove2015"},{layer:T.value,name:"mangrove2020"},{layer:I.value,name:"mangroveChange"}].filter(de=>ae.includes(de.name));for(const de of _e)de.layer.addTo(y.value).bringToFront()},Ut=computed(()=>window.matchMedia("(max-width: 768px)").matches);watch(Ut,()=>{g.value=window.matchMedia("(max-width: 768px)").matches,p.value=window.matchMedia("(min-width: 768px)").matches}),onBeforeMount(()=>{g.value=window.matchMedia("(max-width: 768px)").matches,p.value=window.matchMedia("(min-width: 768px)").matches}),onMounted(()=>{_t().then(()=>{St(),ht.value=!ht.value,L$1.control.betterscale({position:"bottomright",metric:!0}).addTo(y.value),y.value.on("click",function(ae){var ce=ae.latlng,_e=ce.lat,de=ce.lng;console.log(_e,de),["mangrove","landcover"].includes(t.layerName)||ie(_e,de)})});var Zt=document.querySelectorAll(".overlay-div");Zt.forEach(function(ae){L$1.DomEvent.disableClickPropagation(ae)})});const Ht=computed(()=>t.getSelectedDate),re=computed(()=>({layer:t.getLayerName,date:t.getSelectedDate,year:t.getSelectedYear,showLayer:ht.value,subLayers:t.getecosystemLayers.mangrove}));function te(){g.value&&(c.value.setScrollPosition("horizontal",415,300),s.value=Math.floor(Math.random()*1001)*20)}onMounted(()=>{te()}),watch(Ht,()=>{te()});const Ft=computed(()=>t.getLayerList);watch(re,()=>{Wt()}),watch(Ft,()=>{$t()}),watch(re,()=>{switch(t.layerName){case"mangrove":C.value=!1;break;case"landcover":C.value=!1;break;default:C.value=!0;break}});const oe=()=>{i.emit("startTour")};return{map:y,showLayerOptions:ref(!0),showBaseMapList:G,zoom_in:zt,zoom_out:bt,showListofBaseMaps:Tt,handle_base_layers:Et,change_base_map:Bt,baseMaps:Y,currentBaseLayer:et,current_selected_layer:b,model:ref(2),datepicker:C,locale:n,localeOptions:[{value:"en-US",label:"English"},{value:"fr",label:"French"}],matchMediaDesktop:p,matchMediaMobile:g,position:s,scrollAreaRef:c,startTour:oe,resetZoomLevel:Qt,printLayer:Xt,scaleBar:at,toggleDrawingTools:Ct}}}),_hoisted_1$e={class:"q-pa-xs map-pannel",id:"mapid",style:{overflow:"hidden"}},_hoisted_2$a={class:""},_hoisted_3$a={key:0,class:"col bg-white",style:{}},_hoisted_4$a={key:1,class:"gradient-rect overlay-div q-pb-sm q-px-xl",style:{"background-color":"#002f6b50","backdrop-filter":"blur(10px)"}},_hoisted_5$7={class:"row q-py-sm no-wrap"},_hoisted_6$7={key:0,style:{"min-width":"300vw"}},_hoisted_7$7={class:"row q-mb-md justify-end"},_hoisted_8$7={class:"row basemap-selection bg-white text-grey-9"},_hoisted_9$5=createBaseVNode("img",{src:"https://res.cloudinary.com/dv3id0zrx/image/upload/v1649099828/Screenshot_from_2022-04-04_22-14-36_z8raar.png"},null,-1),_hoisted_10$5={class:"row justify-center",style:{"font-size":"0.75em"}},_hoisted_11$3=createBaseVNode("img",{src:"https://res.cloudinary.com/dv3id0zrx/image/upload/v1649099830/Screenshot_from_2022-04-04_22-14-04_tnx5m7.png"},null,-1),_hoisted_12$3={class:"row justify-center",style:{"font-size":"0.75em"}},_hoisted_13$3=createBaseVNode("img",{src:"https://res.cloudinary.com/dv3id0zrx/image/upload/v1649099827/Screenshot_from_2022-04-04_22-16-08_mu5dfk.png"},null,-1),_hoisted_14$2={class:"row justify-center",style:{"font-size":"0.75em"}},_hoisted_15$2={key:0,class:"q-pa-none q-gutter-sm"},_hoisted_16$1={class:""},_hoisted_17$1={class:"menu-content bg-grey-2 q-pa-sm q-ma-sm",style:{"border-radius":"5px"}},_hoisted_18$1=createBaseVNode("div",{class:"arrow-up q-ma-xs",style:{left:"45%"}},null,-1),_hoisted_19={class:"text-primary q-mx-sm",style:{"font-size":"0.75em"}},_hoisted_20={class:"q-my-sm q-mx-sm",style:{"min-width":"150px"}},_hoisted_21={class:"map-selection q-pa-xs",style:{}},_hoisted_22={class:"row text-grey-9 q-mx-sm",style:{"font-size":"0.75em"}},_hoisted_23=createBaseVNode("span",null,"http://geoportal.gmes.ug.gh",-1),_hoisted_24={class:"text-primary q-mx-sm",style:{"font-size":"0.75em"}},_hoisted_25={class:"row text-grey-9 q-mx-sm",style:{"font-size":"0.75em"}},_hoisted_26={class:"q-my-sm q-mx-sm",style:{"min-width":"150px"}},_hoisted_27={class:"q-gutter-sm q-py-md",id:"#v-step-1"},_hoisted_28={class:"row zoom-buttons justify-end"},_hoisted_29={class:"bg-grey-1 q-pa-none q-ma-none",style:{"border-radius":"20px",border:"1px solid #002f6b"}},_hoisted_30={class:"row"};function _sfc_render$4(i,t,e,n,r,a){const s=resolveComponent("burnedAreaLayout"),c=resolveComponent("layerOptions"),p=resolveComponent("dateslider"),g=resolveComponent("legendItem"),y=resolveComponent("Tour");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",null,[createVNode(s)]),createBaseVNode("div",_hoisted_1$e,[i.matchMediaDesktop?(openBlock(),createElementBlock("div",{key:0,class:"layer-options overlay-div row q-py-sm",style:{"background-color":"#002e6b00"},onMouseover:t[1]||(t[1]=b=>(i.map.dragging.disable(),i.map.scrollWheelZoom.disable())),onMouseleave:t[2]||(t[2]=b=>(i.map.dragging.enable(),i.map.scrollWheelZoom.enable())),onMouseup:t[3]||(t[3]=b=>(i.map.dragging.enable(),i.map.scrollWheelZoom.enable()))},[createBaseVNode("div",_hoisted_2$a,[createVNode(QBtn,{onClick:t[0]||(t[0]=b=>i.showLayerOptions=!i.showLayerOptions),padding:"xs",color:"primary",icon:"mdi-chevron-right"})]),i.showLayerOptions?(openBlock(),createElementBlock("div",_hoisted_3$a,[createVNode(c)])):createCommentVNode("",!0)],32)):createCommentVNode("",!0),i.datepicker&&i.matchMediaDesktop?(openBlock(),createElementBlock("div",_hoisted_4$a,[createVNode(p,{class:""})])):createCommentVNode("",!0),i.matchMediaMobile?(openBlock(),createBlock(QScrollArea,{key:2,ref:"scrollAreaRef",class:"absolute-bottom overlay-div text-white",visible:"",style:{"z-index":"800",height:"10%","min-width":"100vw","background-color":"#002f6b75","backdrop-filter":"blur(10px)"}},{default:withCtx(()=>[createBaseVNode("div",_hoisted_5$7,[i.datepicker?(openBlock(),createElementBlock("div",_hoisted_6$7,[createVNode(p,{class:""})])):createCommentVNode("",!0)])]),_:1},512)):createCommentVNode("",!0),i.matchMediaDesktop?(openBlock(),createElementBlock("div",{key:3,class:"legend-container overlay-div column",style:{"background-color":"#002f6b00","backdrop-filter":"blur(0px)"},onMouseover:t[7]||(t[7]=b=>(i.map.dragging.disable(),i.map.scrollWheelZoom.disable())),onMouseleave:t[8]||(t[8]=b=>(i.map.dragging.enable(),i.map.scrollWheelZoom.enable())),onMouseup:t[9]||(t[9]=b=>(i.map.dragging.enable(),i.map.scrollWheelZoom.enable()))},[createBaseVNode("div",_hoisted_7$7,[createVNode(g)]),createBaseVNode("div",_hoisted_8$7,[createVNode(QList,{class:"row q-gutter-x-md",style:{"min-width":"100px"}},{default:withCtx(()=>[withDirectives((openBlock(),createBlock(QItem,{class:"col q-px-none",clickable:"",onClick:t[4]||(t[4]=b=>i.change_base_map("OSM"))},{default:withCtx(()=>[createVNode(QItemSection,{class:"row q-px-sm"},{default:withCtx(()=>[createVNode(QAvatar,{rounded:""},{default:withCtx(()=>[_hoisted_9$5]),_:1}),createBaseVNode("div",_hoisted_10$5,toDisplayString(i.$t("Grey")),1)]),_:1})]),_:1})),[[Ripple]]),createVNode(QItem,{class:"col q-px-none",clickable:"",onClick:t[5]||(t[5]=b=>i.change_base_map("satellite"))},{default:withCtx(()=>[createVNode(QItemSection,{class:"q-px-sm"},{default:withCtx(()=>[createVNode(QAvatar,{rounded:""},{default:withCtx(()=>[_hoisted_11$3]),_:1}),createBaseVNode("div",_hoisted_12$3,toDisplayString(i.$t("Satellite")),1)]),_:1})]),_:1}),createVNode(QItem,{class:"col q-px-none",clickable:"",onClick:t[6]||(t[6]=b=>i.change_base_map("darkMap"))},{default:withCtx(()=>[createVNode(QItemSection,{class:"q-px-sm"},{default:withCtx(()=>[createVNode(QAvatar,{rounded:""},{default:withCtx(()=>[_hoisted_13$3]),_:1}),createBaseVNode("div",_hoisted_14$2,toDisplayString(i.$t("Dark")),1)]),_:1})]),_:1})]),_:1})])],32)):createCommentVNode("",!0),createBaseVNode("div",{class:"zoom-controls overlay-div q-gutter-xs q-py-sm",style:{width:"fit-content"},onMouseover:t[11]||(t[11]=b=>(i.map.dragging.disable(),i.map.scrollWheelZoom.disable())),onMouseleave:t[12]||(t[12]=b=>(i.map.dragging.enable(),i.map.scrollWheelZoom.enable())),onMouseup:t[13]||(t[13]=b=>(i.map.dragging.enable(),i.map.scrollWheelZoom.enable()))},[i.matchMediaDesktop?(openBlock(),createElementBlock("div",_hoisted_15$2,[createVNode(QBtn,{size:"sm",outline:"",rounded:"","no-caps":"",align:"between",class:"bg-primary btn-fixed-width q-px-md",color:"white",label:i.$t("tour"),icon:"mdi-human-male-board",onClick:t[10]||(t[10]=b=>this.$tours.myTour.start())},null,8,["label"]),createVNode(QBtn,{size:"sm",outline:"",rounded:"","no-caps":"",align:"between",class:"bg-white btn-fixed-width q-px-md",color:"primary",label:i.$t("sharePrint"),icon:"mdi-share-variant"},{default:withCtx(()=>[createVNode(QMenu,{flat:"","auto-close":"",class:"q-pa-sm menu-card",offset:[240,0]},{default:withCtx(()=>[createBaseVNode("div",_hoisted_16$1,[createBaseVNode("div",_hoisted_17$1,[_hoisted_18$1,createBaseVNode("span",_hoisted_19,toDisplayString(i.$t("copylink")),1),createVNode(QSeparator),createBaseVNode("div",_hoisted_20,[createBaseVNode("div",_hoisted_21,[createBaseVNode("span",_hoisted_22,toDisplayString(i.$t("copylinktext")),1),createVNode(QBtnGroup,{outlined:"",rounded:"",flat:""},{default:withCtx(()=>[createVNode(QBtn,{align:"between",class:"btn-fixed-width","no-caps":"",outline:"",color:"primary"},{default:withCtx(()=>[_hoisted_23]),_:1}),createVNode(QBtn,{rounded:"",color:"primary",label:i.$t("copy")},null,8,["label"])]),_:1})])]),createVNode(QSeparator),createBaseVNode("span",_hoisted_24,toDisplayString(i.$t("printmap")),1),createBaseVNode("span",_hoisted_25,toDisplayString(i.$t("printmaptext")),1),createBaseVNode("div",_hoisted_26,[createVNode(QBtn,{color:"primary",label:i.$t("print"),onClick:i.printLayer},null,8,["label","onClick"])])])])]),_:1})]),_:1},8,["label"])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_27,[createBaseVNode("div",_hoisted_28,[createBaseVNode("div",_hoisted_29,[createBaseVNode("div",null,[createVNode(QBtn,{class:"bg-grey-1",size:"sm",round:"",flat:"",color:"primary",icon:"add",onClick:i.zoom_in},null,8,["onClick"])]),createVNode(QSeparator),createBaseVNode("div",null,[createVNode(QBtn,{class:"bg-grey-1",size:"sm",round:"",flat:"",color:"primary",icon:"mdi-refresh",onClick:i.resetZoomLevel},null,8,["onClick"])]),createVNode(QSeparator),createBaseVNode("div",null,[createVNode(QBtn,{class:"bg-grey-1",size:"sm",round:"",flat:"",color:"primary",icon:"remove",onClick:i.zoom_out},null,8,["onClick"])])])]),createBaseVNode("div",_hoisted_30,[createVNode(QSpace),createVNode(QBtn,{class:"bg-grey-1",size:"sm",round:"",outline:"",color:"primary",icon:"mdi-select-drag",onClick:i.toggleDrawingTools},null,8,["onClick"])])])],32)]),createVNode(y)],64)}var mappanel=_export_sfc(_sfc_main$f,[["render",_sfc_render$4]]),QTab=createComponent({name:"QTab",props:useTabProps,emits:useTabEmits,setup(i,{slots:t,emit:e}){const{renderTab:n}=useTab(i,t,e);return()=>n("div")}}),QTabPanel=createComponent({name:"QTabPanel",props:usePanelChildProps,setup(i,{slots:t}){return()=>h("div",{class:"q-tab-panel",role:"tabpanel"},hSlot(t.default))}}),QTabPanels=createComponent({name:"QTabPanels",props:{...usePanelProps,...useDarkProps},emits:usePanelEmits,setup(i,{slots:t}){const e=getCurrentInstance(),n=useDark(i,e.proxy.$q),{updatePanelsList:r,getPanelContent:a,panelDirectives:s}=usePanel(),c=computed(()=>"q-tab-panels q-panel-parent"+(n.value===!0?" q-tab-panels--dark q-dark":""));return()=>(r(t),hDir("div",{class:c.value},a(),"pan",i.swipeable,()=>s.value))}});const alignValues=["top","middle","bottom"];var QBadge=createComponent({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:i=>alignValues.includes(i)}},setup(i,{slots:t}){const e=computed(()=>i.align!==void 0?{verticalAlign:i.align}:null),n=computed(()=>{const r=i.outline===!0&&i.color||i.textColor;return`q-badge flex inline items-center no-wrap q-badge--${i.multiLine===!0?"multi":"single"}-line`+(i.outline===!0?" q-badge--outline":i.color!==void 0?` bg-${i.color}`:"")+(r!==void 0?` text-${r}`:"")+(i.floating===!0?" q-badge--floating":"")+(i.rounded===!0?" q-badge--rounded":"")+(i.transparent===!0?" q-badge--transparent":"")});return()=>h("div",{class:n.value,style:e.value,role:"status","aria-label":i.label},hMergeSlot(t.default,i.label!==void 0?[i.label]:[]))}}),lulcImg="/assets/lulcThumb.a779af08.png",mangroveImg="/assets/mangroveThumb.b4f33ec6.png",coastalecolayers_vue_vue_type_style_index_0_scoped_true_lang="";const _hoisted_1$d={class:"q-px-md q-pb-sm text-grey-9 fit row wrap justify-start q-gutter-y-md q-gutter-x-lg content-start"},_hoisted_2$9=["name"],_hoisted_3$9=["src"],_hoisted_4$9={class:"text-label",style:{"max-width":"100px","text-align":"center"},dense:""},_sfc_main$e={__name:"coastalecolayers",setup(i){const{t}=useI18n(),e=useRasterStore();ref("");const n=ref(e.getLayerName),r=computed(()=>[{label:t("CoastalLanduse"),icon:"mdi-map-legend",value:"landcover",img:lulcImg,activeStatus:!1},{label:t("MangroveCover"),icon:"mdi-forest",value:"mangrove",img:mangroveImg,activeStatus:!1}]),a=c=>{r.value.forEach(p=>{p.value===c&&(p.activeStatus=!0),p.value!==c&&(p.activeStatus=!1)}),n.value=c};watch(n,c=>{e.setLayerName(c)});const s=computed(()=>{e.getLayerName});return watch(s,()=>{n.value=e.getLayerName},{deep:!0}),(c,p)=>(openBlock(),createElementBlock("div",_hoisted_1$d,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.value,(g,y)=>(openBlock(),createElementBlock("div",{name:g.id,key:g.id,class:"column items-center"},[createVNode(QItem,{clickable:"",onClick:b=>a(g.value,g.activeStatus),class:normalizeClass(["column q-mx-sm items-center",{clicked:g.activeStatus}]),style:{"max-width":"100px"}},{default:withCtx(()=>[createVNode(QItemSection,null,{default:withCtx(()=>[createBaseVNode("img",{src:g.img,style:{width:"100%",height:"70%","border-radius":"5px"}},null,8,_hoisted_3$9)]),_:2},1024),createVNode(QItemSection,null,{default:withCtx(()=>[createVNode(QItemLabel,null,{default:withCtx(()=>[createBaseVNode("span",_hoisted_4$9,[createTextVNode(toDisplayString(g.label)+" ",1),createVNode(QBadge,{floating:"",transparent:"",color:"primary"},{default:withCtx(()=>[createVNode(QIcon,{name:g.icon,size:"xs",color:"white",class:"q-ml-xs"},null,8,["name"])]),_:2},1024)])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick","class"])],8,_hoisted_2$9))),128))]))}};var coastalecolayers=_export_sfc(_sfc_main$e,[["__scopeId","data-v-27063be6"]]),oceanstateImg="/assets/oceanstatethumb.7ccbfaa7.png",sstImg="/assets/sstthumb.01a88bfe.png",saltImg="/assets/saltThumb.536e0a64.png",currentsImg="/assets/currentsThumb.cb2b32a0.png",sshImg="/assets/sshThumb.c4c25654.png",swhImg="/assets/swhThumb.4fa5e2b8.png",oceancondition_vue_vue_type_style_index_0_scoped_true_lang="";const _hoisted_1$c={class:"q-pa-none text-grey-9 fit row wrap justify-start q-gutter-y-md q-gutter-x-lg content-start"},_hoisted_2$8=["name"],_hoisted_3$8=["src"],_hoisted_4$8={class:"text-label",style:{"max-width":"100px","text-align":"center"},dense:""},_sfc_main$d={__name:"oceancondition",setup(i){const{t}=useI18n(),e=useRasterStore(),n=ref(e.getLayerName),r=computed(()=>[{label:t("OceanState"),icon:"mdi-alert",value:"UG_GMES_ocean_state_forecast",img:oceanstateImg,activeStatus:!1},{label:t("Temperature"),icon:"mdi-thermometer-water",value:"SST",img:sstImg,activeStatus:!1},{label:t("Salinity"),icon:"mdi-grain",value:"SALT",img:saltImg,activeStatus:!1},{label:t("Currents"),icon:"mdi-weather-windy",value:"SSC",img:currentsImg,activeStatus:!1},{label:t("SurfaceHeight"),icon:"mdi-waves-arrow-up",value:"SSH",img:sshImg,activeStatus:!1},{label:t("WaveHeight"),icon:"mdi-surfing",value:"SWH",img:swhImg,activeStatus:!1}]),a=s=>{r.value.forEach(c=>{c.value===s&&(c.activeStatus=!0),c.value!==s&&(c.activeStatus=!1)}),n.value=s};return watch(n,s=>{e.setLayerName(s)}),computed(()=>{e.getLayerName}),watch(()=>e.getLayerName,s=>{n.value=e.getLayerName},{deep:!0}),(s,c)=>(openBlock(),createBlock(QCard,{flat:"",class:""},{default:withCtx(()=>[createVNode(QCardSection,null,{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$c,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.value,(p,g)=>(openBlock(),createElementBlock("div",{name:p.id,key:p.id,class:"column items-center"},[createVNode(QItem,{clickable:"",onClick:y=>a(p.value,p.activeStatus),class:normalizeClass(["column q-mx-sm items-center",{clicked:p.activeStatus}]),style:{"max-width":"100px"}},{default:withCtx(()=>[createVNode(QItemSection,null,{default:withCtx(()=>[createBaseVNode("img",{src:p.img,style:{width:"100%",height:"70%","border-radius":"5px"}},null,8,_hoisted_3$8)]),_:2},1024),createVNode(QItemSection,null,{default:withCtx(()=>[createVNode(QItemLabel,null,{default:withCtx(()=>[createBaseVNode("span",_hoisted_4$8,[createTextVNode(toDisplayString(p.label)+" ",1),createVNode(QBadge,{floating:"",transparent:"",color:"primary"},{default:withCtx(()=>[createVNode(QIcon,{name:p.icon,size:"xs",color:"white",class:"q-ml-xs"},null,8,["name"])]),_:2},1024)])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick","class"])],8,_hoisted_2$8))),128))])]),_:1})]),_:1}))}};var coastalThumbnails=_export_sfc(_sfc_main$d,[["__scopeId","data-v-7e2c32aa"]]),pfzImg="/assets/pfzThumb.d7622949.png",pfzlayers_vue_vue_type_style_index_0_scoped_true_lang="";const _hoisted_1$b={class:"q-px-md q-pb-sm text-grey-9 fit row wrap justify-start q-gutter-y-md q-gutter-x-lg content-start"},_hoisted_2$7=["name"],_hoisted_3$7=["src"],_hoisted_4$7={class:"text-label",style:{"max-width":"100px","text-align":"center"},dense:""},_sfc_main$c={__name:"pfzlayers",setup(i){const{t}=useI18n(),e=useRasterStore();ref("");const n=ref(e.getLayerName),r=computed(()=>[{label:t("fdmLayer"),icon:"mdi-fish",value:"Density_Map",img:pfzImg,activeStatus:!1}]),a=c=>{r.value.forEach(p=>{p.value===c&&(p.activeStatus=!0),p.value!==c&&(p.activeStatus=!1)}),n.value=c};watch(n,c=>{e.setLayerName(c)});const s=computed(()=>{e.getLayerName});return watch(s,()=>{n.value=e.getLayerName},{deep:!0}),(c,p)=>(openBlock(),createElementBlock("div",_hoisted_1$b,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.value,(g,y)=>(openBlock(),createElementBlock("div",{name:g.id,key:g.id,class:"column items-center"},[createVNode(QItem,{clickable:"",onClick:b=>a(g.value,g.activeStatus),class:normalizeClass(["column q-mx-sm items-center",{clicked:g.activeStatus}]),style:{"max-width":"100px"}},{default:withCtx(()=>[createVNode(QItemSection,null,{default:withCtx(()=>[createBaseVNode("img",{src:g.img,style:{width:"100%",height:"70%","border-radius":"5px"}},null,8,_hoisted_3$7)]),_:2},1024),createVNode(QItemSection,null,{default:withCtx(()=>[createVNode(QItemLabel,null,{default:withCtx(()=>[createBaseVNode("span",_hoisted_4$7,[createTextVNode(toDisplayString(g.label)+" ",1),createVNode(QBadge,{floating:"",transparent:"",color:"primary"},{default:withCtx(()=>[createVNode(QIcon,{name:g.icon,size:"xs",color:"white",class:"q-ml-xs"},null,8,["name"])]),_:2},1024)])]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick","class"])],8,_hoisted_2$7))),128))]))}};var pfzThumbnails=_export_sfc(_sfc_main$c,[["__scopeId","data-v-a80454e2"]]);const _hoisted_1$a={class:"q-pa-none",style:{"min-width":"16vw",overflow:"hidden"}},_sfc_main$b={__name:"Layerselection",setup(i){const t=ref([!0,!0,!0]),e=ref("mdi-chevron-up"),n=r=>{t.value[r]=!t.value[r]};return watch(()=>t.value,r=>{t.value,t.value?e.value="mdi-chevron-up":e.value="mdi-chevron-down"}),(r,a)=>(openBlock(),createElementBlock("div",_hoisted_1$a,[createVNode(QList,null,{default:withCtx(()=>[createVNode(QItem,{clickable:"",onClick:a[0]||(a[0]=s=>n(0)),class:"row items-center q-ma-none q-pa-none"},{default:withCtx(()=>[createVNode(QItemLabel,{class:"col text-primary text-bold",header:""},{default:withCtx(()=>[createVNode(QIcon,{class:"q-pr-lg",size:"sm",color:"primary",name:"mdi-ferry"}),createTextVNode(" "+toDisplayString(r.$t("serviceTitleOne")),1)]),_:1}),createVNode(QSpace),createVNode(QIcon,{class:"q-mr-lg",name:e.value,size:"sm"},null,8,["name"])]),_:1}),createVNode(QSeparator),t.value[0]?(openBlock(),createBlock(QItem,{key:0},{default:withCtx(()=>[createVNode(QItemSection,null,{default:withCtx(()=>[createVNode(coastalThumbnails)]),_:1})]),_:1})):createCommentVNode("",!0),createVNode(QItem,{clickable:"",onClick:a[1]||(a[1]=s=>n(1)),class:"row items-center q-ma-none q-pa-none"},{default:withCtx(()=>[createVNode(QItemLabel,{class:"col text-primary text-bold",header:""},{default:withCtx(()=>[createVNode(QIcon,{class:"q-pr-lg",size:"sm",color:"primary",name:"mdi-fish"}),createTextVNode(" "+toDisplayString(r.$t("serviceTitleTwo")),1)]),_:1}),createVNode(QSpace),createVNode(QIcon,{class:"q-mr-lg",name:e.value,size:"sm"},null,8,["name"])]),_:1}),createVNode(QSeparator),t.value[1]?(openBlock(),createBlock(QItem,{key:1,class:""},{default:withCtx(()=>[createVNode(QItemSection,{class:""},{default:withCtx(()=>[createVNode(pfzThumbnails)]),_:1})]),_:1})):createCommentVNode("",!0),createVNode(QItem,{clickable:"",onClick:a[2]||(a[2]=s=>n(2)),class:"row items-center q-ma-none q-pa-none"},{default:withCtx(()=>[createVNode(QItemLabel,{class:"col text-primary text-bold",header:""},{default:withCtx(()=>[createVNode(QIcon,{class:"q-pr-lg",size:"sm",color:"primary",name:"mdi-sprout"}),createTextVNode(" "+toDisplayString(r.$t("serviceTitleThree")),1)]),_:1}),createVNode(QSpace),createVNode(QIcon,{class:"q-mr-lg",name:e.value,size:"sm"},null,8,["name"])]),_:1}),createVNode(QSeparator),t.value[2]?(openBlock(),createBlock(QItem,{key:2,class:""},{default:withCtx(()=>[createVNode(QItemSection,{class:""},{default:withCtx(()=>[createVNode(coastalecolayers)]),_:1})]),_:1})):createCommentVNode("",!0),createVNode(QSeparator)]),_:1})]))}};var QTooltip=createComponent({name:"QTooltip",inheritAttrs:!1,props:{...useAnchorStaticProps,...useModelToggleProps,...useTransitionProps,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...useTransitionProps.transitionShow,default:"jump-down"},transitionHide:{...useTransitionProps.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:validatePosition},self:{type:String,default:"top middle",validator:validatePosition},offset:{type:Array,default:()=>[14,14],validator:validateOffset},scrollTarget:scrollTargetProp,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...useModelToggleEmits],setup(i,{slots:t,emit:e,attrs:n}){let r,a;const s=getCurrentInstance(),{proxy:{$q:c}}=s,p=ref(null),g=ref(!1),y=computed(()=>parsePosition(i.anchor,c.lang.rtl)),b=computed(()=>parsePosition(i.self,c.lang.rtl)),C=computed(()=>i.persistent!==!0),{registerTick:S,removeTick:A}=useTick(),{registerTimeout:T}=useTimeout(),{transitionProps:I,transitionStyle:z}=useTransition(i),{localScrollTarget:q,changeScrollEvent:Y,unconfigureScrollTarget:at}=useScrollTarget(i,At),{anchorEl:G,canShow:ht,anchorEvents:et}=useAnchor({showing:g,configureAnchorEl:Qt}),{show:ot,hide:vt}=useModelToggle({showing:g,canShow:ht,handleShow:zt,handleHide:bt,hideOnRouteChange:C,processOnMount:!0});Object.assign(et,{delayShow:Et,delayHide:Bt});const{showPortal:wt,hidePortal:_t,renderPortal:St}=usePortal(s,p,ie,"tooltip");if(c.platform.is.mobile===!0){const Wt={anchorEl:G,innerRef:p,onClickOutside(Ut){return vt(Ut),Ut.target.classList.contains("q-dialog__backdrop")&&stopAndPrevent(Ut),!0}},$t=computed(()=>i.modelValue===null&&i.persistent!==!0&&g.value===!0);watch($t,Ut=>{(Ut===!0?addClickOutside:removeClickOutside)(Wt)}),onBeforeUnmount(()=>{removeClickOutside(Wt)})}function zt(Wt){wt(),S(()=>{a=new MutationObserver(()=>Tt()),a.observe(p.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),Tt(),At()}),r===void 0&&(r=watch(()=>c.screen.width+"|"+c.screen.height+"|"+i.self+"|"+i.anchor+"|"+c.lang.rtl,Tt)),T(()=>{wt(!0),e("show",Wt)},i.transitionDuration)}function bt(Wt){A(),_t(),Ct(),T(()=>{_t(!0),e("hide",Wt)},i.transitionDuration)}function Ct(){a!==void 0&&(a.disconnect(),a=void 0),r!==void 0&&(r(),r=void 0),at(),cleanEvt(et,"tooltipTemp")}function Tt(){setPosition({targetEl:p.value,offset:i.offset,anchorEl:G.value,anchorOrigin:y.value,selfOrigin:b.value,maxHeight:i.maxHeight,maxWidth:i.maxWidth})}function Et(Wt){if(c.platform.is.mobile===!0){clearSelection(),document.body.classList.add("non-selectable");const $t=G.value,Ut=["touchmove","touchcancel","touchend","click"].map(Ht=>[$t,Ht,"delayHide","passiveCapture"]);addEvt(et,"tooltipTemp",Ut)}T(()=>{ot(Wt)},i.delay)}function Bt(Wt){c.platform.is.mobile===!0&&(cleanEvt(et,"tooltipTemp"),clearSelection(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),T(()=>{vt(Wt)},i.hideDelay)}function Qt(){if(i.noParentEvent===!0||G.value===null)return;const Wt=c.platform.is.mobile===!0?[[G.value,"touchstart","delayShow","passive"]]:[[G.value,"mouseenter","delayShow","passive"],[G.value,"mouseleave","delayHide","passive"]];addEvt(et,"anchor",Wt)}function At(){if(G.value!==null||i.scrollTarget!==void 0){q.value=getScrollTarget(G.value,i.scrollTarget);const Wt=i.noParentEvent===!0?Tt:vt;Y(q.value,Wt)}}function Xt(){return g.value===!0?h("div",{...n,ref:p,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",n.class],style:[n.style,z.value],role:"tooltip"},hSlot(t.default)):null}function ie(){return h(Transition,I.value,Xt)}return onBeforeUnmount(Ct),Object.assign(s.proxy,{updatePosition:Tt}),St}});const innerHTML='<g transform="translate(-20,-20)"><path d="M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z" fill="currentColor"><animateTransform attributeName="transform" type="rotate" from="90 50 50" to="0 50 50" dur="1s" repeatCount="indefinite"></animateTransform></path></g><g transform="translate(20,20) rotate(15 50 50)"><path d="M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z" fill="currentColor"><animateTransform attributeName="transform" type="rotate" from="0 50 50" to="90 50 50" dur="1s" repeatCount="indefinite"></animateTransform></path></g>';var QSpinnerGears=createComponent({name:"QSpinnerGears",props:useSpinnerProps,setup(i){const{cSize:t,classes:e}=useSpinner(i);return()=>h("svg",{class:e.value,width:t.value,height:t.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg",innerHTML})}}),QInnerLoading=createComponent({name:"QInnerLoading",props:{...useDarkProps,...useTransitionProps,showing:Boolean,color:String,size:{type:[String,Number],default:"42px"},label:String,labelClass:String,labelStyle:[String,Array,Object]},setup(i,{slots:t}){const e=getCurrentInstance(),n=useDark(i,e.proxy.$q),{transitionProps:r,transitionStyle:a}=useTransition(i),s=computed(()=>"q-inner-loading q--avoid-card-border absolute-full column flex-center"+(n.value===!0?" q-inner-loading--dark":"")),c=computed(()=>"q-inner-loading__label"+(i.labelClass!==void 0?` ${i.labelClass}`:""));function p(){const y=[h(QSpinner,{size:i.size,color:i.color})];return i.label!==void 0&&y.push(h("div",{class:c.value,style:i.labelStyle},[i.label])),y}function g(){return i.showing===!0?h("div",{class:s.value,style:a.value},t.default!==void 0?t.default():p()):null}return()=>h(Transition,r.value,g)}});/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function round(i){return i+.5|0}const lim=(i,t,e)=>Math.max(Math.min(i,e),t);function p2b(i){return lim(round(i*2.55),0,255)}function n2b(i){return lim(round(i*255),0,255)}function b2n(i){return lim(round(i/2.55)/100,0,1)}function n2p(i){return lim(round(i*100),0,100)}const map$1={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hex=[..."0123456789ABCDEF"],h1=i=>hex[i&15],h2=i=>hex[(i&240)>>4]+hex[i&15],eq=i=>(i&240)>>4===(i&15),isShort=i=>eq(i.r)&&eq(i.g)&&eq(i.b)&&eq(i.a);function hexParse(i){var t=i.length,e;return i[0]==="#"&&(t===4||t===5?e={r:255&map$1[i[1]]*17,g:255&map$1[i[2]]*17,b:255&map$1[i[3]]*17,a:t===5?map$1[i[4]]*17:255}:(t===7||t===9)&&(e={r:map$1[i[1]]<<4|map$1[i[2]],g:map$1[i[3]]<<4|map$1[i[4]],b:map$1[i[5]]<<4|map$1[i[6]],a:t===9?map$1[i[7]]<<4|map$1[i[8]]:255})),e}const alpha=(i,t)=>i<255?t(i):"";function hexString(i){var t=isShort(i)?h1:h2;return i?"#"+t(i.r)+t(i.g)+t(i.b)+alpha(i.a,t):void 0}const HUE_RE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hsl2rgbn(i,t,e){const n=t*Math.min(e,1-e),r=(a,s=(a+i/30)%12)=>e-n*Math.max(Math.min(s-3,9-s,1),-1);return[r(0),r(8),r(4)]}function hsv2rgbn(i,t,e){const n=(r,a=(r+i/60)%6)=>e-e*t*Math.max(Math.min(a,4-a,1),0);return[n(5),n(3),n(1)]}function hwb2rgbn(i,t,e){const n=hsl2rgbn(i,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)n[r]*=1-t-e,n[r]+=t;return n}function hueValue(i,t,e,n,r){return i===r?(t-e)/n+(t<e?6:0):t===r?(e-i)/n+2:(i-t)/n+4}function rgb2hsl(i){const e=i.r/255,n=i.g/255,r=i.b/255,a=Math.max(e,n,r),s=Math.min(e,n,r),c=(a+s)/2;let p,g,y;return a!==s&&(y=a-s,g=c>.5?y/(2-a-s):y/(a+s),p=hueValue(e,n,r,y,a),p=p*60+.5),[p|0,g||0,c]}function calln(i,t,e,n){return(Array.isArray(t)?i(t[0],t[1],t[2]):i(t,e,n)).map(n2b)}function hsl2rgb(i,t,e){return calln(hsl2rgbn,i,t,e)}function hwb2rgb(i,t,e){return calln(hwb2rgbn,i,t,e)}function hsv2rgb(i,t,e){return calln(hsv2rgbn,i,t,e)}function hue(i){return(i%360+360)%360}function hueParse(i){const t=HUE_RE.exec(i);let e=255,n;if(!t)return;t[5]!==n&&(e=t[6]?p2b(+t[5]):n2b(+t[5]));const r=hue(+t[2]),a=+t[3]/100,s=+t[4]/100;return t[1]==="hwb"?n=hwb2rgb(r,a,s):t[1]==="hsv"?n=hsv2rgb(r,a,s):n=hsl2rgb(r,a,s),{r:n[0],g:n[1],b:n[2],a:e}}function rotate(i,t){var e=rgb2hsl(i);e[0]=hue(e[0]+t),e=hsl2rgb(e),i.r=e[0],i.g=e[1],i.b=e[2]}function hslString(i){if(!i)return;const t=rgb2hsl(i),e=t[0],n=n2p(t[1]),r=n2p(t[2]);return i.a<255?`hsla(${e}, ${n}%, ${r}%, ${b2n(i.a)})`:`hsl(${e}, ${n}%, ${r}%)`}const map={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},names$1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function unpack(){const i={},t=Object.keys(names$1),e=Object.keys(map);let n,r,a,s,c;for(n=0;n<t.length;n++){for(s=c=t[n],r=0;r<e.length;r++)a=e[r],c=c.replace(a,map[a]);a=parseInt(names$1[s],16),i[c]=[a>>16&255,a>>8&255,a&255]}return i}let names;function nameParse(i){names||(names=unpack(),names.transparent=[0,0,0,0]);const t=names[i.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const RGB_RE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rgbParse(i){const t=RGB_RE.exec(i);let e=255,n,r,a;if(!!t){if(t[7]!==n){const s=+t[7];e=t[8]?p2b(s):lim(s*255,0,255)}return n=+t[1],r=+t[3],a=+t[5],n=255&(t[2]?p2b(n):lim(n,0,255)),r=255&(t[4]?p2b(r):lim(r,0,255)),a=255&(t[6]?p2b(a):lim(a,0,255)),{r:n,g:r,b:a,a:e}}}function rgbString(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${b2n(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}const to=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,from=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function interpolate$1(i,t,e){const n=from(b2n(i.r)),r=from(b2n(i.g)),a=from(b2n(i.b));return{r:n2b(to(n+e*(from(b2n(t.r))-n))),g:n2b(to(r+e*(from(b2n(t.g))-r))),b:n2b(to(a+e*(from(b2n(t.b))-a))),a:i.a+e*(t.a-i.a)}}function modHSL(i,t,e){if(i){let n=rgb2hsl(i);n[t]=Math.max(0,Math.min(n[t]+n[t]*e,t===0?360:1)),n=hsl2rgb(n),i.r=n[0],i.g=n[1],i.b=n[2]}}function clone$1(i,t){return i&&Object.assign(t||{},i)}function fromObject(i){var t={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(t={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(t.a=n2b(i[3]))):(t=clone$1(i,{r:0,g:0,b:0,a:1}),t.a=n2b(t.a)),t}function functionParse(i){return i.charAt(0)==="r"?rgbParse(i):hueParse(i)}class Color{constructor(t){if(t instanceof Color)return t;const e=typeof t;let n;e==="object"?n=fromObject(t):e==="string"&&(n=hexParse(t)||nameParse(t)||functionParse(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=clone$1(this._rgb);return t&&(t.a=b2n(t.a)),t}set rgb(t){this._rgb=fromObject(t)}rgbString(){return this._valid?rgbString(this._rgb):void 0}hexString(){return this._valid?hexString(this._rgb):void 0}hslString(){return this._valid?hslString(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,r=t.rgb;let a;const s=e===a?.5:e,c=2*s-1,p=n.a-r.a,g=((c*p===-1?c:(c+p)/(1+c*p))+1)/2;a=1-g,n.r=255&g*n.r+a*r.r+.5,n.g=255&g*n.g+a*r.g+.5,n.b=255&g*n.b+a*r.b+.5,n.a=s*n.a+(1-s)*r.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=interpolate$1(this._rgb,t._rgb,e)),this}clone(){return new Color(this.rgb)}alpha(t){return this._rgb.a=n2b(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=round(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return modHSL(this._rgb,2,t),this}darken(t){return modHSL(this._rgb,2,-t),this}saturate(t){return modHSL(this._rgb,1,t),this}desaturate(t){return modHSL(this._rgb,1,-t),this}rotate(t){return rotate(this._rgb,t),this}}/*!
 * Chart.js v4.4.2
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function noop(){}const uid=(()=>{let i=0;return()=>i++})();function isNullOrUndef(i){return i===null||typeof i=="undefined"}function isArray(i){if(Array.isArray&&Array.isArray(i))return!0;const t=Object.prototype.toString.call(i);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function isObject(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function isNumberFinite(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function finiteOrDefault(i,t){return isNumberFinite(i)?i:t}function valueOrDefault(i,t){return typeof i=="undefined"?t:i}const toPercentage=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/t,toDimension=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*t:+i;function callback(i,t,e){if(i&&typeof i.call=="function")return i.apply(e,t)}function each(i,t,e,n){let r,a,s;if(isArray(i))if(a=i.length,n)for(r=a-1;r>=0;r--)t.call(e,i[r],r);else for(r=0;r<a;r++)t.call(e,i[r],r);else if(isObject(i))for(s=Object.keys(i),a=s.length,r=0;r<a;r++)t.call(e,i[s[r]],s[r])}function _elementsEqual(i,t){let e,n,r,a;if(!i||!t||i.length!==t.length)return!1;for(e=0,n=i.length;e<n;++e)if(r=i[e],a=t[e],r.datasetIndex!==a.datasetIndex||r.index!==a.index)return!1;return!0}function clone(i){if(isArray(i))return i.map(clone);if(isObject(i)){const t=Object.create(null),e=Object.keys(i),n=e.length;let r=0;for(;r<n;++r)t[e[r]]=clone(i[e[r]]);return t}return i}function isValidKey(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function _merger(i,t,e,n){if(!isValidKey(i))return;const r=t[i],a=e[i];isObject(r)&&isObject(a)?merge(r,a,n):t[i]=clone(a)}function merge(i,t,e){const n=isArray(t)?t:[t],r=n.length;if(!isObject(i))return i;e=e||{};const a=e.merger||_merger;let s;for(let c=0;c<r;++c){if(s=n[c],!isObject(s))continue;const p=Object.keys(s);for(let g=0,y=p.length;g<y;++g)a(p[g],i,s,e)}return i}function mergeIf(i,t){return merge(i,t,{merger:_mergerIf})}function _mergerIf(i,t,e){if(!isValidKey(i))return;const n=t[i],r=e[i];isObject(n)&&isObject(r)?mergeIf(n,r):Object.prototype.hasOwnProperty.call(t,i)||(t[i]=clone(r))}const keyResolvers={"":i=>i,x:i=>i.x,y:i=>i.y};function _splitKey(i){const t=i.split("."),e=[];let n="";for(const r of t)n+=r,n.endsWith("\\")?n=n.slice(0,-1)+".":(e.push(n),n="");return e}function _getKeyResolver(i){const t=_splitKey(i);return e=>{for(const n of t){if(n==="")break;e=e&&e[n]}return e}}function resolveObjectKey(i,t){return(keyResolvers[t]||(keyResolvers[t]=_getKeyResolver(t)))(i)}function _capitalize(i){return i.charAt(0).toUpperCase()+i.slice(1)}const defined=i=>typeof i!="undefined",isFunction=i=>typeof i=="function",setsEqual=(i,t)=>{if(i.size!==t.size)return!1;for(const e of i)if(!t.has(e))return!1;return!0};function _isClickEvent(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}const PI=Math.PI,TAU=2*PI,PITAU=TAU+PI,INFINITY=Number.POSITIVE_INFINITY,RAD_PER_DEG=PI/180,HALF_PI=PI/2,QUARTER_PI=PI/4,TWO_THIRDS_PI=PI*2/3,log10=Math.log10,sign=Math.sign;function almostEquals(i,t,e){return Math.abs(i-t)<e}function niceNum(i){const t=Math.round(i);i=almostEquals(i,t,i/1e3)?t:i;const e=Math.pow(10,Math.floor(log10(i))),n=i/e;return(n<=1?1:n<=2?2:n<=5?5:10)*e}function _factorize(i){const t=[],e=Math.sqrt(i);let n;for(n=1;n<e;n++)i%n===0&&(t.push(n),t.push(i/n));return e===(e|0)&&t.push(e),t.sort((r,a)=>r-a).pop(),t}function isNumber(i){return!isNaN(parseFloat(i))&&isFinite(i)}function almostWhole(i,t){const e=Math.round(i);return e-t<=i&&e+t>=i}function _setMinAndMaxByKey(i,t,e){let n,r,a;for(n=0,r=i.length;n<r;n++)a=i[n][e],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function toRadians(i){return i*(PI/180)}function toDegrees(i){return i*(180/PI)}function _decimalPlaces(i){if(!isNumberFinite(i))return;let t=1,e=0;for(;Math.round(i*t)/t!==i;)t*=10,e++;return e}function getAngleFromPoint(i,t){const e=t.x-i.x,n=t.y-i.y,r=Math.sqrt(e*e+n*n);let a=Math.atan2(n,e);return a<-.5*PI&&(a+=TAU),{angle:a,distance:r}}function distanceBetweenPoints(i,t){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}function _angleDiff(i,t){return(i-t+PITAU)%TAU-PI}function _normalizeAngle(i){return(i%TAU+TAU)%TAU}function _angleBetween(i,t,e,n){const r=_normalizeAngle(i),a=_normalizeAngle(t),s=_normalizeAngle(e),c=_normalizeAngle(a-r),p=_normalizeAngle(s-r),g=_normalizeAngle(r-a),y=_normalizeAngle(r-s);return r===a||r===s||n&&a===s||c>p&&g<y}function _limitValue(i,t,e){return Math.max(t,Math.min(e,i))}function _int16Range(i){return _limitValue(i,-32768,32767)}function _isBetween(i,t,e,n=1e-6){return i>=Math.min(t,e)-n&&i<=Math.max(t,e)+n}function _lookup(i,t,e){e=e||(s=>i[s]<t);let n=i.length-1,r=0,a;for(;n-r>1;)a=r+n>>1,e(a)?r=a:n=a;return{lo:r,hi:n}}const _lookupByKey=(i,t,e,n)=>_lookup(i,e,n?r=>{const a=i[r][t];return a<e||a===e&&i[r+1][t]===e}:r=>i[r][t]<e),_rlookupByKey=(i,t,e)=>_lookup(i,e,n=>i[n][t]>=e);function _filterBetween(i,t,e){let n=0,r=i.length;for(;n<r&&i[n]<t;)n++;for(;r>n&&i[r-1]>e;)r--;return n>0||r<i.length?i.slice(n,r):i}const arrayEvents=["push","pop","shift","splice","unshift"];function listenArrayEvents(i,t){if(i._chartjs){i._chartjs.listeners.push(t);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),arrayEvents.forEach(e=>{const n="_onData"+_capitalize(e),r=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(...a){const s=r.apply(this,a);return i._chartjs.listeners.forEach(c=>{typeof c[n]=="function"&&c[n](...a)}),s}})})}function unlistenArrayEvents(i,t){const e=i._chartjs;if(!e)return;const n=e.listeners,r=n.indexOf(t);r!==-1&&n.splice(r,1),!(n.length>0)&&(arrayEvents.forEach(a=>{delete i[a]}),delete i._chartjs)}function _arrayUnique(i){const t=new Set(i);return t.size===i.length?i:Array.from(t)}const requestAnimFrame=function(){return typeof window=="undefined"?function(i){return i()}:window.requestAnimationFrame}();function throttled(i,t){let e=[],n=!1;return function(...r){e=r,n||(n=!0,requestAnimFrame.call(window,()=>{n=!1,i.apply(t,e)}))}}function debounce$1(i,t){let e;return function(...n){return t?(clearTimeout(e),e=setTimeout(i,t,n)):i.apply(this,n),t}}const _toLeftRightCenter=i=>i==="start"?"left":i==="end"?"right":"center",_alignStartEnd=(i,t,e)=>i==="start"?t:i==="end"?e:(t+e)/2,_textX=(i,t,e,n)=>i===(n?"left":"right")?e:i==="center"?(t+e)/2:t;function _getStartAndCountOfVisiblePoints(i,t,e){const n=t.length;let r=0,a=n;if(i._sorted){const{iScale:s,_parsed:c}=i,p=s.axis,{min:g,max:y,minDefined:b,maxDefined:C}=s.getUserBounds();b&&(r=_limitValue(Math.min(_lookupByKey(c,p,g).lo,e?n:_lookupByKey(t,p,s.getPixelForValue(g)).lo),0,n-1)),C?a=_limitValue(Math.max(_lookupByKey(c,s.axis,y,!0).hi+1,e?0:_lookupByKey(t,p,s.getPixelForValue(y),!0).hi+1),r,n)-r:a=n-r}return{start:r,count:a}}function _scaleRangesChanged(i){const{xScale:t,yScale:e,_scaleRanges:n}=i,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!n)return i._scaleRanges=r,!0;const a=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==e.min||n.ymax!==e.max;return Object.assign(n,r),a}const atEdge=i=>i===0||i===1,elasticIn=(i,t,e)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-t)*TAU/e)),elasticOut=(i,t,e)=>Math.pow(2,-10*i)*Math.sin((i-t)*TAU/e)+1,effects={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*HALF_PI)+1,easeOutSine:i=>Math.sin(i*HALF_PI),easeInOutSine:i=>-.5*(Math.cos(PI*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>atEdge(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>atEdge(i)?i:elasticIn(i,.075,.3),easeOutElastic:i=>atEdge(i)?i:elasticOut(i,.075,.3),easeInOutElastic(i){return atEdge(i)?i:i<.5?.5*elasticIn(i*2,.1125,.45):.5+.5*elasticOut(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let t=1.70158;return(i/=.5)<1?.5*(i*i*(((t*=1.525)+1)*i-t)):.5*((i-=2)*i*(((t*=1.525)+1)*i+t)+2)},easeInBounce:i=>1-effects.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?effects.easeInBounce(i*2)*.5:effects.easeOutBounce(i*2-1)*.5+.5};function isPatternOrGradient(i){if(i&&typeof i=="object"){const t=i.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function color(i){return isPatternOrGradient(i)?i:new Color(i)}function getHoverColor(i){return isPatternOrGradient(i)?i:new Color(i).saturate(.5).darken(.1).hexString()}const numbers=["x","y","borderWidth","radius","tension"],colors=["color","borderColor","backgroundColor"];function applyAnimationsDefaults(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),i.set("animations",{colors:{type:"color",properties:colors},numbers:{type:"number",properties:numbers}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function applyLayoutsDefaults(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const intlCache=new Map;function getNumberFormat(i,t){t=t||{};const e=i+JSON.stringify(t);let n=intlCache.get(e);return n||(n=new Intl.NumberFormat(i,t),intlCache.set(e,n)),n}function formatNumber(i,t,e){return getNumberFormat(t,e).format(i)}const formatters={values(i){return isArray(i)?i:""+i},numeric(i,t,e){if(i===0)return"0";const n=this.chart.options.locale;let r,a=i;if(e.length>1){const g=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(g<1e-4||g>1e15)&&(r="scientific"),a=calculateDelta(i,e)}const s=log10(Math.abs(a)),c=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),p={notation:r,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(p,this.options.ticks.format),formatNumber(i,n,p)},logarithmic(i,t,e){if(i===0)return"0";const n=e[t].significand||i/Math.pow(10,Math.floor(log10(i)));return[1,2,3,5,10,15].includes(n)||t>.8*e.length?formatters.numeric.call(this,i,t,e):""}};function calculateDelta(i,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&i!==Math.floor(i)&&(e=i-Math.floor(i)),e}var Ticks={formatters};function applyScaleDefaults(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ticks.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const overrides=Object.create(null),descriptors=Object.create(null);function getScope$1(i,t){if(!t)return i;const e=t.split(".");for(let n=0,r=e.length;n<r;++n){const a=e[n];i=i[a]||(i[a]=Object.create(null))}return i}function set(i,t,e){return typeof t=="string"?merge(getScope$1(i,t),e):merge(getScope$1(i,""),t)}class Defaults{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,r)=>getHoverColor(r.backgroundColor),this.hoverBorderColor=(n,r)=>getHoverColor(r.borderColor),this.hoverColor=(n,r)=>getHoverColor(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return set(this,t,e)}get(t){return getScope$1(this,t)}describe(t,e){return set(descriptors,t,e)}override(t,e){return set(overrides,t,e)}route(t,e,n,r){const a=getScope$1(this,t),s=getScope$1(this,n),c="_"+e;Object.defineProperties(a,{[c]:{value:a[e],writable:!0},[e]:{enumerable:!0,get(){const p=this[c],g=s[r];return isObject(p)?Object.assign({},g,p):valueOrDefault(p,g)},set(p){this[c]=p}}})}apply(t){t.forEach(e=>e(this))}}var defaults$1=new Defaults({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[applyAnimationsDefaults,applyLayoutsDefaults,applyScaleDefaults]);function toFontString(i){return!i||isNullOrUndef(i.size)||isNullOrUndef(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function _measureText(i,t,e,n,r){let a=t[r];return a||(a=t[r]=i.measureText(r).width,e.push(r)),a>n&&(n=a),n}function _longestText(i,t,e,n){n=n||{};let r=n.data=n.data||{},a=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(r=n.data={},a=n.garbageCollect=[],n.font=t),i.save(),i.font=t;let s=0;const c=e.length;let p,g,y,b,C;for(p=0;p<c;p++)if(b=e[p],b!=null&&!isArray(b))s=_measureText(i,r,a,s,b);else if(isArray(b))for(g=0,y=b.length;g<y;g++)C=b[g],C!=null&&!isArray(C)&&(s=_measureText(i,r,a,s,C));i.restore();const S=a.length/2;if(S>e.length){for(p=0;p<S;p++)delete r[a[p]];a.splice(0,S)}return s}function _alignPixel(i,t,e){const n=i.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*n)/n+r}function clearCanvas(i,t){t=t||i.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,i.width,i.height),t.restore()}function drawPoint(i,t,e,n){drawPointLegend(i,t,e,n,null)}function drawPointLegend(i,t,e,n,r){let a,s,c,p,g,y,b,C;const S=t.pointStyle,A=t.rotation,T=t.radius;let I=(A||0)*RAD_PER_DEG;if(S&&typeof S=="object"&&(a=S.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){i.save(),i.translate(e,n),i.rotate(I),i.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),i.restore();return}if(!(isNaN(T)||T<=0)){switch(i.beginPath(),S){default:r?i.ellipse(e,n,r/2,T,0,0,TAU):i.arc(e,n,T,0,TAU),i.closePath();break;case"triangle":y=r?r/2:T,i.moveTo(e+Math.sin(I)*y,n-Math.cos(I)*T),I+=TWO_THIRDS_PI,i.lineTo(e+Math.sin(I)*y,n-Math.cos(I)*T),I+=TWO_THIRDS_PI,i.lineTo(e+Math.sin(I)*y,n-Math.cos(I)*T),i.closePath();break;case"rectRounded":g=T*.516,p=T-g,s=Math.cos(I+QUARTER_PI)*p,b=Math.cos(I+QUARTER_PI)*(r?r/2-g:p),c=Math.sin(I+QUARTER_PI)*p,C=Math.sin(I+QUARTER_PI)*(r?r/2-g:p),i.arc(e-b,n-c,g,I-PI,I-HALF_PI),i.arc(e+C,n-s,g,I-HALF_PI,I),i.arc(e+b,n+c,g,I,I+HALF_PI),i.arc(e-C,n+s,g,I+HALF_PI,I+PI),i.closePath();break;case"rect":if(!A){p=Math.SQRT1_2*T,y=r?r/2:p,i.rect(e-y,n-p,2*y,2*p);break}I+=QUARTER_PI;case"rectRot":b=Math.cos(I)*(r?r/2:T),s=Math.cos(I)*T,c=Math.sin(I)*T,C=Math.sin(I)*(r?r/2:T),i.moveTo(e-b,n-c),i.lineTo(e+C,n-s),i.lineTo(e+b,n+c),i.lineTo(e-C,n+s),i.closePath();break;case"crossRot":I+=QUARTER_PI;case"cross":b=Math.cos(I)*(r?r/2:T),s=Math.cos(I)*T,c=Math.sin(I)*T,C=Math.sin(I)*(r?r/2:T),i.moveTo(e-b,n-c),i.lineTo(e+b,n+c),i.moveTo(e+C,n-s),i.lineTo(e-C,n+s);break;case"star":b=Math.cos(I)*(r?r/2:T),s=Math.cos(I)*T,c=Math.sin(I)*T,C=Math.sin(I)*(r?r/2:T),i.moveTo(e-b,n-c),i.lineTo(e+b,n+c),i.moveTo(e+C,n-s),i.lineTo(e-C,n+s),I+=QUARTER_PI,b=Math.cos(I)*(r?r/2:T),s=Math.cos(I)*T,c=Math.sin(I)*T,C=Math.sin(I)*(r?r/2:T),i.moveTo(e-b,n-c),i.lineTo(e+b,n+c),i.moveTo(e+C,n-s),i.lineTo(e-C,n+s);break;case"line":s=r?r/2:Math.cos(I)*T,c=Math.sin(I)*T,i.moveTo(e-s,n-c),i.lineTo(e+s,n+c);break;case"dash":i.moveTo(e,n),i.lineTo(e+Math.cos(I)*(r?r/2:T),n+Math.sin(I)*T);break;case!1:i.closePath();break}i.fill(),t.borderWidth>0&&i.stroke()}}function _isPointInArea(i,t,e){return e=e||.5,!t||i&&i.x>t.left-e&&i.x<t.right+e&&i.y>t.top-e&&i.y<t.bottom+e}function clipArea(i,t){i.save(),i.beginPath(),i.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),i.clip()}function unclipArea(i){i.restore()}function _steppedLineTo(i,t,e,n,r){if(!t)return i.lineTo(e.x,e.y);if(r==="middle"){const a=(t.x+e.x)/2;i.lineTo(a,t.y),i.lineTo(a,e.y)}else r==="after"!=!!n?i.lineTo(t.x,e.y):i.lineTo(e.x,t.y);i.lineTo(e.x,e.y)}function _bezierCurveTo(i,t,e,n){if(!t)return i.lineTo(e.x,e.y);i.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?e.cp2x:e.cp1x,n?e.cp2y:e.cp1y,e.x,e.y)}function setRenderOpts(i,t){t.translation&&i.translate(t.translation[0],t.translation[1]),isNullOrUndef(t.rotation)||i.rotate(t.rotation),t.color&&(i.fillStyle=t.color),t.textAlign&&(i.textAlign=t.textAlign),t.textBaseline&&(i.textBaseline=t.textBaseline)}function decorateText(i,t,e,n,r){if(r.strikethrough||r.underline){const a=i.measureText(n),s=t-a.actualBoundingBoxLeft,c=t+a.actualBoundingBoxRight,p=e-a.actualBoundingBoxAscent,g=e+a.actualBoundingBoxDescent,y=r.strikethrough?(p+g)/2:g;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=r.decorationWidth||2,i.moveTo(s,y),i.lineTo(c,y),i.stroke()}}function drawBackdrop(i,t){const e=i.fillStyle;i.fillStyle=t.color,i.fillRect(t.left,t.top,t.width,t.height),i.fillStyle=e}function renderText(i,t,e,n,r,a={}){const s=isArray(t)?t:[t],c=a.strokeWidth>0&&a.strokeColor!=="";let p,g;for(i.save(),i.font=r.string,setRenderOpts(i,a),p=0;p<s.length;++p)g=s[p],a.backdrop&&drawBackdrop(i,a.backdrop),c&&(a.strokeColor&&(i.strokeStyle=a.strokeColor),isNullOrUndef(a.strokeWidth)||(i.lineWidth=a.strokeWidth),i.strokeText(g,e,n,a.maxWidth)),i.fillText(g,e,n,a.maxWidth),decorateText(i,e,n,g,a),n+=Number(r.lineHeight);i.restore()}function addRoundedRectPath(i,t){const{x:e,y:n,w:r,h:a,radius:s}=t;i.arc(e+s.topLeft,n+s.topLeft,s.topLeft,1.5*PI,PI,!0),i.lineTo(e,n+a-s.bottomLeft),i.arc(e+s.bottomLeft,n+a-s.bottomLeft,s.bottomLeft,PI,HALF_PI,!0),i.lineTo(e+r-s.bottomRight,n+a),i.arc(e+r-s.bottomRight,n+a-s.bottomRight,s.bottomRight,HALF_PI,0,!0),i.lineTo(e+r,n+s.topRight),i.arc(e+r-s.topRight,n+s.topRight,s.topRight,0,-HALF_PI,!0),i.lineTo(e+s.topLeft,n)}const LINE_HEIGHT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,FONT_STYLE=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function toLineHeight(i,t){const e=(""+i).match(LINE_HEIGHT);if(!e||e[1]==="normal")return t*1.2;switch(i=+e[2],e[3]){case"px":return i;case"%":i/=100;break}return t*i}const numberOrZero=i=>+i||0;function _readValueToProps(i,t){const e={},n=isObject(t),r=n?Object.keys(t):t,a=isObject(i)?n?s=>valueOrDefault(i[s],i[t[s]]):s=>i[s]:()=>i;for(const s of r)e[s]=numberOrZero(a(s));return e}function toTRBL(i){return _readValueToProps(i,{top:"y",right:"x",bottom:"y",left:"x"})}function toTRBLCorners(i){return _readValueToProps(i,["topLeft","topRight","bottomLeft","bottomRight"])}function toPadding(i){const t=toTRBL(i);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function toFont(i,t){i=i||{},t=t||defaults$1.font;let e=valueOrDefault(i.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let n=valueOrDefault(i.style,t.style);n&&!(""+n).match(FONT_STYLE)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const r={family:valueOrDefault(i.family,t.family),lineHeight:toLineHeight(valueOrDefault(i.lineHeight,t.lineHeight),e),size:e,style:n,weight:valueOrDefault(i.weight,t.weight),string:""};return r.string=toFontString(r),r}function resolve(i,t,e,n){let r=!0,a,s,c;for(a=0,s=i.length;a<s;++a)if(c=i[a],c!==void 0&&(t!==void 0&&typeof c=="function"&&(c=c(t),r=!1),e!==void 0&&isArray(c)&&(c=c[e%c.length],r=!1),c!==void 0))return n&&!r&&(n.cacheable=!1),c}function _addGrace(i,t,e){const{min:n,max:r}=i,a=toDimension(t,(r-n)/2),s=(c,p)=>e&&c===0?0:c+p;return{min:s(n,-Math.abs(a)),max:s(r,a)}}function createContext(i,t){return Object.assign(Object.create(i),t)}function _createResolver(i,t=[""],e,n,r=()=>i[0]){const a=e||i;typeof n=="undefined"&&(n=_resolve("_fallback",i));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:a,_fallback:n,_getTarget:r,override:c=>_createResolver([c,...i],t,a,n)};return new Proxy(s,{deleteProperty(c,p){return delete c[p],delete c._keys,delete i[0][p],!0},get(c,p){return _cached(c,p,()=>_resolveWithPrefixes(p,t,i,c))},getOwnPropertyDescriptor(c,p){return Reflect.getOwnPropertyDescriptor(c._scopes[0],p)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(c,p){return getKeysFromAllScopes(c).includes(p)},ownKeys(c){return getKeysFromAllScopes(c)},set(c,p,g){const y=c._storage||(c._storage=r());return c[p]=y[p]=g,delete c._keys,!0}})}function _attachContext(i,t,e,n){const r={_cacheable:!1,_proxy:i,_context:t,_subProxy:e,_stack:new Set,_descriptors:_descriptors(i,n),setContext:a=>_attachContext(i,a,e,n),override:a=>_attachContext(i.override(a),t,e,n)};return new Proxy(r,{deleteProperty(a,s){return delete a[s],delete i[s],!0},get(a,s,c){return _cached(a,s,()=>_resolveWithContext(a,s,c))},getOwnPropertyDescriptor(a,s){return a._descriptors.allKeys?Reflect.has(i,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,s)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(a,s){return Reflect.has(i,s)},ownKeys(){return Reflect.ownKeys(i)},set(a,s,c){return i[s]=c,delete a[s],!0}})}function _descriptors(i,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:n=t.indexable,_allKeys:r=t.allKeys}=i;return{allKeys:r,scriptable:e,indexable:n,isScriptable:isFunction(e)?e:()=>e,isIndexable:isFunction(n)?n:()=>n}}const readKey=(i,t)=>i?i+_capitalize(t):t,needsSubResolver=(i,t)=>isObject(t)&&i!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function _cached(i,t,e){if(Object.prototype.hasOwnProperty.call(i,t))return i[t];const n=e();return i[t]=n,n}function _resolveWithContext(i,t,e){const{_proxy:n,_context:r,_subProxy:a,_descriptors:s}=i;let c=n[t];return isFunction(c)&&s.isScriptable(t)&&(c=_resolveScriptable(t,c,i,e)),isArray(c)&&c.length&&(c=_resolveArray(t,c,i,s.isIndexable)),needsSubResolver(t,c)&&(c=_attachContext(c,r,a&&a[t],s)),c}function _resolveScriptable(i,t,e,n){const{_proxy:r,_context:a,_subProxy:s,_stack:c}=e;if(c.has(i))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+i);c.add(i);let p=t(a,s||n);return c.delete(i),needsSubResolver(i,p)&&(p=createSubResolver(r._scopes,r,i,p)),p}function _resolveArray(i,t,e,n){const{_proxy:r,_context:a,_subProxy:s,_descriptors:c}=e;if(typeof a.index!="undefined"&&n(i))return t[a.index%t.length];if(isObject(t[0])){const p=t,g=r._scopes.filter(y=>y!==p);t=[];for(const y of p){const b=createSubResolver(g,r,i,y);t.push(_attachContext(b,a,s&&s[i],c))}}return t}function resolveFallback(i,t,e){return isFunction(i)?i(t,e):i}const getScope=(i,t)=>i===!0?t:typeof i=="string"?resolveObjectKey(t,i):void 0;function addScopes(i,t,e,n,r){for(const a of t){const s=getScope(e,a);if(s){i.add(s);const c=resolveFallback(s._fallback,e,r);if(typeof c!="undefined"&&c!==e&&c!==n)return c}else if(s===!1&&typeof n!="undefined"&&e!==n)return null}return!1}function createSubResolver(i,t,e,n){const r=t._rootScopes,a=resolveFallback(t._fallback,e,n),s=[...i,...r],c=new Set;c.add(n);let p=addScopesFromKey(c,s,e,a||e,n);return p===null||typeof a!="undefined"&&a!==e&&(p=addScopesFromKey(c,s,a,p,n),p===null)?!1:_createResolver(Array.from(c),[""],r,a,()=>subGetTarget(t,e,n))}function addScopesFromKey(i,t,e,n,r){for(;e;)e=addScopes(i,t,e,n,r);return e}function subGetTarget(i,t,e){const n=i._getTarget();t in n||(n[t]={});const r=n[t];return isArray(r)&&isObject(e)?e:r||{}}function _resolveWithPrefixes(i,t,e,n){let r;for(const a of t)if(r=_resolve(readKey(a,i),e),typeof r!="undefined")return needsSubResolver(i,r)?createSubResolver(e,n,i,r):r}function _resolve(i,t){for(const e of t){if(!e)continue;const n=e[i];if(typeof n!="undefined")return n}}function getKeysFromAllScopes(i){let t=i._keys;return t||(t=i._keys=resolveKeysFromAllScopes(i._scopes)),t}function resolveKeysFromAllScopes(i){const t=new Set;for(const e of i)for(const n of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(n);return Array.from(t)}function _parseObjectDataRadialScale(i,t,e,n){const{iScale:r}=i,{key:a="r"}=this._parsing,s=new Array(n);let c,p,g,y;for(c=0,p=n;c<p;++c)g=c+e,y=t[g],s[c]={r:r.parse(resolveObjectKey(y,a),g)};return s}const EPSILON=Number.EPSILON||1e-14,getPoint=(i,t)=>t<i.length&&!i[t].skip&&i[t],getValueAxis=i=>i==="x"?"y":"x";function splineCurve(i,t,e,n){const r=i.skip?t:i,a=t,s=e.skip?t:e,c=distanceBetweenPoints(a,r),p=distanceBetweenPoints(s,a);let g=c/(c+p),y=p/(c+p);g=isNaN(g)?0:g,y=isNaN(y)?0:y;const b=n*g,C=n*y;return{previous:{x:a.x-b*(s.x-r.x),y:a.y-b*(s.y-r.y)},next:{x:a.x+C*(s.x-r.x),y:a.y+C*(s.y-r.y)}}}function monotoneAdjust(i,t,e){const n=i.length;let r,a,s,c,p,g=getPoint(i,0);for(let y=0;y<n-1;++y)if(p=g,g=getPoint(i,y+1),!(!p||!g)){if(almostEquals(t[y],0,EPSILON)){e[y]=e[y+1]=0;continue}r=e[y]/t[y],a=e[y+1]/t[y],c=Math.pow(r,2)+Math.pow(a,2),!(c<=9)&&(s=3/Math.sqrt(c),e[y]=r*s*t[y],e[y+1]=a*s*t[y])}}function monotoneCompute(i,t,e="x"){const n=getValueAxis(e),r=i.length;let a,s,c,p=getPoint(i,0);for(let g=0;g<r;++g){if(s=c,c=p,p=getPoint(i,g+1),!c)continue;const y=c[e],b=c[n];s&&(a=(y-s[e])/3,c[`cp1${e}`]=y-a,c[`cp1${n}`]=b-a*t[g]),p&&(a=(p[e]-y)/3,c[`cp2${e}`]=y+a,c[`cp2${n}`]=b+a*t[g])}}function splineCurveMonotone(i,t="x"){const e=getValueAxis(t),n=i.length,r=Array(n).fill(0),a=Array(n);let s,c,p,g=getPoint(i,0);for(s=0;s<n;++s)if(c=p,p=g,g=getPoint(i,s+1),!!p){if(g){const y=g[t]-p[t];r[s]=y!==0?(g[e]-p[e])/y:0}a[s]=c?g?sign(r[s-1])!==sign(r[s])?0:(r[s-1]+r[s])/2:r[s-1]:r[s]}monotoneAdjust(i,r,a),monotoneCompute(i,a,t)}function capControlPoint(i,t,e){return Math.max(Math.min(i,e),t)}function capBezierPoints(i,t){let e,n,r,a,s,c=_isPointInArea(i[0],t);for(e=0,n=i.length;e<n;++e)s=a,a=c,c=e<n-1&&_isPointInArea(i[e+1],t),a&&(r=i[e],s&&(r.cp1x=capControlPoint(r.cp1x,t.left,t.right),r.cp1y=capControlPoint(r.cp1y,t.top,t.bottom)),c&&(r.cp2x=capControlPoint(r.cp2x,t.left,t.right),r.cp2y=capControlPoint(r.cp2y,t.top,t.bottom)))}function _updateBezierControlPoints(i,t,e,n,r){let a,s,c,p;if(t.spanGaps&&(i=i.filter(g=>!g.skip)),t.cubicInterpolationMode==="monotone")splineCurveMonotone(i,r);else{let g=n?i[i.length-1]:i[0];for(a=0,s=i.length;a<s;++a)c=i[a],p=splineCurve(g,c,i[Math.min(a+1,s-(n?0:1))%s],t.tension),c.cp1x=p.previous.x,c.cp1y=p.previous.y,c.cp2x=p.next.x,c.cp2y=p.next.y,g=c}t.capBezierPoints&&capBezierPoints(i,e)}function _isDomSupported(){return typeof window!="undefined"&&typeof document!="undefined"}function _getParentNode(i){let t=i.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function parseMaxStyle(i,t,e){let n;return typeof i=="string"?(n=parseInt(i,10),i.indexOf("%")!==-1&&(n=n/100*t.parentNode[e])):n=i,n}const getComputedStyle=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function getStyle(i,t){return getComputedStyle(i).getPropertyValue(t)}const positions=["top","right","bottom","left"];function getPositionedStyle(i,t,e){const n={};e=e?"-"+e:"";for(let r=0;r<4;r++){const a=positions[r];n[a]=parseFloat(i[t+"-"+a+e])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const useOffsetPos=(i,t,e)=>(i>0||t>0)&&(!e||!e.shadowRoot);function getCanvasPosition(i,t){const e=i.touches,n=e&&e.length?e[0]:i,{offsetX:r,offsetY:a}=n;let s=!1,c,p;if(useOffsetPos(r,a,i.target))c=r,p=a;else{const g=t.getBoundingClientRect();c=n.clientX-g.left,p=n.clientY-g.top,s=!0}return{x:c,y:p,box:s}}function getRelativePosition(i,t){if("native"in i)return i;const{canvas:e,currentDevicePixelRatio:n}=t,r=getComputedStyle(e),a=r.boxSizing==="border-box",s=getPositionedStyle(r,"padding"),c=getPositionedStyle(r,"border","width"),{x:p,y:g,box:y}=getCanvasPosition(i,e),b=s.left+(y&&c.left),C=s.top+(y&&c.top);let{width:S,height:A}=t;return a&&(S-=s.width+c.width,A-=s.height+c.height),{x:Math.round((p-b)/S*e.width/n),y:Math.round((g-C)/A*e.height/n)}}function getContainerSize(i,t,e){let n,r;if(t===void 0||e===void 0){const a=_getParentNode(i);if(!a)t=i.clientWidth,e=i.clientHeight;else{const s=a.getBoundingClientRect(),c=getComputedStyle(a),p=getPositionedStyle(c,"border","width"),g=getPositionedStyle(c,"padding");t=s.width-g.width-p.width,e=s.height-g.height-p.height,n=parseMaxStyle(c.maxWidth,a,"clientWidth"),r=parseMaxStyle(c.maxHeight,a,"clientHeight")}}return{width:t,height:e,maxWidth:n||INFINITY,maxHeight:r||INFINITY}}const round1=i=>Math.round(i*10)/10;function getMaximumSize(i,t,e,n){const r=getComputedStyle(i),a=getPositionedStyle(r,"margin"),s=parseMaxStyle(r.maxWidth,i,"clientWidth")||INFINITY,c=parseMaxStyle(r.maxHeight,i,"clientHeight")||INFINITY,p=getContainerSize(i,t,e);let{width:g,height:y}=p;if(r.boxSizing==="content-box"){const C=getPositionedStyle(r,"border","width"),S=getPositionedStyle(r,"padding");g-=S.width+C.width,y-=S.height+C.height}return g=Math.max(0,g-a.width),y=Math.max(0,n?g/n:y-a.height),g=round1(Math.min(g,s,p.maxWidth)),y=round1(Math.min(y,c,p.maxHeight)),g&&!y&&(y=round1(g/2)),(t!==void 0||e!==void 0)&&n&&p.height&&y>p.height&&(y=p.height,g=round1(Math.floor(y*n))),{width:g,height:y}}function retinaScale(i,t,e){const n=t||1,r=Math.floor(i.height*n),a=Math.floor(i.width*n);i.height=Math.floor(i.height),i.width=Math.floor(i.width);const s=i.canvas;return s.style&&(e||!s.style.height&&!s.style.width)&&(s.style.height=`${i.height}px`,s.style.width=`${i.width}px`),i.currentDevicePixelRatio!==n||s.height!==r||s.width!==a?(i.currentDevicePixelRatio=n,s.height=r,s.width=a,i.ctx.setTransform(n,0,0,n,0,0),!0):!1}const supportsEventListenerOptions=function(){let i=!1;try{const t={get passive(){return i=!0,!1}};_isDomSupported()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return i}();function readUsedSize(i,t){const e=getStyle(i,t),n=e&&e.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function _pointInLine(i,t,e,n){return{x:i.x+e*(t.x-i.x),y:i.y+e*(t.y-i.y)}}function _steppedInterpolation(i,t,e,n){return{x:i.x+e*(t.x-i.x),y:n==="middle"?e<.5?i.y:t.y:n==="after"?e<1?i.y:t.y:e>0?t.y:i.y}}function _bezierInterpolation(i,t,e,n){const r={x:i.cp2x,y:i.cp2y},a={x:t.cp1x,y:t.cp1y},s=_pointInLine(i,r,e),c=_pointInLine(r,a,e),p=_pointInLine(a,t,e),g=_pointInLine(s,c,e),y=_pointInLine(c,p,e);return _pointInLine(g,y,e)}const getRightToLeftAdapter=function(i,t){return{x(e){return i+i+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,n){return e-n},leftForLtr(e,n){return e-n}}},getLeftToRightAdapter=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,t){return i+t},leftForLtr(i,t){return i}}};function getRtlAdapter(i,t,e){return i?getRightToLeftAdapter(t,e):getLeftToRightAdapter()}function overrideTextDirection(i,t){let e,n;(t==="ltr"||t==="rtl")&&(e=i.canvas.style,n=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),i.prevTextDirection=n)}function restoreTextDirection(i,t){t!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",t[0],t[1]))}function propertyFn(i){return i==="angle"?{between:_angleBetween,compare:_angleDiff,normalize:_normalizeAngle}:{between:_isBetween,compare:(t,e)=>t-e,normalize:t=>t}}function normalizeSegment({start:i,end:t,count:e,loop:n,style:r}){return{start:i%e,end:t%e,loop:n&&(t-i+1)%e===0,style:r}}function getSegment(i,t,e){const{property:n,start:r,end:a}=e,{between:s,normalize:c}=propertyFn(n),p=t.length;let{start:g,end:y,loop:b}=i,C,S;if(b){for(g+=p,y+=p,C=0,S=p;C<S&&s(c(t[g%p][n]),r,a);++C)g--,y--;g%=p,y%=p}return y<g&&(y+=p),{start:g,end:y,loop:b,style:i.style}}function _boundSegment(i,t,e){if(!e)return[i];const{property:n,start:r,end:a}=e,s=t.length,{compare:c,between:p,normalize:g}=propertyFn(n),{start:y,end:b,loop:C,style:S}=getSegment(i,t,e),A=[];let T=!1,I=null,z,q,Y;const at=()=>p(r,Y,z)&&c(r,Y)!==0,G=()=>c(a,z)===0||p(a,Y,z),ht=()=>T||at(),et=()=>!T||G();for(let ot=y,vt=y;ot<=b;++ot)q=t[ot%s],!q.skip&&(z=g(q[n]),z!==Y&&(T=p(z,r,a),I===null&&ht()&&(I=c(z,r)===0?ot:vt),I!==null&&et()&&(A.push(normalizeSegment({start:I,end:ot,loop:C,count:s,style:S})),I=null),vt=ot,Y=z));return I!==null&&A.push(normalizeSegment({start:I,end:b,loop:C,count:s,style:S})),A}function _boundSegments(i,t){const e=[],n=i.segments;for(let r=0;r<n.length;r++){const a=_boundSegment(n[r],i.points,t);a.length&&e.push(...a)}return e}function findStartAndEnd(i,t,e,n){let r=0,a=t-1;if(e&&!n)for(;r<t&&!i[r].skip;)r++;for(;r<t&&i[r].skip;)r++;for(r%=t,e&&(a+=r);a>r&&i[a%t].skip;)a--;return a%=t,{start:r,end:a}}function solidSegments(i,t,e,n){const r=i.length,a=[];let s=t,c=i[t],p;for(p=t+1;p<=e;++p){const g=i[p%r];g.skip||g.stop?c.skip||(n=!1,a.push({start:t%r,end:(p-1)%r,loop:n}),t=s=g.stop?p:null):(s=p,c.skip&&(t=p)),c=g}return s!==null&&a.push({start:t%r,end:s%r,loop:n}),a}function _computeSegments(i,t){const e=i.points,n=i.options.spanGaps,r=e.length;if(!r)return[];const a=!!i._loop,{start:s,end:c}=findStartAndEnd(e,r,a,n);if(n===!0)return splitByStyles(i,[{start:s,end:c,loop:a}],e,t);const p=c<s?c+r:c,g=!!i._fullLoop&&s===0&&c===r-1;return splitByStyles(i,solidSegments(e,s,p,g),e,t)}function splitByStyles(i,t,e,n){return!n||!n.setContext||!e?t:doSplitByStyles(i,t,e,n)}function doSplitByStyles(i,t,e,n){const r=i._chart.getContext(),a=readStyle(i.options),{_datasetIndex:s,options:{spanGaps:c}}=i,p=e.length,g=[];let y=a,b=t[0].start,C=b;function S(A,T,I,z){const q=c?-1:1;if(A!==T){for(A+=p;e[A%p].skip;)A-=q;for(;e[T%p].skip;)T+=q;A%p!==T%p&&(g.push({start:A%p,end:T%p,loop:I,style:z}),y=z,b=T%p)}}for(const A of t){b=c?b:A.start;let T=e[b%p],I;for(C=b+1;C<=A.end;C++){const z=e[C%p];I=readStyle(n.setContext(createContext(r,{type:"segment",p0:T,p1:z,p0DataIndex:(C-1)%p,p1DataIndex:C%p,datasetIndex:s}))),styleChanged(I,y)&&S(b,C-1,A.loop,y),T=z,y=I}b<C-1&&S(b,C-1,A.loop,y)}return g}function readStyle(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function styleChanged(i,t){if(!t)return!1;const e=[],n=function(r,a){return isPatternOrGradient(a)?(e.includes(a)||e.push(a),e.indexOf(a)):a};return JSON.stringify(i,n)!==JSON.stringify(t,n)}/*!
 * Chart.js v4.4.2
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class Animator{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,r){const a=e.listeners[r],s=e.duration;a.forEach(c=>c({chart:t,initial:e.initial,numSteps:s,currentStep:Math.min(n-e.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=requestAnimFrame.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;const a=n.items;let s=a.length-1,c=!1,p;for(;s>=0;--s)p=a[s],p._active?(p._total>n.duration&&(n.duration=p._total),p.tick(t),c=!0):(a[s]=a[a.length-1],a.pop());c&&(r.draw(),this._notify(r,n,t,"progress")),a.length||(n.running=!1,this._notify(r,n,t,"complete"),n.initial=!1),e+=a.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);!e||(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((n,r)=>Math.max(n,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var animator=new Animator;const transparent="transparent",interpolators={boolean(i,t,e){return e>.5?t:i},color(i,t,e){const n=color(i||transparent),r=n.valid&&color(t||transparent);return r&&r.valid?r.mix(n,e).hexString():t},number(i,t,e){return i+(t-i)*e}};class Animation{constructor(t,e,n,r){const a=e[n];r=resolve([t.to,r,a,t.from]);const s=resolve([t.from,a,r]);this._active=!0,this._fn=t.fn||interpolators[t.type||typeof s],this._easing=effects[t.easing]||effects.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const r=this._target[this._prop],a=n-this._start,s=this._duration-a;this._start=n,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=resolve([t.to,e,r,t.from]),this._from=resolve([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,r=this._prop,a=this._from,s=this._loop,c=this._to;let p;if(this._active=a!==c&&(s||e<n),!this._active){this._target[r]=c,this._notify(!0);return}if(e<0){this._target[r]=a;return}p=e/n%2,p=s&&p>1?2-p:p,p=this._easing(Math.min(1,Math.max(0,p))),this._target[r]=this._fn(a,c,p)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,n)=>{t.push({res:e,rej:n})})}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][e]()}}class Animations{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!isObject(t))return;const e=Object.keys(defaults$1.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const a=t[r];if(!isObject(a))return;const s={};for(const c of e)s[c]=a[c];(isArray(a.properties)&&a.properties||[r]).forEach(c=>{(c===r||!n.has(c))&&n.set(c,s)})})}_animateOptions(t,e){const n=e.options,r=resolveTargetOptions(t,n);if(!r)return[];const a=this._createAnimations(r,n);return n.$shared&&awaitAll(t.options.$animations,n).then(()=>{t.options=n},()=>{}),a}_createAnimations(t,e){const n=this._properties,r=[],a=t.$animations||(t.$animations={}),s=Object.keys(e),c=Date.now();let p;for(p=s.length-1;p>=0;--p){const g=s[p];if(g.charAt(0)==="$")continue;if(g==="options"){r.push(...this._animateOptions(t,e));continue}const y=e[g];let b=a[g];const C=n.get(g);if(b)if(C&&b.active()){b.update(C,y,c);continue}else b.cancel();if(!C||!C.duration){t[g]=y;continue}a[g]=b=new Animation(C,t,g,y),r.push(b)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const n=this._createAnimations(t,e);if(n.length)return animator.add(this._chart,n),!0}}function awaitAll(i,t){const e=[],n=Object.keys(t);for(let r=0;r<n.length;r++){const a=i[n[r]];a&&a.active()&&e.push(a.wait())}return Promise.all(e)}function resolveTargetOptions(i,t){if(!t)return;let e=i.options;if(!e){i.options=t;return}return e.$shared&&(i.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function scaleClip(i,t){const e=i&&i.options||{},n=e.reverse,r=e.min===void 0?t:0,a=e.max===void 0?t:0;return{start:n?a:r,end:n?r:a}}function defaultClip(i,t,e){if(e===!1)return!1;const n=scaleClip(i,e),r=scaleClip(t,e);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}function toClip(i){let t,e,n,r;return isObject(i)?(t=i.top,e=i.right,n=i.bottom,r=i.left):t=e=n=r=i,{top:t,right:e,bottom:n,left:r,disabled:i===!1}}function getSortedDatasetIndices(i,t){const e=[],n=i._getSortedDatasetMetas(t);let r,a;for(r=0,a=n.length;r<a;++r)e.push(n[r].index);return e}function applyStack(i,t,e,n={}){const r=i.keys,a=n.mode==="single";let s,c,p,g;if(t!==null){for(s=0,c=r.length;s<c;++s){if(p=+r[s],p===e){if(n.all)continue;break}g=i.values[p],isNumberFinite(g)&&(a||t===0||sign(t)===sign(g))&&(t+=g)}return t}}function convertObjectDataToArray(i){const t=Object.keys(i),e=new Array(t.length);let n,r,a;for(n=0,r=t.length;n<r;++n)a=t[n],e[n]={x:a,y:i[a]};return e}function isStacked(i,t){const e=i&&i.options.stacked;return e||e===void 0&&t.stack!==void 0}function getStackKey(i,t,e){return`${i.id}.${t.id}.${e.stack||e.type}`}function getUserBounds(i){const{min:t,max:e,minDefined:n,maxDefined:r}=i.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function getOrCreateStack(i,t,e){const n=i[t]||(i[t]={});return n[e]||(n[e]={})}function getLastIndexInStack(i,t,e,n){for(const r of t.getMatchingVisibleMetas(n).reverse()){const a=i[r.index];if(e&&a>0||!e&&a<0)return r.index}return null}function updateStacks(i,t){const{chart:e,_cachedMeta:n}=i,r=e._stacks||(e._stacks={}),{iScale:a,vScale:s,index:c}=n,p=a.axis,g=s.axis,y=getStackKey(a,s,n),b=t.length;let C;for(let S=0;S<b;++S){const A=t[S],{[p]:T,[g]:I}=A,z=A._stacks||(A._stacks={});C=z[g]=getOrCreateStack(r,y,T),C[c]=I,C._top=getLastIndexInStack(C,s,!0,n.type),C._bottom=getLastIndexInStack(C,s,!1,n.type);const q=C._visualValues||(C._visualValues={});q[c]=I}}function getFirstScaleId(i,t){const e=i.scales;return Object.keys(e).filter(n=>e[n].axis===t).shift()}function createDatasetContext(i,t){return createContext(i,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function createDataContext(i,t,e){return createContext(i,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function clearStacks(i,t){const e=i.controller.index,n=i.vScale&&i.vScale.axis;if(!!n){t=t||i._parsed;for(const r of t){const a=r._stacks;if(!a||a[n]===void 0||a[n][e]===void 0)return;delete a[n][e],a[n]._visualValues!==void 0&&a[n]._visualValues[e]!==void 0&&delete a[n]._visualValues[e]}}}const isDirectUpdateMode=i=>i==="reset"||i==="none",cloneIfNotShared=(i,t)=>t?i:Object.assign({},i),createStack=(i,t,e)=>i&&!t.hidden&&t._stacked&&{keys:getSortedDatasetIndices(e,!0),values:null};class DatasetController{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=isStacked(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&clearStacks(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),r=(b,C,S,A)=>b==="x"?C:b==="r"?A:S,a=e.xAxisID=valueOrDefault(n.xAxisID,getFirstScaleId(t,"x")),s=e.yAxisID=valueOrDefault(n.yAxisID,getFirstScaleId(t,"y")),c=e.rAxisID=valueOrDefault(n.rAxisID,getFirstScaleId(t,"r")),p=e.indexAxis,g=e.iAxisID=r(p,a,s,c),y=e.vAxisID=r(p,s,a,c);e.xScale=this.getScaleForId(a),e.yScale=this.getScaleForId(s),e.rScale=this.getScaleForId(c),e.iScale=this.getScaleForId(g),e.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&unlistenArrayEvents(this._data,this),t._stacked&&clearStacks(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(isObject(e))this._data=convertObjectDataToArray(e);else if(n!==e){if(n){unlistenArrayEvents(n,this);const r=this._cachedMeta;clearStacks(r),r._parsed=[]}e&&Object.isExtensible(e)&&listenArrayEvents(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const a=e._stacked;e._stacked=isStacked(e.vScale,e),e.stack!==n.stack&&(r=!0,clearStacks(e),e.stack=n.stack),this._resyncElements(t),(r||a!==e._stacked)&&updateStacks(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:r}=this,{iScale:a,_stacked:s}=n,c=a.axis;let p=t===0&&e===r.length?!0:n._sorted,g=t>0&&n._parsed[t-1],y,b,C;if(this._parsing===!1)n._parsed=r,n._sorted=!0,C=r;else{isArray(r[t])?C=this.parseArrayData(n,r,t,e):isObject(r[t])?C=this.parseObjectData(n,r,t,e):C=this.parsePrimitiveData(n,r,t,e);const S=()=>b[c]===null||g&&b[c]<g[c];for(y=0;y<e;++y)n._parsed[y+t]=b=C[y],p&&(S()&&(p=!1),g=b);n._sorted=p}s&&updateStacks(this,C)}parsePrimitiveData(t,e,n,r){const{iScale:a,vScale:s}=t,c=a.axis,p=s.axis,g=a.getLabels(),y=a===s,b=new Array(r);let C,S,A;for(C=0,S=r;C<S;++C)A=C+n,b[C]={[c]:y||a.parse(g[A],A),[p]:s.parse(e[A],A)};return b}parseArrayData(t,e,n,r){const{xScale:a,yScale:s}=t,c=new Array(r);let p,g,y,b;for(p=0,g=r;p<g;++p)y=p+n,b=e[y],c[p]={x:a.parse(b[0],y),y:s.parse(b[1],y)};return c}parseObjectData(t,e,n,r){const{xScale:a,yScale:s}=t,{xAxisKey:c="x",yAxisKey:p="y"}=this._parsing,g=new Array(r);let y,b,C,S;for(y=0,b=r;y<b;++y)C=y+n,S=e[C],g[y]={x:a.parse(resolveObjectKey(S,c),C),y:s.parse(resolveObjectKey(S,p),C)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const r=this.chart,a=this._cachedMeta,s=e[t.axis],c={keys:getSortedDatasetIndices(r,!0),values:e._stacks[t.axis]._visualValues};return applyStack(c,s,a.index,{mode:n})}updateRangeFromParsed(t,e,n,r){const a=n[e.axis];let s=a===null?NaN:a;const c=r&&n._stacks[e.axis];r&&c&&(r.values=c,s=applyStack(r,a,this._cachedMeta.index)),t.min=Math.min(t.min,s),t.max=Math.max(t.max,s)}getMinMax(t,e){const n=this._cachedMeta,r=n._parsed,a=n._sorted&&t===n.iScale,s=r.length,c=this._getOtherScale(t),p=createStack(e,n,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:b}=getUserBounds(c);let C,S;function A(){S=r[C];const T=S[c.axis];return!isNumberFinite(S[t.axis])||y>T||b<T}for(C=0;C<s&&!(!A()&&(this.updateRangeFromParsed(g,t,S,p),a));++C);if(a){for(C=s-1;C>=0;--C)if(!A()){this.updateRangeFromParsed(g,t,S,p);break}}return g}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let r,a,s;for(r=0,a=e.length;r<a;++r)s=e[r][t.axis],isNumberFinite(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,r=e.vScale,a=this.getParsed(t);return{label:n?""+n.getLabelForValue(a[n.axis]):"",value:r?""+r.getLabelForValue(a[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=toClip(valueOrDefault(this.options.clip,defaultClip(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,r=n.data||[],a=e.chartArea,s=[],c=this._drawStart||0,p=this._drawCount||r.length-c,g=this.options.drawActiveElementsOnTop;let y;for(n.dataset&&n.dataset.draw(t,a,c,p),y=c;y<c+p;++y){const b=r[y];b.hidden||(b.active&&g?s.push(b):b.draw(t,a))}for(y=0;y<s.length;++y)s[y].draw(t,a)}getStyle(t,e){const n=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const r=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const s=this._cachedMeta.data[t];a=s.$context||(s.$context=createDataContext(this.getContext(),t,s)),a.parsed=this.getParsed(t),a.raw=r.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=createDatasetContext(this.chart.getContext(),this.index)),a.dataset=r,a.index=a.datasetIndex=this.index;return a.active=!!e,a.mode=n,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",n){const r=e==="active",a=this._cachedDataOpts,s=t+"-"+e,c=a[s],p=this.enableOptionSharing&&defined(n);if(c)return cloneIfNotShared(c,p);const g=this.chart.config,y=g.datasetElementScopeKeys(this._type,t),b=r?[`${t}Hover`,"hover",t,""]:[t,""],C=g.getOptionScopes(this.getDataset(),y),S=Object.keys(defaults$1.elements[t]),A=()=>this.getContext(n,r,e),T=g.resolveNamedOptions(C,S,A,b);return T.$shared&&(T.$shared=p,a[s]=Object.freeze(cloneIfNotShared(T,p))),T}_resolveAnimations(t,e,n){const r=this.chart,a=this._cachedDataOpts,s=`animation-${e}`,c=a[s];if(c)return c;let p;if(r.options.animation!==!1){const y=this.chart.config,b=y.datasetAnimationScopeKeys(this._type,e),C=y.getOptionScopes(this.getDataset(),b);p=y.createResolver(C,this.getContext(t,n,e))}const g=new Animations(r,p&&p.animations);return p&&p._cacheable&&(a[s]=Object.freeze(g)),g}getSharedOptions(t){if(!!t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||isDirectUpdateMode(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),r=this._sharedOptions,a=this.getSharedOptions(n),s=this.includeOptions(e,a)||a!==r;return this.updateSharedOptions(a,e,n),{sharedOptions:a,includeOptions:s}}updateElement(t,e,n,r){isDirectUpdateMode(r)?Object.assign(t,n):this._resolveAnimations(e,r).update(t,n)}updateSharedOptions(t,e,n){t&&!isDirectUpdateMode(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,r){t.active=r;const a=this.getStyle(e,r);this._resolveAnimations(e,n,r).update(t,{options:!r&&this.getSharedOptions(a)||a})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[c,p,g]of this._syncList)this[c](p,g);this._syncList=[];const r=n.length,a=e.length,s=Math.min(a,r);s&&this.parse(0,s),a>r?this._insertElements(r,a-r,t):a<r&&this._removeElements(a,r-a)}_insertElements(t,e,n=!0){const r=this._cachedMeta,a=r.data,s=t+e;let c;const p=g=>{for(g.length+=e,c=g.length-1;c>=s;c--)g[c]=g[c-e]};for(p(a),c=t;c<s;++c)a[c]=new this.dataElementType;this._parsing&&p(r._parsed),this.parse(t,e),n&&this.updateElements(a,t,e,"reset")}updateElements(t,e,n,r){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(t,e);n._stacked&&clearStacks(n,r)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,r]=t;this[e](n,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}yt(DatasetController,"defaults",{}),yt(DatasetController,"datasetElementType",null),yt(DatasetController,"dataElementType",null);function getAllScaleValues(i,t){if(!i._cache.$bar){const e=i.getMatchingVisibleMetas(t);let n=[];for(let r=0,a=e.length;r<a;r++)n=n.concat(e[r].controller.getAllParsedValues(i));i._cache.$bar=_arrayUnique(n.sort((r,a)=>r-a))}return i._cache.$bar}function computeMinSampleSize(i){const t=i.iScale,e=getAllScaleValues(t,i.type);let n=t._length,r,a,s,c;const p=()=>{s===32767||s===-32768||(defined(c)&&(n=Math.min(n,Math.abs(s-c)||n)),c=s)};for(r=0,a=e.length;r<a;++r)s=t.getPixelForValue(e[r]),p();for(c=void 0,r=0,a=t.ticks.length;r<a;++r)s=t.getPixelForTick(r),p();return n}function computeFitCategoryTraits(i,t,e,n){const r=e.barThickness;let a,s;return isNullOrUndef(r)?(a=t.min*e.categoryPercentage,s=e.barPercentage):(a=r*n,s=1),{chunk:a/n,ratio:s,start:t.pixels[i]-a/2}}function computeFlexCategoryTraits(i,t,e,n){const r=t.pixels,a=r[i];let s=i>0?r[i-1]:null,c=i<r.length-1?r[i+1]:null;const p=e.categoryPercentage;s===null&&(s=a-(c===null?t.end-t.start:c-a)),c===null&&(c=a+a-s);const g=a-(a-Math.min(s,c))/2*p;return{chunk:Math.abs(c-s)/2*p/n,ratio:e.barPercentage,start:g}}function parseFloatBar(i,t,e,n){const r=e.parse(i[0],n),a=e.parse(i[1],n),s=Math.min(r,a),c=Math.max(r,a);let p=s,g=c;Math.abs(s)>Math.abs(c)&&(p=c,g=s),t[e.axis]=g,t._custom={barStart:p,barEnd:g,start:r,end:a,min:s,max:c}}function parseValue(i,t,e,n){return isArray(i)?parseFloatBar(i,t,e,n):t[e.axis]=e.parse(i,n),t}function parseArrayOrPrimitive(i,t,e,n){const r=i.iScale,a=i.vScale,s=r.getLabels(),c=r===a,p=[];let g,y,b,C;for(g=e,y=e+n;g<y;++g)C=t[g],b={},b[r.axis]=c||r.parse(s[g],g),p.push(parseValue(C,b,a,g));return p}function isFloatBar(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function barSign(i,t,e){return i!==0?sign(i):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function borderProps(i){let t,e,n,r,a;return i.horizontal?(t=i.base>i.x,e="left",n="right"):(t=i.base<i.y,e="bottom",n="top"),t?(r="end",a="start"):(r="start",a="end"),{start:e,end:n,reverse:t,top:r,bottom:a}}function setBorderSkipped(i,t,e,n){let r=t.borderSkipped;const a={};if(!r){i.borderSkipped=a;return}if(r===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:s,end:c,reverse:p,top:g,bottom:y}=borderProps(i);r==="middle"&&e&&(i.enableBorderRadius=!0,(e._top||0)===n?r=g:(e._bottom||0)===n?r=y:(a[parseEdge(y,s,c,p)]=!0,r=g)),a[parseEdge(r,s,c,p)]=!0,i.borderSkipped=a}function parseEdge(i,t,e,n){return n?(i=swap(i,t,e),i=startEnd(i,e,t)):i=startEnd(i,t,e),i}function swap(i,t,e){return i===t?e:i===e?t:i}function startEnd(i,t,e){return i==="start"?t:i==="end"?e:i}function setInflateAmount(i,{inflateAmount:t},e){i.inflateAmount=t==="auto"?e===1?.33:0:t}class BarController extends DatasetController{parsePrimitiveData(t,e,n,r){return parseArrayOrPrimitive(t,e,n,r)}parseArrayData(t,e,n,r){return parseArrayOrPrimitive(t,e,n,r)}parseObjectData(t,e,n,r){const{iScale:a,vScale:s}=t,{xAxisKey:c="x",yAxisKey:p="y"}=this._parsing,g=a.axis==="x"?c:p,y=s.axis==="x"?c:p,b=[];let C,S,A,T;for(C=n,S=n+r;C<S;++C)T=e[C],A={},A[a.axis]=a.parse(resolveObjectKey(T,g),C),b.push(parseValue(resolveObjectKey(T,y),A,s,C));return b}updateRangeFromParsed(t,e,n,r){super.updateRangeFromParsed(t,e,n,r);const a=n._custom;a&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:r}=e,a=this.getParsed(t),s=a._custom,c=isFloatBar(s)?"["+s.start+", "+s.end+"]":""+r.getLabelForValue(a[r.axis]);return{label:""+n.getLabelForValue(a[n.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,r){const a=r==="reset",{index:s,_cachedMeta:{vScale:c}}=this,p=c.getBasePixel(),g=c.isHorizontal(),y=this._getRuler(),{sharedOptions:b,includeOptions:C}=this._getSharedOptions(e,r);for(let S=e;S<e+n;S++){const A=this.getParsed(S),T=a||isNullOrUndef(A[c.axis])?{base:p,head:p}:this._calculateBarValuePixels(S),I=this._calculateBarIndexPixels(S,y),z=(A._stacks||{})[c.axis],q={horizontal:g,base:T.base,enableBorderRadius:!z||isFloatBar(A._custom)||s===z._top||s===z._bottom,x:g?T.head:I.center,y:g?I.center:T.head,height:g?I.size:Math.abs(T.size),width:g?Math.abs(T.size):I.size};C&&(q.options=b||this.resolveDataElementOptions(S,t[S].active?"active":r));const Y=q.options||t[S].options;setBorderSkipped(q,Y,z,s),setInflateAmount(q,Y,y.ratio),this.updateElement(t[S],S,q,r)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),a=n.options.stacked,s=[],c=p=>{const g=p.controller.getParsed(e),y=g&&g[p.vScale.axis];if(isNullOrUndef(y)||isNaN(y))return!0};for(const p of r)if(!(e!==void 0&&c(p))&&((a===!1||s.indexOf(p.stack)===-1||a===void 0&&p.stack===void 0)&&s.push(p.stack),p.index===t))break;return s.length||s.push(void 0),s}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){const r=this._getStacks(t,n),a=e!==void 0?r.indexOf(e):-1;return a===-1?r.length-1:a}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,r=[];let a,s;for(a=0,s=e.data.length;a<s;++a)r.push(n.getPixelForValue(this.getParsed(a)[n.axis],a));const c=t.barThickness;return{min:c||computeMinSampleSize(e),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:c?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n,index:r},options:{base:a,minBarLength:s}}=this,c=a||0,p=this.getParsed(t),g=p._custom,y=isFloatBar(g);let b=p[e.axis],C=0,S=n?this.applyStack(e,p,n):b,A,T;S!==b&&(C=S-b,S=b),y&&(b=g.barStart,S=g.barEnd-g.barStart,b!==0&&sign(b)!==sign(g.barEnd)&&(C=0),C+=b);const I=!isNullOrUndef(a)&&!y?a:C;let z=e.getPixelForValue(I);if(this.chart.getDataVisibility(t)?A=e.getPixelForValue(C+S):A=z,T=A-z,Math.abs(T)<s){T=barSign(T,e,c)*s,b===c&&(z-=T/2);const q=e.getPixelForDecimal(0),Y=e.getPixelForDecimal(1),at=Math.min(q,Y),G=Math.max(q,Y);z=Math.max(Math.min(z,G),at),A=z+T,n&&!y&&(p._stacks[e.axis]._visualValues[r]=e.getValueForPixel(A)-e.getValueForPixel(z))}if(z===e.getPixelForValue(c)){const q=sign(T)*e.getLineWidthForValue(c)/2;z+=q,T-=q}return{size:T,base:z,head:A,center:A+T/2}}_calculateBarIndexPixels(t,e){const n=e.scale,r=this.options,a=r.skipNull,s=valueOrDefault(r.maxBarThickness,1/0);let c,p;if(e.grouped){const g=a?this._getStackCount(t):e.stackCount,y=r.barThickness==="flex"?computeFlexCategoryTraits(t,e,r,g):computeFitCategoryTraits(t,e,r,g),b=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0);c=y.start+y.chunk*b+y.chunk/2,p=Math.min(s,y.chunk*y.ratio)}else c=n.getPixelForValue(this.getParsed(t)[n.axis],t),p=Math.min(s,e.min*e.ratio);return{base:c-p/2,head:c+p/2,center:c,size:p}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,r=n.length;let a=0;for(;a<r;++a)this.getParsed(a)[e.axis]!==null&&n[a].draw(this._ctx)}}yt(BarController,"id","bar"),yt(BarController,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),yt(BarController,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function getRatioAndOffset(i,t,e){let n=1,r=1,a=0,s=0;if(t<TAU){const c=i,p=c+t,g=Math.cos(c),y=Math.sin(c),b=Math.cos(p),C=Math.sin(p),S=(Y,at,G)=>_angleBetween(Y,c,p,!0)?1:Math.max(at,at*e,G,G*e),A=(Y,at,G)=>_angleBetween(Y,c,p,!0)?-1:Math.min(at,at*e,G,G*e),T=S(0,g,b),I=S(HALF_PI,y,C),z=A(PI,g,b),q=A(PI+HALF_PI,y,C);n=(T-z)/2,r=(I-q)/2,a=-(T+z)/2,s=-(I+q)/2}return{ratioX:n,ratioY:r,offsetX:a,offsetY:s}}class DoughnutController extends DatasetController{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=n;else{let a=p=>+n[p];if(isObject(n[t])){const{key:p="value"}=this._parsing;a=g=>+resolveObjectKey(n[g],p)}let s,c;for(s=t,c=t+e;s<c;++s)r._parsed[s]=a(s)}}_getRotation(){return toRadians(this.options.rotation-90)}_getCircumference(){return toRadians(this.options.circumference)}_getRotationExtents(){let t=TAU,e=-TAU;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,a=r._getRotation(),s=r._getCircumference();t=Math.min(t,a),e=Math.max(e,a+s)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,r=this._cachedMeta,a=r.data,s=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,c=Math.max((Math.min(n.width,n.height)-s)/2,0),p=Math.min(toPercentage(this.options.cutout,c),1),g=this._getRingWeight(this.index),{circumference:y,rotation:b}=this._getRotationExtents(),{ratioX:C,ratioY:S,offsetX:A,offsetY:T}=getRatioAndOffset(b,y,p),I=(n.width-s)/C,z=(n.height-s)/S,q=Math.max(Math.min(I,z)/2,0),Y=toDimension(this.options.radius,q),at=Math.max(Y*p,0),G=(Y-at)/this._getVisibleDatasetWeightTotal();this.offsetX=A*Y,this.offsetY=T*Y,r.total=this.calculateTotal(),this.outerRadius=Y-G*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-G*g,0),this.updateElements(a,0,a.length,t)}_circumference(t,e){const n=this.options,r=this._cachedMeta,a=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*a/TAU)}updateElements(t,e,n,r){const a=r==="reset",s=this.chart,c=s.chartArea,g=s.options.animation,y=(c.left+c.right)/2,b=(c.top+c.bottom)/2,C=a&&g.animateScale,S=C?0:this.innerRadius,A=C?0:this.outerRadius,{sharedOptions:T,includeOptions:I}=this._getSharedOptions(e,r);let z=this._getRotation(),q;for(q=0;q<e;++q)z+=this._circumference(q,a);for(q=e;q<e+n;++q){const Y=this._circumference(q,a),at=t[q],G={x:y+this.offsetX,y:b+this.offsetY,startAngle:z,endAngle:z+Y,circumference:Y,outerRadius:A,innerRadius:S};I&&(G.options=T||this.resolveDataElementOptions(q,at.active?"active":r)),z+=Y,this.updateElement(at,q,G,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let n=0,r;for(r=0;r<e.length;r++){const a=t._parsed[r];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(n+=Math.abs(a))}return n}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?TAU*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,r=n.data.labels||[],a=formatNumber(e._parsed[t],n.options.locale);return{label:r[t]||"",value:a}}getMaxBorderWidth(t){let e=0;const n=this.chart;let r,a,s,c,p;if(!t){for(r=0,a=n.data.datasets.length;r<a;++r)if(n.isDatasetVisible(r)){s=n.getDatasetMeta(r),t=s.data,c=s.controller;break}}if(!t)return 0;for(r=0,a=t.length;r<a;++r)p=c.resolveDataElementOptions(r),p.borderAlign!=="inner"&&(e=Math.max(e,p.borderWidth||0,p.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,r=t.length;n<r;++n){const a=this.resolveDataElementOptions(n);e=Math.max(e,a.offset||0,a.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(valueOrDefault(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}yt(DoughnutController,"id","doughnut"),yt(DoughnutController,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),yt(DoughnutController,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),yt(DoughnutController,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:r}}=t.legend.options;return e.labels.map((a,s)=>{const p=t.getDatasetMeta(0).controller.getStyle(s);return{text:a,fillStyle:p.backgroundColor,strokeStyle:p.borderColor,fontColor:r,lineWidth:p.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(s),index:s}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}}});class LineController extends DatasetController{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:n,data:r=[],_dataset:a}=e,s=this.chart._animationsDisabled;let{start:c,count:p}=_getStartAndCountOfVisiblePoints(e,r,s);this._drawStart=c,this._drawCount=p,_scaleRangesChanged(e)&&(c=0,p=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!a._decimated,n.points=r;const g=this.resolveDatasetElementOptions(t);this.options.showLine||(g.borderWidth=0),g.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:g},t),this.updateElements(r,c,p,t)}updateElements(t,e,n,r){const a=r==="reset",{iScale:s,vScale:c,_stacked:p,_dataset:g}=this._cachedMeta,{sharedOptions:y,includeOptions:b}=this._getSharedOptions(e,r),C=s.axis,S=c.axis,{spanGaps:A,segment:T}=this.options,I=isNumber(A)?A:Number.POSITIVE_INFINITY,z=this.chart._animationsDisabled||a||r==="none",q=e+n,Y=t.length;let at=e>0&&this.getParsed(e-1);for(let G=0;G<Y;++G){const ht=t[G],et=z?ht:{};if(G<e||G>=q){et.skip=!0;continue}const ot=this.getParsed(G),vt=isNullOrUndef(ot[S]),wt=et[C]=s.getPixelForValue(ot[C],G),_t=et[S]=a||vt?c.getBasePixel():c.getPixelForValue(p?this.applyStack(c,ot,p):ot[S],G);et.skip=isNaN(wt)||isNaN(_t)||vt,et.stop=G>0&&Math.abs(ot[C]-at[C])>I,T&&(et.parsed=ot,et.raw=g.data[G]),b&&(et.options=y||this.resolveDataElementOptions(G,ht.active?"active":r)),z||this.updateElement(ht,G,et,r),at=ot}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return n;const a=r[0].size(this.resolveDataElementOptions(0)),s=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,a,s)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}yt(LineController,"id","line"),yt(LineController,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),yt(LineController,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class PolarAreaController extends DatasetController{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,r=n.data.labels||[],a=formatNumber(e._parsed[t].r,n.options.locale);return{label:r[t]||"",value:a}}parseObjectData(t,e,n,r){return _parseObjectDataRadialScale.bind(this)(t,e,n,r)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((n,r)=>{const a=this.getParsed(r).r;!isNaN(a)&&this.chart.getDataVisibility(r)&&(a<e.min&&(e.min=a),a>e.max&&(e.max=a))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,n=t.options,r=Math.min(e.right-e.left,e.bottom-e.top),a=Math.max(r/2,0),s=Math.max(n.cutoutPercentage?a/100*n.cutoutPercentage:1,0),c=(a-s)/t.getVisibleDatasetCount();this.outerRadius=a-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(t,e,n,r){const a=r==="reset",s=this.chart,p=s.options.animation,g=this._cachedMeta.rScale,y=g.xCenter,b=g.yCenter,C=g.getIndexAngle(0)-.5*PI;let S=C,A;const T=360/this.countVisibleElements();for(A=0;A<e;++A)S+=this._computeAngle(A,r,T);for(A=e;A<e+n;A++){const I=t[A];let z=S,q=S+this._computeAngle(A,r,T),Y=s.getDataVisibility(A)?g.getDistanceFromCenterForValue(this.getParsed(A).r):0;S=q,a&&(p.animateScale&&(Y=0),p.animateRotate&&(z=q=C));const at={x:y,y:b,innerRadius:0,outerRadius:Y,startAngle:z,endAngle:q,options:this.resolveDataElementOptions(A,I.active?"active":r)};this.updateElement(I,A,at,r)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((n,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&e++}),e}_computeAngle(t,e,n){return this.chart.getDataVisibility(t)?toRadians(this.resolveDataElementOptions(t,e).angle||n):0}}yt(PolarAreaController,"id","polarArea"),yt(PolarAreaController,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),yt(PolarAreaController,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:r}}=t.legend.options;return e.labels.map((a,s)=>{const p=t.getDatasetMeta(0).controller.getStyle(s);return{text:a,fillStyle:p.backgroundColor,strokeStyle:p.borderColor,fontColor:r,lineWidth:p.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(s),index:s}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class PieController extends DoughnutController{}yt(PieController,"id","pie"),yt(PieController,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function abstract(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class DateAdapterBase{constructor(t){yt(this,"options");this.options=t||{}}static override(t){Object.assign(DateAdapterBase.prototype,t)}init(){}formats(){return abstract()}parse(){return abstract()}format(){return abstract()}add(){return abstract()}diff(){return abstract()}startOf(){return abstract()}endOf(){return abstract()}}var adapters={_date:DateAdapterBase};function binarySearch(i,t,e,n){const{controller:r,data:a,_sorted:s}=i,c=r._cachedMeta.iScale;if(c&&t===c.axis&&t!=="r"&&s&&a.length){const p=c._reversePixels?_rlookupByKey:_lookupByKey;if(n){if(r._sharedOptions){const g=a[0],y=typeof g.getRange=="function"&&g.getRange(t);if(y){const b=p(a,t,e-y),C=p(a,t,e+y);return{lo:b.lo,hi:C.hi}}}}else return p(a,t,e)}return{lo:0,hi:a.length-1}}function evaluateInteractionItems(i,t,e,n,r){const a=i.getSortedVisibleDatasetMetas(),s=e[t];for(let c=0,p=a.length;c<p;++c){const{index:g,data:y}=a[c],{lo:b,hi:C}=binarySearch(a[c],t,s,r);for(let S=b;S<=C;++S){const A=y[S];A.skip||n(A,g,S)}}}function getDistanceMetricForAxis(i){const t=i.indexOf("x")!==-1,e=i.indexOf("y")!==-1;return function(n,r){const a=t?Math.abs(n.x-r.x):0,s=e?Math.abs(n.y-r.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(s,2))}}function getIntersectItems(i,t,e,n,r){const a=[];return!r&&!i.isPointInArea(t)||evaluateInteractionItems(i,e,t,function(c,p,g){!r&&!_isPointInArea(c,i.chartArea,0)||c.inRange(t.x,t.y,n)&&a.push({element:c,datasetIndex:p,index:g})},!0),a}function getNearestRadialItems(i,t,e,n){let r=[];function a(s,c,p){const{startAngle:g,endAngle:y}=s.getProps(["startAngle","endAngle"],n),{angle:b}=getAngleFromPoint(s,{x:t.x,y:t.y});_angleBetween(b,g,y)&&r.push({element:s,datasetIndex:c,index:p})}return evaluateInteractionItems(i,e,t,a),r}function getNearestCartesianItems(i,t,e,n,r,a){let s=[];const c=getDistanceMetricForAxis(e);let p=Number.POSITIVE_INFINITY;function g(y,b,C){const S=y.inRange(t.x,t.y,r);if(n&&!S)return;const A=y.getCenterPoint(r);if(!(!!a||i.isPointInArea(A))&&!S)return;const I=c(t,A);I<p?(s=[{element:y,datasetIndex:b,index:C}],p=I):I===p&&s.push({element:y,datasetIndex:b,index:C})}return evaluateInteractionItems(i,e,t,g),s}function getNearestItems(i,t,e,n,r,a){return!a&&!i.isPointInArea(t)?[]:e==="r"&&!n?getNearestRadialItems(i,t,e,r):getNearestCartesianItems(i,t,e,n,r,a)}function getAxisItems(i,t,e,n,r){const a=[],s=e==="x"?"inXRange":"inYRange";let c=!1;return evaluateInteractionItems(i,e,t,(p,g,y)=>{p[s](t[e],r)&&(a.push({element:p,datasetIndex:g,index:y}),c=c||p.inRange(t.x,t.y,r))}),n&&!c?[]:a}var Interaction={evaluateInteractionItems,modes:{index(i,t,e,n){const r=getRelativePosition(t,i),a=e.axis||"x",s=e.includeInvisible||!1,c=e.intersect?getIntersectItems(i,r,a,n,s):getNearestItems(i,r,a,!1,n,s),p=[];return c.length?(i.getSortedVisibleDatasetMetas().forEach(g=>{const y=c[0].index,b=g.data[y];b&&!b.skip&&p.push({element:b,datasetIndex:g.index,index:y})}),p):[]},dataset(i,t,e,n){const r=getRelativePosition(t,i),a=e.axis||"xy",s=e.includeInvisible||!1;let c=e.intersect?getIntersectItems(i,r,a,n,s):getNearestItems(i,r,a,!1,n,s);if(c.length>0){const p=c[0].datasetIndex,g=i.getDatasetMeta(p).data;c=[];for(let y=0;y<g.length;++y)c.push({element:g[y],datasetIndex:p,index:y})}return c},point(i,t,e,n){const r=getRelativePosition(t,i),a=e.axis||"xy",s=e.includeInvisible||!1;return getIntersectItems(i,r,a,n,s)},nearest(i,t,e,n){const r=getRelativePosition(t,i),a=e.axis||"xy",s=e.includeInvisible||!1;return getNearestItems(i,r,a,e.intersect,n,s)},x(i,t,e,n){const r=getRelativePosition(t,i);return getAxisItems(i,r,"x",e.intersect,n)},y(i,t,e,n){const r=getRelativePosition(t,i);return getAxisItems(i,r,"y",e.intersect,n)}}};const STATIC_POSITIONS=["left","top","right","bottom"];function filterByPosition(i,t){return i.filter(e=>e.pos===t)}function filterDynamicPositionByAxis(i,t){return i.filter(e=>STATIC_POSITIONS.indexOf(e.pos)===-1&&e.box.axis===t)}function sortByWeight(i,t){return i.sort((e,n)=>{const r=t?n:e,a=t?e:n;return r.weight===a.weight?r.index-a.index:r.weight-a.weight})}function wrapBoxes(i){const t=[];let e,n,r,a,s,c;for(e=0,n=(i||[]).length;e<n;++e)r=i[e],{position:a,options:{stack:s,stackWeight:c=1}}=r,t.push({index:e,box:r,pos:a,horizontal:r.isHorizontal(),weight:r.weight,stack:s&&a+s,stackWeight:c});return t}function buildStacks(i){const t={};for(const e of i){const{stack:n,pos:r,stackWeight:a}=e;if(!n||!STATIC_POSITIONS.includes(r))continue;const s=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=a}return t}function setLayoutDims(i,t){const e=buildStacks(i),{vBoxMaxWidth:n,hBoxMaxHeight:r}=t;let a,s,c;for(a=0,s=i.length;a<s;++a){c=i[a];const{fullSize:p}=c.box,g=e[c.stack],y=g&&c.stackWeight/g.weight;c.horizontal?(c.width=y?y*n:p&&t.availableWidth,c.height=r):(c.width=n,c.height=y?y*r:p&&t.availableHeight)}return e}function buildLayoutBoxes(i){const t=wrapBoxes(i),e=sortByWeight(t.filter(g=>g.box.fullSize),!0),n=sortByWeight(filterByPosition(t,"left"),!0),r=sortByWeight(filterByPosition(t,"right")),a=sortByWeight(filterByPosition(t,"top"),!0),s=sortByWeight(filterByPosition(t,"bottom")),c=filterDynamicPositionByAxis(t,"x"),p=filterDynamicPositionByAxis(t,"y");return{fullSize:e,leftAndTop:n.concat(a),rightAndBottom:r.concat(p).concat(s).concat(c),chartArea:filterByPosition(t,"chartArea"),vertical:n.concat(r).concat(p),horizontal:a.concat(s).concat(c)}}function getCombinedMax(i,t,e,n){return Math.max(i[e],t[e])+Math.max(i[n],t[n])}function updateMaxPadding(i,t){i.top=Math.max(i.top,t.top),i.left=Math.max(i.left,t.left),i.bottom=Math.max(i.bottom,t.bottom),i.right=Math.max(i.right,t.right)}function updateDims(i,t,e,n){const{pos:r,box:a}=e,s=i.maxPadding;if(!isObject(r)){e.size&&(i[r]-=e.size);const b=n[e.stack]||{size:0,count:1};b.size=Math.max(b.size,e.horizontal?a.height:a.width),e.size=b.size/b.count,i[r]+=e.size}a.getPadding&&updateMaxPadding(s,a.getPadding());const c=Math.max(0,t.outerWidth-getCombinedMax(s,i,"left","right")),p=Math.max(0,t.outerHeight-getCombinedMax(s,i,"top","bottom")),g=c!==i.w,y=p!==i.h;return i.w=c,i.h=p,e.horizontal?{same:g,other:y}:{same:y,other:g}}function handleMaxPadding(i){const t=i.maxPadding;function e(n){const r=Math.max(t[n]-i[n],0);return i[n]+=r,r}i.y+=e("top"),i.x+=e("left"),e("right"),e("bottom")}function getMargins(i,t){const e=t.maxPadding;function n(r){const a={left:0,top:0,right:0,bottom:0};return r.forEach(s=>{a[s]=Math.max(t[s],e[s])}),a}return n(i?["left","right"]:["top","bottom"])}function fitBoxes(i,t,e,n){const r=[];let a,s,c,p,g,y;for(a=0,s=i.length,g=0;a<s;++a){c=i[a],p=c.box,p.update(c.width||t.w,c.height||t.h,getMargins(c.horizontal,t));const{same:b,other:C}=updateDims(t,e,c,n);g|=b&&r.length,y=y||C,p.fullSize||r.push(c)}return g&&fitBoxes(r,t,e,n)||y}function setBoxDims(i,t,e,n,r){i.top=e,i.left=t,i.right=t+n,i.bottom=e+r,i.width=n,i.height=r}function placeBoxes(i,t,e,n){const r=e.padding;let{x:a,y:s}=t;for(const c of i){const p=c.box,g=n[c.stack]||{count:1,placed:0,weight:1},y=c.stackWeight/g.weight||1;if(c.horizontal){const b=t.w*y,C=g.size||p.height;defined(g.start)&&(s=g.start),p.fullSize?setBoxDims(p,r.left,s,e.outerWidth-r.right-r.left,C):setBoxDims(p,t.left+g.placed,s,b,C),g.start=s,g.placed+=b,s=p.bottom}else{const b=t.h*y,C=g.size||p.width;defined(g.start)&&(a=g.start),p.fullSize?setBoxDims(p,a,r.top,C,e.outerHeight-r.bottom-r.top):setBoxDims(p,a,t.top+g.placed,C,b),g.start=a,g.placed+=b,a=p.right}}t.x=a,t.y=s}var layouts={addBox(i,t){i.boxes||(i.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},i.boxes.push(t)},removeBox(i,t){const e=i.boxes?i.boxes.indexOf(t):-1;e!==-1&&i.boxes.splice(e,1)},configure(i,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(i,t,e,n){if(!i)return;const r=toPadding(i.options.layout.padding),a=Math.max(t-r.width,0),s=Math.max(e-r.height,0),c=buildLayoutBoxes(i.boxes),p=c.vertical,g=c.horizontal;each(i.boxes,T=>{typeof T.beforeLayout=="function"&&T.beforeLayout()});const y=p.reduce((T,I)=>I.box.options&&I.box.options.display===!1?T:T+1,0)||1,b=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:a,availableHeight:s,vBoxMaxWidth:a/2/y,hBoxMaxHeight:s/2}),C=Object.assign({},r);updateMaxPadding(C,toPadding(n));const S=Object.assign({maxPadding:C,w:a,h:s,x:r.left,y:r.top},r),A=setLayoutDims(p.concat(g),b);fitBoxes(c.fullSize,S,b,A),fitBoxes(p,S,b,A),fitBoxes(g,S,b,A)&&fitBoxes(p,S,b,A),handleMaxPadding(S),placeBoxes(c.leftAndTop,S,b,A),S.x+=S.w,S.y+=S.h,placeBoxes(c.rightAndBottom,S,b,A),i.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},each(c.chartArea,T=>{const I=T.box;Object.assign(I,i.chartArea),I.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class BasePlatform{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,r){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):n)}}isAttached(t){return!0}updateConfig(t){}}class BasicPlatform extends BasePlatform{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const EXPANDO_KEY$1="$chartjs",EVENT_TYPES={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},isNullOrEmpty=i=>i===null||i==="";function initCanvas(i,t){const e=i.style,n=i.getAttribute("height"),r=i.getAttribute("width");if(i[EXPANDO_KEY$1]={initial:{height:n,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",isNullOrEmpty(r)){const a=readUsedSize(i,"width");a!==void 0&&(i.width=a)}if(isNullOrEmpty(n))if(i.style.height==="")i.height=i.width/(t||2);else{const a=readUsedSize(i,"height");a!==void 0&&(i.height=a)}return i}const eventListenerOptions=supportsEventListenerOptions?{passive:!0}:!1;function addListener(i,t,e){i&&i.addEventListener(t,e,eventListenerOptions)}function removeListener(i,t,e){i&&i.canvas&&i.canvas.removeEventListener(t,e,eventListenerOptions)}function fromNativeEvent(i,t){const e=EVENT_TYPES[i.type]||i.type,{x:n,y:r}=getRelativePosition(i,t);return{type:e,chart:t,native:i,x:n!==void 0?n:null,y:r!==void 0?r:null}}function nodeListContains(i,t){for(const e of i)if(e===t||e.contains(t))return!0}function createAttachObserver(i,t,e){const n=i.canvas,r=new MutationObserver(a=>{let s=!1;for(const c of a)s=s||nodeListContains(c.addedNodes,n),s=s&&!nodeListContains(c.removedNodes,n);s&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function createDetachObserver(i,t,e){const n=i.canvas,r=new MutationObserver(a=>{let s=!1;for(const c of a)s=s||nodeListContains(c.removedNodes,n),s=s&&!nodeListContains(c.addedNodes,n);s&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const drpListeningCharts=new Map;let oldDevicePixelRatio=0;function onWindowResize(){const i=window.devicePixelRatio;i!==oldDevicePixelRatio&&(oldDevicePixelRatio=i,drpListeningCharts.forEach((t,e)=>{e.currentDevicePixelRatio!==i&&t()}))}function listenDevicePixelRatioChanges(i,t){drpListeningCharts.size||window.addEventListener("resize",onWindowResize),drpListeningCharts.set(i,t)}function unlistenDevicePixelRatioChanges(i){drpListeningCharts.delete(i),drpListeningCharts.size||window.removeEventListener("resize",onWindowResize)}function createResizeObserver(i,t,e){const n=i.canvas,r=n&&_getParentNode(n);if(!r)return;const a=throttled((c,p)=>{const g=r.clientWidth;e(c,p),g<r.clientWidth&&e()},window),s=new ResizeObserver(c=>{const p=c[0],g=p.contentRect.width,y=p.contentRect.height;g===0&&y===0||a(g,y)});return s.observe(r),listenDevicePixelRatioChanges(i,a),s}function releaseObserver(i,t,e){e&&e.disconnect(),t==="resize"&&unlistenDevicePixelRatioChanges(i)}function createProxyAndListen(i,t,e){const n=i.canvas,r=throttled(a=>{i.ctx!==null&&e(fromNativeEvent(a,i))},i);return addListener(n,t,r),r}class DomPlatform extends BasePlatform{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(initCanvas(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[EXPANDO_KEY$1])return!1;const n=e[EXPANDO_KEY$1].initial;["height","width"].forEach(a=>{const s=n[a];isNullOrUndef(s)?e.removeAttribute(a):e.setAttribute(a,s)});const r=n.style||{};return Object.keys(r).forEach(a=>{e.style[a]=r[a]}),e.width=e.width,delete e[EXPANDO_KEY$1],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),s={attach:createAttachObserver,detach:createDetachObserver,resize:createResizeObserver}[e]||createProxyAndListen;r[e]=s(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),r=n[e];if(!r)return;({attach:releaseObserver,detach:releaseObserver,resize:releaseObserver}[e]||removeListener)(t,e,r),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,r){return getMaximumSize(t,e,n,r)}isAttached(t){const e=_getParentNode(t);return!!(e&&e.isConnected)}}function _detectPlatform(i){return!_isDomSupported()||typeof OffscreenCanvas!="undefined"&&i instanceof OffscreenCanvas?BasicPlatform:DomPlatform}class Element$1{constructor(){yt(this,"x");yt(this,"y");yt(this,"active",!1);yt(this,"options");yt(this,"$animations")}tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return isNumber(this.x)&&isNumber(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const r={};return t.forEach(a=>{r[a]=n[a]&&n[a].active()?n[a]._to:this[a]}),r}}yt(Element$1,"defaults",{}),yt(Element$1,"defaultRoutes");function autoSkip(i,t){const e=i.options.ticks,n=determineMaxTicks(i),r=Math.min(e.maxTicksLimit||n,n),a=e.major.enabled?getMajorIndices(t):[],s=a.length,c=a[0],p=a[s-1],g=[];if(s>r)return skipMajors(t,g,a,s/r),g;const y=calculateSpacing(a,t,r);if(s>0){let b,C;const S=s>1?Math.round((p-c)/(s-1)):null;for(skip(t,g,y,isNullOrUndef(S)?0:c-S,c),b=0,C=s-1;b<C;b++)skip(t,g,y,a[b],a[b+1]);return skip(t,g,y,p,isNullOrUndef(S)?t.length:p+S),g}return skip(t,g,y),g}function determineMaxTicks(i){const t=i.options.offset,e=i._tickSize(),n=i._length/e+(t?0:1),r=i._maxLength/e;return Math.floor(Math.min(n,r))}function calculateSpacing(i,t,e){const n=getEvenSpacing(i),r=t.length/e;if(!n)return Math.max(r,1);const a=_factorize(n);for(let s=0,c=a.length-1;s<c;s++){const p=a[s];if(p>r)return p}return Math.max(r,1)}function getMajorIndices(i){const t=[];let e,n;for(e=0,n=i.length;e<n;e++)i[e].major&&t.push(e);return t}function skipMajors(i,t,e,n){let r=0,a=e[0],s;for(n=Math.ceil(n),s=0;s<i.length;s++)s===a&&(t.push(i[s]),r++,a=e[r*n])}function skip(i,t,e,n,r){const a=valueOrDefault(n,0),s=Math.min(valueOrDefault(r,i.length),i.length);let c=0,p,g,y;for(e=Math.ceil(e),r&&(p=r-n,e=p/Math.floor(p/e)),y=a;y<0;)c++,y=Math.round(a+c*e);for(g=Math.max(a,0);g<s;g++)g===y&&(t.push(i[g]),c++,y=Math.round(a+c*e))}function getEvenSpacing(i){const t=i.length;let e,n;if(t<2)return!1;for(n=i[0],e=1;e<t;++e)if(i[e]-i[e-1]!==n)return!1;return n}const reverseAlign=i=>i==="left"?"right":i==="right"?"left":i,offsetFromEdge=(i,t,e)=>t==="top"||t==="left"?i[t]+e:i[t]-e,getTicksLimit=(i,t)=>Math.min(t||i,i);function sample(i,t){const e=[],n=i.length/t,r=i.length;let a=0;for(;a<r;a+=n)e.push(i[Math.floor(a)]);return e}function getPixelForGridLine(i,t,e){const n=i.ticks.length,r=Math.min(t,n-1),a=i._startPixel,s=i._endPixel,c=1e-6;let p=i.getPixelForTick(r),g;if(!(e&&(n===1?g=Math.max(p-a,s-p):t===0?g=(i.getPixelForTick(1)-p)/2:g=(p-i.getPixelForTick(r-1))/2,p+=r<t?g:-g,p<a-c||p>s+c)))return p}function garbageCollect(i,t){each(i,e=>{const n=e.gc,r=n.length/2;let a;if(r>t){for(a=0;a<r;++a)delete e.data[n[a]];n.splice(0,r)}})}function getTickMarkLength(i){return i.drawTicks?i.tickLength:0}function getTitleHeight(i,t){if(!i.display)return 0;const e=toFont(i.font,t),n=toPadding(i.padding);return(isArray(i.text)?i.text.length:1)*e.lineHeight+n.height}function createScaleContext(i,t){return createContext(i,{scale:t,type:"scale"})}function createTickContext(i,t,e){return createContext(i,{tick:e,index:t,type:"tick"})}function titleAlign(i,t,e){let n=_toLeftRightCenter(i);return(e&&t!=="right"||!e&&t==="right")&&(n=reverseAlign(n)),n}function titleArgs(i,t,e,n){const{top:r,left:a,bottom:s,right:c,chart:p}=i,{chartArea:g,scales:y}=p;let b=0,C,S,A;const T=s-r,I=c-a;if(i.isHorizontal()){if(S=_alignStartEnd(n,a,c),isObject(e)){const z=Object.keys(e)[0],q=e[z];A=y[z].getPixelForValue(q)+T-t}else e==="center"?A=(g.bottom+g.top)/2+T-t:A=offsetFromEdge(i,e,t);C=c-a}else{if(isObject(e)){const z=Object.keys(e)[0],q=e[z];S=y[z].getPixelForValue(q)-I+t}else e==="center"?S=(g.left+g.right)/2-I+t:S=offsetFromEdge(i,e,t);A=_alignStartEnd(n,s,r),b=e==="left"?-HALF_PI:HALF_PI}return{titleX:S,titleY:A,maxWidth:C,rotation:b}}class Scale extends Element$1{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:r}=this;return t=finiteOrDefault(t,Number.POSITIVE_INFINITY),e=finiteOrDefault(e,Number.NEGATIVE_INFINITY),n=finiteOrDefault(n,Number.POSITIVE_INFINITY),r=finiteOrDefault(r,Number.NEGATIVE_INFINITY),{min:finiteOrDefault(t,n),max:finiteOrDefault(e,r),minDefined:isNumberFinite(t),maxDefined:isNumberFinite(e)}}getMinMax(t){let{min:e,max:n,minDefined:r,maxDefined:a}=this.getUserBounds(),s;if(r&&a)return{min:e,max:n};const c=this.getMatchingVisibleMetas();for(let p=0,g=c.length;p<g;++p)s=c[p].controller.getMinMax(this,t),r||(e=Math.min(e,s.min)),a||(n=Math.max(n,s.max));return e=a&&e>n?n:e,n=r&&e>n?e:n,{min:finiteOrDefault(e,finiteOrDefault(n,e)),max:finiteOrDefault(n,finiteOrDefault(e,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){callback(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:r,grace:a,ticks:s}=this.options,c=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_addGrace(this,a,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const p=c<this.ticks.length;this._convertTicksToLabels(p?sample(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=autoSkip(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),p&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,n;this.isHorizontal()?(e=this.left,n=this.right):(e=this.top,n=this.bottom,t=!t),this._startPixel=e,this._endPixel=n,this._reversePixels=t,this._length=n-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){callback(this.options.afterUpdate,[this])}beforeSetDimensions(){callback(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){callback(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),callback(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){callback(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,r,a;for(n=0,r=t.length;n<r;n++)a=t[n],a.label=callback(e.callback,[a.value,n,t],this)}afterTickToLabelConversion(){callback(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){callback(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=getTicksLimit(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,a=e.maxRotation;let s=r,c,p,g;if(!this._isVisible()||!e.display||r>=a||n<=1||!this.isHorizontal()){this.labelRotation=r;return}const y=this._getLabelSizes(),b=y.widest.width,C=y.highest.height,S=_limitValue(this.chart.width-b,0,this.maxWidth);c=t.offset?this.maxWidth/n:S/(n-1),b+6>c&&(c=S/(n-(t.offset?.5:1)),p=this.maxHeight-getTickMarkLength(t.grid)-e.padding-getTitleHeight(t.title,this.chart.options.font),g=Math.sqrt(b*b+C*C),s=toDegrees(Math.min(Math.asin(_limitValue((y.highest.height+6)/c,-1,1)),Math.asin(_limitValue(p/g,-1,1))-Math.asin(_limitValue(C/g,-1,1)))),s=Math.max(r,Math.min(a,s))),this.labelRotation=s}afterCalculateLabelRotation(){callback(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){callback(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:r,grid:a}}=this,s=this._isVisible(),c=this.isHorizontal();if(s){const p=getTitleHeight(r,e.options.font);if(c?(t.width=this.maxWidth,t.height=getTickMarkLength(a)+p):(t.height=this.maxHeight,t.width=getTickMarkLength(a)+p),n.display&&this.ticks.length){const{first:g,last:y,widest:b,highest:C}=this._getLabelSizes(),S=n.padding*2,A=toRadians(this.labelRotation),T=Math.cos(A),I=Math.sin(A);if(c){const z=n.mirror?0:I*b.width+T*C.height;t.height=Math.min(this.maxHeight,t.height+z+S)}else{const z=n.mirror?0:T*b.width+I*C.height;t.width=Math.min(this.maxWidth,t.width+z+S)}this._calculatePadding(g,y,I,T)}}this._handleMargins(),c?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,r){const{ticks:{align:a,padding:s},position:c}=this.options,p=this.labelRotation!==0,g=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,b=this.right-this.getPixelForTick(this.ticks.length-1);let C=0,S=0;p?g?(C=r*t.width,S=n*e.height):(C=n*t.height,S=r*e.width):a==="start"?S=e.width:a==="end"?C=t.width:a!=="inner"&&(C=t.width/2,S=e.width/2),this.paddingLeft=Math.max((C-y+s)*this.width/(this.width-y),0),this.paddingRight=Math.max((S-b+s)*this.width/(this.width-b),0)}else{let y=e.height/2,b=t.height/2;a==="start"?(y=0,b=t.height):a==="end"&&(y=e.height,b=0),this.paddingTop=y+s,this.paddingBottom=b+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){callback(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,n;for(e=0,n=t.length;e<n;e++)isNullOrUndef(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=sample(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){const{ctx:r,_longestTextCache:a}=this,s=[],c=[],p=Math.floor(e/getTicksLimit(e,n));let g=0,y=0,b,C,S,A,T,I,z,q,Y,at,G;for(b=0;b<e;b+=p){if(A=t[b].label,T=this._resolveTickFontOptions(b),r.font=I=T.string,z=a[I]=a[I]||{data:{},gc:[]},q=T.lineHeight,Y=at=0,!isNullOrUndef(A)&&!isArray(A))Y=_measureText(r,z.data,z.gc,Y,A),at=q;else if(isArray(A))for(C=0,S=A.length;C<S;++C)G=A[C],!isNullOrUndef(G)&&!isArray(G)&&(Y=_measureText(r,z.data,z.gc,Y,G),at+=q);s.push(Y),c.push(at),g=Math.max(Y,g),y=Math.max(at,y)}garbageCollect(a,e);const ht=s.indexOf(g),et=c.indexOf(y),ot=vt=>({width:s[vt]||0,height:c[vt]||0});return{first:ot(0),last:ot(e-1),widest:ot(ht),highest:ot(et),widths:s,heights:c}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return _int16Range(this._alignToPixels?_alignPixel(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=createTickContext(this.getContext(),t,n))}return this.$context||(this.$context=createScaleContext(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=toRadians(this.labelRotation),n=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),a=this._getLabelSizes(),s=t.autoSkipPadding||0,c=a?a.widest.width+s:0,p=a?a.highest.height+s:0;return this.isHorizontal()?p*n>c*r?c/n:p/r:p*r<c*n?p/n:c/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,r=this.options,{grid:a,position:s,border:c}=r,p=a.offset,g=this.isHorizontal(),b=this.ticks.length+(p?1:0),C=getTickMarkLength(a),S=[],A=c.setContext(this.getContext()),T=A.display?A.width:0,I=T/2,z=function(Tt){return _alignPixel(n,Tt,T)};let q,Y,at,G,ht,et,ot,vt,wt,_t,St,zt;if(s==="top")q=z(this.bottom),et=this.bottom-C,vt=q-I,_t=z(t.top)+I,zt=t.bottom;else if(s==="bottom")q=z(this.top),_t=t.top,zt=z(t.bottom)-I,et=q+I,vt=this.top+C;else if(s==="left")q=z(this.right),ht=this.right-C,ot=q-I,wt=z(t.left)+I,St=t.right;else if(s==="right")q=z(this.left),wt=t.left,St=z(t.right)-I,ht=q+I,ot=this.left+C;else if(e==="x"){if(s==="center")q=z((t.top+t.bottom)/2+.5);else if(isObject(s)){const Tt=Object.keys(s)[0],Et=s[Tt];q=z(this.chart.scales[Tt].getPixelForValue(Et))}_t=t.top,zt=t.bottom,et=q+I,vt=et+C}else if(e==="y"){if(s==="center")q=z((t.left+t.right)/2);else if(isObject(s)){const Tt=Object.keys(s)[0],Et=s[Tt];q=z(this.chart.scales[Tt].getPixelForValue(Et))}ht=q-I,ot=ht-C,wt=t.left,St=t.right}const bt=valueOrDefault(r.ticks.maxTicksLimit,b),Ct=Math.max(1,Math.ceil(b/bt));for(Y=0;Y<b;Y+=Ct){const Tt=this.getContext(Y),Et=a.setContext(Tt),Bt=c.setContext(Tt),Qt=Et.lineWidth,At=Et.color,Xt=Bt.dash||[],ie=Bt.dashOffset,Wt=Et.tickWidth,$t=Et.tickColor,Ut=Et.tickBorderDash||[],Ht=Et.tickBorderDashOffset;at=getPixelForGridLine(this,Y,p),at!==void 0&&(G=_alignPixel(n,at,Qt),g?ht=ot=wt=St=G:et=vt=_t=zt=G,S.push({tx1:ht,ty1:et,tx2:ot,ty2:vt,x1:wt,y1:_t,x2:St,y2:zt,width:Qt,color:At,borderDash:Xt,borderDashOffset:ie,tickWidth:Wt,tickColor:$t,tickBorderDash:Ut,tickBorderDashOffset:Ht}))}return this._ticksLength=b,this._borderValue=q,S}_computeLabelItems(t){const e=this.axis,n=this.options,{position:r,ticks:a}=n,s=this.isHorizontal(),c=this.ticks,{align:p,crossAlign:g,padding:y,mirror:b}=a,C=getTickMarkLength(n.grid),S=C+y,A=b?-y:S,T=-toRadians(this.labelRotation),I=[];let z,q,Y,at,G,ht,et,ot,vt,wt,_t,St,zt="middle";if(r==="top")ht=this.bottom-A,et=this._getXAxisLabelAlignment();else if(r==="bottom")ht=this.top+A,et=this._getXAxisLabelAlignment();else if(r==="left"){const Ct=this._getYAxisLabelAlignment(C);et=Ct.textAlign,G=Ct.x}else if(r==="right"){const Ct=this._getYAxisLabelAlignment(C);et=Ct.textAlign,G=Ct.x}else if(e==="x"){if(r==="center")ht=(t.top+t.bottom)/2+S;else if(isObject(r)){const Ct=Object.keys(r)[0],Tt=r[Ct];ht=this.chart.scales[Ct].getPixelForValue(Tt)+S}et=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")G=(t.left+t.right)/2-S;else if(isObject(r)){const Ct=Object.keys(r)[0],Tt=r[Ct];G=this.chart.scales[Ct].getPixelForValue(Tt)}et=this._getYAxisLabelAlignment(C).textAlign}e==="y"&&(p==="start"?zt="top":p==="end"&&(zt="bottom"));const bt=this._getLabelSizes();for(z=0,q=c.length;z<q;++z){Y=c[z],at=Y.label;const Ct=a.setContext(this.getContext(z));ot=this.getPixelForTick(z)+a.labelOffset,vt=this._resolveTickFontOptions(z),wt=vt.lineHeight,_t=isArray(at)?at.length:1;const Tt=_t/2,Et=Ct.color,Bt=Ct.textStrokeColor,Qt=Ct.textStrokeWidth;let At=et;s?(G=ot,et==="inner"&&(z===q-1?At=this.options.reverse?"left":"right":z===0?At=this.options.reverse?"right":"left":At="center"),r==="top"?g==="near"||T!==0?St=-_t*wt+wt/2:g==="center"?St=-bt.highest.height/2-Tt*wt+wt:St=-bt.highest.height+wt/2:g==="near"||T!==0?St=wt/2:g==="center"?St=bt.highest.height/2-Tt*wt:St=bt.highest.height-_t*wt,b&&(St*=-1),T!==0&&!Ct.showLabelBackdrop&&(G+=wt/2*Math.sin(T))):(ht=ot,St=(1-_t)*wt/2);let Xt;if(Ct.showLabelBackdrop){const ie=toPadding(Ct.backdropPadding),Wt=bt.heights[z],$t=bt.widths[z];let Ut=St-ie.top,Ht=0-ie.left;switch(zt){case"middle":Ut-=Wt/2;break;case"bottom":Ut-=Wt;break}switch(et){case"center":Ht-=$t/2;break;case"right":Ht-=$t;break;case"inner":z===q-1?Ht-=$t:z>0&&(Ht-=$t/2);break}Xt={left:Ht,top:Ut,width:$t+ie.width,height:Wt+ie.height,color:Ct.backdropColor}}I.push({label:at,font:vt,textOffset:St,options:{rotation:T,color:Et,strokeColor:Bt,strokeWidth:Qt,textAlign:At,textBaseline:zt,translation:[G,ht],backdrop:Xt}})}return I}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-toRadians(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:r,padding:a}}=this.options,s=this._getLabelSizes(),c=t+a,p=s.widest.width;let g,y;return e==="left"?r?(y=this.right+a,n==="near"?g="left":n==="center"?(g="center",y+=p/2):(g="right",y+=p)):(y=this.right-c,n==="near"?g="right":n==="center"?(g="center",y-=p/2):(g="left",y=this.left)):e==="right"?r?(y=this.left+a,n==="near"?g="right":n==="center"?(g="center",y-=p/2):(g="left",y-=p)):(y=this.left+c,n==="near"?g="left":n==="center"?(g="center",y+=p/2):(g="right",y=this.right)):g="right",{textAlign:g,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:r,width:a,height:s}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,r,a,s),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(a=>a.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,s;const c=(p,g,y)=>{!y.width||!y.color||(n.save(),n.lineWidth=y.width,n.strokeStyle=y.color,n.setLineDash(y.borderDash||[]),n.lineDashOffset=y.borderDashOffset,n.beginPath(),n.moveTo(p.x,p.y),n.lineTo(g.x,g.y),n.stroke(),n.restore())};if(e.display)for(a=0,s=r.length;a<s;++a){const p=r[a];e.drawOnChartArea&&c({x:p.x1,y:p.y1},{x:p.x2,y:p.y2},p),e.drawTicks&&c({x:p.tx1,y:p.ty1},{x:p.tx2,y:p.ty2},{color:p.tickColor,width:p.tickWidth,borderDash:p.tickBorderDash,borderDashOffset:p.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:n,grid:r}}=this,a=n.setContext(this.getContext()),s=n.display?a.width:0;if(!s)return;const c=r.setContext(this.getContext(0)).lineWidth,p=this._borderValue;let g,y,b,C;this.isHorizontal()?(g=_alignPixel(t,this.left,s)-s/2,y=_alignPixel(t,this.right,c)+c/2,b=C=p):(b=_alignPixel(t,this.top,s)-s/2,C=_alignPixel(t,this.bottom,c)+c/2,g=y=p),e.save(),e.lineWidth=a.width,e.strokeStyle=a.color,e.beginPath(),e.moveTo(g,b),e.lineTo(y,C),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,r=this._computeLabelArea();r&&clipArea(n,r);const a=this.getLabelItems(t);for(const s of a){const c=s.options,p=s.font,g=s.label,y=s.textOffset;renderText(n,g,0,y,p,c)}r&&unclipArea(n)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:r}}=this;if(!n.display)return;const a=toFont(n.font),s=toPadding(n.padding),c=n.align;let p=a.lineHeight/2;e==="bottom"||e==="center"||isObject(e)?(p+=s.bottom,isArray(n.text)&&(p+=a.lineHeight*(n.text.length-1))):p+=s.top;const{titleX:g,titleY:y,maxWidth:b,rotation:C}=titleArgs(this,p,e,c);renderText(t,n.text,0,0,a,{color:n.color,maxWidth:b,rotation:C,textAlign:titleAlign(c,e,r),textBaseline:"middle",translation:[g,y]})}draw(t){!this._isVisible()||(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=valueOrDefault(t.grid&&t.grid.z,-1),r=valueOrDefault(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Scale.prototype.draw?[{z:e,draw:a=>{this.draw(a)}}]:[{z:n,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let a,s;for(a=0,s=e.length;a<s;++a){const c=e[a];c[n]===this.id&&(!t||c.type===t)&&r.push(c)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return toFont(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class TypedRegistry{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;isIChartComponent(e)&&(n=this.register(e));const r=this.items,a=t.id,s=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in r||(r[a]=t,registerDefaults(t,s,n),this.override&&defaults$1.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,r=this.scope;n in e&&delete e[n],r&&n in defaults$1[r]&&(delete defaults$1[r][n],this.override&&delete overrides[n])}}function registerDefaults(i,t,e){const n=merge(Object.create(null),[e?defaults$1.get(e):{},defaults$1.get(t),i.defaults]);defaults$1.set(t,n),i.defaultRoutes&&routeDefaults(t,i.defaultRoutes),i.descriptors&&defaults$1.describe(t,i.descriptors)}function routeDefaults(i,t){Object.keys(t).forEach(e=>{const n=e.split("."),r=n.pop(),a=[i].concat(n).join("."),s=t[e].split("."),c=s.pop(),p=s.join(".");defaults$1.route(a,r,p,c)})}function isIChartComponent(i){return"id"in i&&"defaults"in i}class Registry{constructor(){this.controllers=new TypedRegistry(DatasetController,"datasets",!0),this.elements=new TypedRegistry(Element$1,"elements"),this.plugins=new TypedRegistry(Object,"plugins"),this.scales=new TypedRegistry(Scale,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){[...e].forEach(r=>{const a=n||this._getRegistryForType(r);n||a.isForType(r)||a===this.plugins&&r.id?this._exec(t,a,r):each(r,s=>{const c=n||this._getRegistryForType(s);this._exec(t,c,s)})})}_exec(t,e,n){const r=_capitalize(t);callback(n["before"+r],[],n),e[t](n),callback(n["after"+r],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return r}}var registry=new Registry;class PluginService{constructor(){this._init=[]}notify(t,e,n,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=r?this._descriptors(t).filter(r):this._descriptors(t),s=this._notify(a,t,e,n);return e==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),s}_notify(t,e,n,r){r=r||{};for(const a of t){const s=a.plugin,c=s[n],p=[e,r,a.options];if(callback(c,p,s)===!1&&r.cancelable)return!1}return!0}invalidate(){isNullOrUndef(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,r=valueOrDefault(n.options&&n.options.plugins,{}),a=allPlugins(n);return r===!1&&!e?[]:createDescriptors(t,a,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,r=(a,s)=>a.filter(c=>!s.some(p=>c.plugin.id===p.plugin.id));this._notify(r(e,n),t,"stop"),this._notify(r(n,e),t,"start")}}function allPlugins(i){const t={},e=[],n=Object.keys(registry.plugins.items);for(let a=0;a<n.length;a++)e.push(registry.getPlugin(n[a]));const r=i.plugins||[];for(let a=0;a<r.length;a++){const s=r[a];e.indexOf(s)===-1&&(e.push(s),t[s.id]=!0)}return{plugins:e,localIds:t}}function getOpts(i,t){return!t&&i===!1?null:i===!0?{}:i}function createDescriptors(i,{plugins:t,localIds:e},n,r){const a=[],s=i.getContext();for(const c of t){const p=c.id,g=getOpts(n[p],r);g!==null&&a.push({plugin:c,options:pluginOpts(i.config,{plugin:c,local:e[p]},g,s)})}return a}function pluginOpts(i,{plugin:t,local:e},n,r){const a=i.pluginScopeKeys(t),s=i.getOptionScopes(n,a);return e&&t.defaults&&s.push(t.defaults),i.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function getIndexAxis(i,t){const e=defaults$1.datasets[i]||{};return((t.datasets||{})[i]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function getAxisFromDefaultScaleID(i,t){let e=i;return i==="_index_"?e=t:i==="_value_"&&(e=t==="x"?"y":"x"),e}function getDefaultScaleIDFromAxis(i,t){return i===t?"_index_":"_value_"}function idMatchesAxis(i){if(i==="x"||i==="y"||i==="r")return i}function axisFromPosition(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function determineAxis(i,...t){if(idMatchesAxis(i))return i;for(const e of t){const n=e.axis||axisFromPosition(e.position)||i.length>1&&idMatchesAxis(i[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function getAxisFromDataset(i,t,e){if(e[t+"AxisID"]===i)return{axis:t}}function retrieveAxisFromDatasets(i,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(n=>n.xAxisID===i||n.yAxisID===i);if(e.length)return getAxisFromDataset(i,"x",e[0])||getAxisFromDataset(i,"y",e[0])}return{}}function mergeScaleConfig(i,t){const e=overrides[i.type]||{scales:{}},n=t.scales||{},r=getIndexAxis(i.type,t),a=Object.create(null);return Object.keys(n).forEach(s=>{const c=n[s];if(!isObject(c))return console.error(`Invalid scale configuration for scale: ${s}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);const p=determineAxis(s,c,retrieveAxisFromDatasets(s,i),defaults$1.scales[c.type]),g=getDefaultScaleIDFromAxis(p,r),y=e.scales||{};a[s]=mergeIf(Object.create(null),[{axis:p},c,y[p],y[g]])}),i.data.datasets.forEach(s=>{const c=s.type||i.type,p=s.indexAxis||getIndexAxis(c,t),y=(overrides[c]||{}).scales||{};Object.keys(y).forEach(b=>{const C=getAxisFromDefaultScaleID(b,p),S=s[C+"AxisID"]||C;a[S]=a[S]||Object.create(null),mergeIf(a[S],[{axis:C},n[S],y[b]])})}),Object.keys(a).forEach(s=>{const c=a[s];mergeIf(c,[defaults$1.scales[c.type],defaults$1.scale])}),a}function initOptions(i){const t=i.options||(i.options={});t.plugins=valueOrDefault(t.plugins,{}),t.scales=mergeScaleConfig(i,t)}function initData(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function initConfig(i){return i=i||{},i.data=initData(i.data),initOptions(i),i}const keyCache=new Map,keysCached=new Set;function cachedKeys(i,t){let e=keyCache.get(i);return e||(e=t(),keyCache.set(i,e),keysCached.add(e)),e}const addIfFound=(i,t,e)=>{const n=resolveObjectKey(t,e);n!==void 0&&i.add(n)};class Config{constructor(t){this._config=initConfig(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=initData(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),initOptions(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return cachedKeys(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return cachedKeys(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return cachedKeys(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,n=this.type;return cachedKeys(`${n}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const n=this._scopeCache;let r=n.get(t);return(!r||e)&&(r=new Map,n.set(t,r)),r}getOptionScopes(t,e,n){const{options:r,type:a}=this,s=this._cachedScopes(t,n),c=s.get(e);if(c)return c;const p=new Set;e.forEach(y=>{t&&(p.add(t),y.forEach(b=>addIfFound(p,t,b))),y.forEach(b=>addIfFound(p,r,b)),y.forEach(b=>addIfFound(p,overrides[a]||{},b)),y.forEach(b=>addIfFound(p,defaults$1,b)),y.forEach(b=>addIfFound(p,descriptors,b))});const g=Array.from(p);return g.length===0&&g.push(Object.create(null)),keysCached.has(e)&&s.set(e,g),g}chartOptionScopes(){const{options:t,type:e}=this;return[t,overrides[e]||{},defaults$1.datasets[e]||{},{type:e},defaults$1,descriptors]}resolveNamedOptions(t,e,n,r=[""]){const a={$shared:!0},{resolver:s,subPrefixes:c}=getResolver(this._resolverCache,t,r);let p=s;if(needContext(s,e)){a.$shared=!1,n=isFunction(n)?n():n;const g=this.createResolver(t,n,c);p=_attachContext(s,n,g)}for(const g of e)a[g]=p[g];return a}createResolver(t,e,n=[""],r){const{resolver:a}=getResolver(this._resolverCache,t,n);return isObject(e)?_attachContext(a,e,void 0,r):a}}function getResolver(i,t,e){let n=i.get(t);n||(n=new Map,i.set(t,n));const r=e.join();let a=n.get(r);return a||(a={resolver:_createResolver(t,e),subPrefixes:e.filter(c=>!c.toLowerCase().includes("hover"))},n.set(r,a)),a}const hasFunction=i=>isObject(i)&&Object.getOwnPropertyNames(i).some(t=>isFunction(i[t]));function needContext(i,t){const{isScriptable:e,isIndexable:n}=_descriptors(i);for(const r of t){const a=e(r),s=n(r),c=(s||a)&&i[r];if(a&&(isFunction(c)||hasFunction(c))||s&&isArray(c))return!0}return!1}var version$1="4.4.2";const KNOWN_POSITIONS=["top","bottom","left","right","chartArea"];function positionIsHorizontal(i,t){return i==="top"||i==="bottom"||KNOWN_POSITIONS.indexOf(i)===-1&&t==="x"}function compare2Level(i,t){return function(e,n){return e[i]===n[i]?e[t]-n[t]:e[i]-n[i]}}function onAnimationsComplete(i){const t=i.chart,e=t.options.animation;t.notifyPlugins("afterRender"),callback(e&&e.onComplete,[i],t)}function onAnimationProgress(i){const t=i.chart,e=t.options.animation;callback(e&&e.onProgress,[i],t)}function getCanvas(i){return _isDomSupported()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}const instances={},getChart=i=>{const t=getCanvas(i);return Object.values(instances).filter(e=>e.canvas===t).pop()};function moveNumericKeys(i,t,e){const n=Object.keys(i);for(const r of n){const a=+r;if(a>=t){const s=i[r];delete i[r],(e>0||a>t)&&(i[a+e]=s)}}}function determineLastEvent(i,t,e,n){return!e||i.type==="mouseout"?null:n?t:i}function getSizeForArea(i,t,e){return i.options.clip?i[e]:t[e]}function getDatasetArea(i,t){const{xScale:e,yScale:n}=i;return e&&n?{left:getSizeForArea(e,t,"left"),right:getSizeForArea(e,t,"right"),top:getSizeForArea(n,t,"top"),bottom:getSizeForArea(n,t,"bottom")}:t}class Chart$1{static register(...t){registry.add(...t),invalidatePlugins()}static unregister(...t){registry.remove(...t),invalidatePlugins()}constructor(t,e){const n=this.config=new Config(e),r=getCanvas(t),a=getChart(r);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||_detectPlatform(r)),this.platform.updateConfig(n);const c=this.platform.acquireContext(r,s.aspectRatio),p=c&&c.canvas,g=p&&p.height,y=p&&p.width;if(this.id=uid(),this.ctx=c,this.canvas=p,this.width=y,this.height=g,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new PluginService,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=debounce$1(b=>this.update(b),s.resizeDelay||0),this._dataChanges=[],instances[this.id]=this,!c||!p){console.error("Failed to create chart: can't acquire context from the given item");return}animator.listen(this,"complete",onAnimationsComplete),animator.listen(this,"progress",onAnimationProgress),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:r,_aspectRatio:a}=this;return isNullOrUndef(t)?e&&a?a:r?n/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return registry}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return clearCanvas(this.canvas,this.ctx),this}stop(){return animator.stop(this),this}resize(t,e){animator.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,r=this.canvas,a=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(r,t,e,a),c=n.devicePixelRatio||this.platform.getDevicePixelRatio(),p=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,retinaScale(this,c,!0)&&(this.notifyPlugins("resize",{size:s}),callback(n.onResize,[this,s],this),this.attached&&this._doResize(p)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};each(e,(n,r)=>{n.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,r=Object.keys(n).reduce((s,c)=>(s[c]=!1,s),{});let a=[];e&&(a=a.concat(Object.keys(e).map(s=>{const c=e[s],p=determineAxis(s,c),g=p==="r",y=p==="x";return{options:c,dposition:g?"chartArea":y?"bottom":"left",dtype:g?"radialLinear":y?"category":"linear"}}))),each(a,s=>{const c=s.options,p=c.id,g=determineAxis(p,c),y=valueOrDefault(c.type,s.dtype);(c.position===void 0||positionIsHorizontal(c.position,g)!==positionIsHorizontal(s.dposition))&&(c.position=s.dposition),r[p]=!0;let b=null;if(p in n&&n[p].type===y)b=n[p];else{const C=registry.getScale(y);b=new C({id:p,type:y,ctx:this.ctx,chart:this}),n[b.id]=b}b.init(c,t)}),each(r,(s,c)=>{s||delete n[c]}),each(n,s=>{layouts.configure(this,s,s.options),layouts.addBox(this,s)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort((r,a)=>r.index-a.index),n>e){for(let r=e;r<n;++r)this._destroyDatasetMeta(r);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(compare2Level("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((n,r)=>{e.filter(a=>a===n._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=e.length;n<r;n++){const a=e[n];let s=this.getDatasetMeta(n);const c=a.type||this.config.type;if(s.type&&s.type!==c&&(this._destroyDatasetMeta(n),s=this.getDatasetMeta(n)),s.type=c,s.indexAxis=a.indexAxis||getIndexAxis(c,this.options),s.order=a.order||0,s.index=n,s.label=""+a.label,s.visible=this.isDatasetVisible(n),s.controller)s.controller.updateIndex(n),s.controller.linkScales();else{const p=registry.getController(c),{datasetElementType:g,dataElementType:y}=defaults$1.datasets[c];Object.assign(p,{dataElementType:registry.getElement(y),datasetElementType:g&&registry.getElement(g)}),s.controller=new p(this,n),t.push(s.controller)}}return this._updateMetasets(),t}_resetElements(){each(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let g=0,y=this.data.datasets.length;g<y;g++){const{controller:b}=this.getDatasetMeta(g),C=!r&&a.indexOf(b)===-1;b.buildOrUpdateElements(C),s=Math.max(+b.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),r||each(a,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(compare2Level("z","_idx"));const{_active:c,_lastEvent:p}=this;p?this._eventHandler(p,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){each(this.scales,t=>{layouts.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!setsEqual(e,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:a}of e){const s=n==="_removeElements"?-a:a;moveNumericKeys(t,r,s)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=a=>new Set(t.filter(s=>s[0]===a).map((s,c)=>c+","+s.splice(1).join(","))),r=n(0);for(let a=1;a<e;a++)if(!setsEqual(r,n(a)))return;return Array.from(r).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;layouts.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],each(this.boxes,r=>{n&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,a)=>{r._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,n=this.data.datasets.length;e<n;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,isFunction(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),r={meta:n,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(n.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(animator.has(this)?this.attached&&!animator.running(this)&&animator.start(this):(this.draw(),onAnimationsComplete({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:r}=this._resizeBeforeDraw;this._resize(n,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let r,a;for(r=0,a=e.length;r<a;++r){const s=e[r];(!t||s.visible)&&n.push(s)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,r=!n.disabled,a=getDatasetArea(t,this.chartArea),s={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(r&&clipArea(e,{left:n.left===!1?0:a.left-n.left,right:n.right===!1?this.width:a.right+n.right,top:n.top===!1?0:a.top-n.top,bottom:n.bottom===!1?this.height:a.bottom+n.bottom}),t.controller.draw(),r&&unclipArea(e),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return _isPointInArea(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,r){const a=Interaction.modes[e];return typeof a=="function"?a(this,t,n,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let r=n.filter(a=>a&&a._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=createContext(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!e.hidden}setDatasetVisibility(t,e){const n=this.getDatasetMeta(t);n.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const r=n?"show":"hide",a=this.getDatasetMeta(t),s=a.controller._resolveAnimations(void 0,r);defined(e)?(a.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),s.update(a,{visible:n}),this.update(c=>c.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),animator.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),clearCanvas(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete instances[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(a,s)=>{e.addEventListener(this,a,s),t[a]=s},r=(a,s,c)=>{a.offsetX=s,a.offsetY=c,this._eventHandler(a)};each(this.options.events,a=>n(a,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(p,g)=>{e.addEventListener(this,p,g),t[p]=g},r=(p,g)=>{t[p]&&(e.removeEventListener(this,p,g),delete t[p])},a=(p,g)=>{this.canvas&&this.resize(p,g)};let s;const c=()=>{r("attach",c),this.attached=!0,this.resize(),n("resize",a),n("detach",s)};s=()=>{this.attached=!1,r("resize",a),this._stop(),this._resize(0,0),n("attach",c)},e.isAttached(this.canvas)?c():s()}unbindEvents(){each(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},each(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const r=n?"set":"remove";let a,s,c,p;for(e==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+r+"DatasetHoverStyle"]()),c=0,p=t.length;c<p;++c){s=t[c];const g=s&&this.getDatasetMeta(s.datasetIndex).controller;g&&g[r+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map(({datasetIndex:a,index:s})=>{const c=this.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[s],index:s}});!_elementsEqual(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,n){const r=this.options.hover,a=(p,g)=>p.filter(y=>!g.some(b=>y.datasetIndex===b.datasetIndex&&y.index===b.index)),s=a(e,t),c=n?t:a(t,e);s.length&&this.updateHoverStyle(s,r.mode,!1),c.length&&r.mode&&this.updateHoverStyle(c,r.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=s=>(s.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,r)===!1)return;const a=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(a||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:r=[],options:a}=this,s=e,c=this._getActiveElements(t,r,n,s),p=_isClickEvent(t),g=determineLastEvent(t,this._lastEvent,n,p);n&&(this._lastEvent=null,callback(a.onHover,[t,c,this],this),p&&callback(a.onClick,[t,c,this],this));const y=!_elementsEqual(c,r);return(y||e)&&(this._active=c,this._updateHoverStyles(c,r,e)),this._lastEvent=g,y}_getActiveElements(t,e,n,r){if(t.type==="mouseout")return[];if(!n)return e;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,r)}}yt(Chart$1,"defaults",defaults$1),yt(Chart$1,"instances",instances),yt(Chart$1,"overrides",overrides),yt(Chart$1,"registry",registry),yt(Chart$1,"version",version$1),yt(Chart$1,"getChart",getChart);function invalidatePlugins(){return each(Chart$1.instances,i=>i._plugins.invalidate())}function clipArc(i,t,e){const{startAngle:n,pixelMargin:r,x:a,y:s,outerRadius:c,innerRadius:p}=t;let g=r/c;i.beginPath(),i.arc(a,s,c,n-g,e+g),p>r?(g=r/p,i.arc(a,s,p,e+g,n-g,!0)):i.arc(a,s,r,e+HALF_PI,n-HALF_PI),i.closePath(),i.clip()}function toRadiusCorners(i){return _readValueToProps(i,["outerStart","outerEnd","innerStart","innerEnd"])}function parseBorderRadius$1(i,t,e,n){const r=toRadiusCorners(i.options.borderRadius),a=(e-t)/2,s=Math.min(a,n*t/2),c=p=>{const g=(e-Math.min(a,p))*n/2;return _limitValue(p,0,Math.min(a,g))};return{outerStart:c(r.outerStart),outerEnd:c(r.outerEnd),innerStart:_limitValue(r.innerStart,0,s),innerEnd:_limitValue(r.innerEnd,0,s)}}function rThetaToXY(i,t,e,n){return{x:e+i*Math.cos(t),y:n+i*Math.sin(t)}}function pathArc(i,t,e,n,r,a){const{x:s,y:c,startAngle:p,pixelMargin:g,innerRadius:y}=t,b=Math.max(t.outerRadius+n+e-g,0),C=y>0?y+n+e+g:0;let S=0;const A=r-p;if(n){const Ct=y>0?y-n:0,Tt=b>0?b-n:0,Et=(Ct+Tt)/2,Bt=Et!==0?A*Et/(Et+n):A;S=(A-Bt)/2}const T=Math.max(.001,A*b-e/PI)/b,I=(A-T)/2,z=p+I+S,q=r-I-S,{outerStart:Y,outerEnd:at,innerStart:G,innerEnd:ht}=parseBorderRadius$1(t,C,b,q-z),et=b-Y,ot=b-at,vt=z+Y/et,wt=q-at/ot,_t=C+G,St=C+ht,zt=z+G/_t,bt=q-ht/St;if(i.beginPath(),a){const Ct=(vt+wt)/2;if(i.arc(s,c,b,vt,Ct),i.arc(s,c,b,Ct,wt),at>0){const Qt=rThetaToXY(ot,wt,s,c);i.arc(Qt.x,Qt.y,at,wt,q+HALF_PI)}const Tt=rThetaToXY(St,q,s,c);if(i.lineTo(Tt.x,Tt.y),ht>0){const Qt=rThetaToXY(St,bt,s,c);i.arc(Qt.x,Qt.y,ht,q+HALF_PI,bt+Math.PI)}const Et=(q-ht/C+(z+G/C))/2;if(i.arc(s,c,C,q-ht/C,Et,!0),i.arc(s,c,C,Et,z+G/C,!0),G>0){const Qt=rThetaToXY(_t,zt,s,c);i.arc(Qt.x,Qt.y,G,zt+Math.PI,z-HALF_PI)}const Bt=rThetaToXY(et,z,s,c);if(i.lineTo(Bt.x,Bt.y),Y>0){const Qt=rThetaToXY(et,vt,s,c);i.arc(Qt.x,Qt.y,Y,z-HALF_PI,vt)}}else{i.moveTo(s,c);const Ct=Math.cos(vt)*b+s,Tt=Math.sin(vt)*b+c;i.lineTo(Ct,Tt);const Et=Math.cos(wt)*b+s,Bt=Math.sin(wt)*b+c;i.lineTo(Et,Bt)}i.closePath()}function drawArc(i,t,e,n,r){const{fullCircles:a,startAngle:s,circumference:c}=t;let p=t.endAngle;if(a){pathArc(i,t,e,n,p,r);for(let g=0;g<a;++g)i.fill();isNaN(c)||(p=s+(c%TAU||TAU))}return pathArc(i,t,e,n,p,r),i.fill(),p}function drawBorder(i,t,e,n,r){const{fullCircles:a,startAngle:s,circumference:c,options:p}=t,{borderWidth:g,borderJoinStyle:y,borderDash:b,borderDashOffset:C}=p,S=p.borderAlign==="inner";if(!g)return;i.setLineDash(b||[]),i.lineDashOffset=C,S?(i.lineWidth=g*2,i.lineJoin=y||"round"):(i.lineWidth=g,i.lineJoin=y||"bevel");let A=t.endAngle;if(a){pathArc(i,t,e,n,A,r);for(let T=0;T<a;++T)i.stroke();isNaN(c)||(A=s+(c%TAU||TAU))}S&&clipArc(i,t,A),a||(pathArc(i,t,e,n,A,r),i.stroke())}class ArcElement extends Element$1{constructor(e){super();yt(this,"circumference");yt(this,"endAngle");yt(this,"fullCircles");yt(this,"innerRadius");yt(this,"outerRadius");yt(this,"pixelMargin");yt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,r){const a=this.getProps(["x","y"],r),{angle:s,distance:c}=getAngleFromPoint(a,{x:e,y:n}),{startAngle:p,endAngle:g,innerRadius:y,outerRadius:b,circumference:C}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),S=(this.options.spacing+this.options.borderWidth)/2,T=valueOrDefault(C,g-p)>=TAU||_angleBetween(s,p,g),I=_isBetween(c,y+S,b+S);return T&&I}getCenterPoint(e){const{x:n,y:r,startAngle:a,endAngle:s,innerRadius:c,outerRadius:p}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:g,spacing:y}=this.options,b=(a+s)/2,C=(c+p+y+g)/2;return{x:n+Math.cos(b)*C,y:r+Math.sin(b)*C}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:r}=this,a=(n.offset||0)/4,s=(n.spacing||0)/2,c=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>TAU?Math.floor(r/TAU):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const p=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(p)*a,Math.sin(p)*a);const g=1-Math.sin(Math.min(PI,r||0)),y=a*g;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,drawArc(e,this,y,s,c),drawBorder(e,this,y,s,c),e.restore()}}yt(ArcElement,"id","arc"),yt(ArcElement,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),yt(ArcElement,"defaultRoutes",{backgroundColor:"backgroundColor"}),yt(ArcElement,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});function setStyle(i,t,e=t){i.lineCap=valueOrDefault(e.borderCapStyle,t.borderCapStyle),i.setLineDash(valueOrDefault(e.borderDash,t.borderDash)),i.lineDashOffset=valueOrDefault(e.borderDashOffset,t.borderDashOffset),i.lineJoin=valueOrDefault(e.borderJoinStyle,t.borderJoinStyle),i.lineWidth=valueOrDefault(e.borderWidth,t.borderWidth),i.strokeStyle=valueOrDefault(e.borderColor,t.borderColor)}function lineTo(i,t,e){i.lineTo(e.x,e.y)}function getLineMethod(i){return i.stepped?_steppedLineTo:i.tension||i.cubicInterpolationMode==="monotone"?_bezierCurveTo:lineTo}function pathVars(i,t,e={}){const n=i.length,{start:r=0,end:a=n-1}=e,{start:s,end:c}=t,p=Math.max(r,s),g=Math.min(a,c),y=r<s&&a<s||r>c&&a>c;return{count:n,start:p,loop:t.loop,ilen:g<p&&!y?n+g-p:g-p}}function pathSegment(i,t,e,n){const{points:r,options:a}=t,{count:s,start:c,loop:p,ilen:g}=pathVars(r,e,n),y=getLineMethod(a);let{move:b=!0,reverse:C}=n||{},S,A,T;for(S=0;S<=g;++S)A=r[(c+(C?g-S:S))%s],!A.skip&&(b?(i.moveTo(A.x,A.y),b=!1):y(i,T,A,C,a.stepped),T=A);return p&&(A=r[(c+(C?g:0))%s],y(i,T,A,C,a.stepped)),!!p}function fastPathSegment(i,t,e,n){const r=t.points,{count:a,start:s,ilen:c}=pathVars(r,e,n),{move:p=!0,reverse:g}=n||{};let y=0,b=0,C,S,A,T,I,z;const q=at=>(s+(g?c-at:at))%a,Y=()=>{T!==I&&(i.lineTo(y,I),i.lineTo(y,T),i.lineTo(y,z))};for(p&&(S=r[q(0)],i.moveTo(S.x,S.y)),C=0;C<=c;++C){if(S=r[q(C)],S.skip)continue;const at=S.x,G=S.y,ht=at|0;ht===A?(G<T?T=G:G>I&&(I=G),y=(b*y+at)/++b):(Y(),i.lineTo(at,G),A=ht,b=0,T=I=G),z=G}Y()}function _getSegmentMethod(i){const t=i.options,e=t.borderDash&&t.borderDash.length;return!i._decimated&&!i._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?fastPathSegment:pathSegment}function _getInterpolationMethod(i){return i.stepped?_steppedInterpolation:i.tension||i.cubicInterpolationMode==="monotone"?_bezierInterpolation:_pointInLine}function strokePathWithCache(i,t,e,n){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,n)&&r.closePath()),setStyle(i,t.options),i.stroke(r)}function strokePathDirect(i,t,e,n){const{segments:r,options:a}=t,s=_getSegmentMethod(t);for(const c of r)setStyle(i,a,c.style),i.beginPath(),s(i,t,c,{start:e,end:e+n-1})&&i.closePath(),i.stroke()}const usePath2D=typeof Path2D=="function";function draw$1(i,t,e,n){usePath2D&&!t.options.segment?strokePathWithCache(i,t,e,n):strokePathDirect(i,t,e,n)}class LineElement extends Element$1{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;_updateBezierControlPoints(this._points,n,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_computeSegments(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}interpolate(t,e){const n=this.options,r=t[e],a=this.points,s=_boundSegments(this,{property:e,start:r,end:r});if(!s.length)return;const c=[],p=_getInterpolationMethod(n);let g,y;for(g=0,y=s.length;g<y;++g){const{start:b,end:C}=s[g],S=a[b],A=a[C];if(S===A){c.push(S);continue}const T=Math.abs((r-S[e])/(A[e]-S[e])),I=p(S,A,T,n.stepped);I[e]=t[e],c.push(I)}return c.length===1?c[0]:c}pathSegment(t,e,n){return _getSegmentMethod(this)(t,this,e,n)}path(t,e,n){const r=this.segments,a=_getSegmentMethod(this);let s=this._loop;e=e||0,n=n||this.points.length-e;for(const c of r)s&=a(t,this,c,{start:e,end:e+n-1});return!!s}draw(t,e,n,r){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),draw$1(t,this,n,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}yt(LineElement,"id","line"),yt(LineElement,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),yt(LineElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),yt(LineElement,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function inRange$1(i,t,e,n){const r=i.options,{[e]:a}=i.getProps([e],n);return Math.abs(t-a)<r.radius+r.hitRadius}class PointElement extends Element$1{constructor(e){super();yt(this,"parsed");yt(this,"skip");yt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,r){const a=this.options,{x:s,y:c}=this.getProps(["x","y"],r);return Math.pow(e-s,2)+Math.pow(n-c,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,n){return inRange$1(this,e,"x",n)}inYRange(e,n){return inRange$1(this,e,"y",n)}getCenterPoint(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const r=n&&e.borderWidth||0;return(n+r)*2}draw(e,n){const r=this.options;this.skip||r.radius<.1||!_isPointInArea(this,n,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,drawPoint(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}yt(PointElement,"id","point"),yt(PointElement,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),yt(PointElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function getBarBounds(i,t){const{x:e,y:n,base:r,width:a,height:s}=i.getProps(["x","y","base","width","height"],t);let c,p,g,y,b;return i.horizontal?(b=s/2,c=Math.min(e,r),p=Math.max(e,r),g=n-b,y=n+b):(b=a/2,c=e-b,p=e+b,g=Math.min(n,r),y=Math.max(n,r)),{left:c,top:g,right:p,bottom:y}}function skipOrLimit(i,t,e,n){return i?0:_limitValue(t,e,n)}function parseBorderWidth(i,t,e){const n=i.options.borderWidth,r=i.borderSkipped,a=toTRBL(n);return{t:skipOrLimit(r.top,a.top,0,e),r:skipOrLimit(r.right,a.right,0,t),b:skipOrLimit(r.bottom,a.bottom,0,e),l:skipOrLimit(r.left,a.left,0,t)}}function parseBorderRadius(i,t,e){const{enableBorderRadius:n}=i.getProps(["enableBorderRadius"]),r=i.options.borderRadius,a=toTRBLCorners(r),s=Math.min(t,e),c=i.borderSkipped,p=n||isObject(r);return{topLeft:skipOrLimit(!p||c.top||c.left,a.topLeft,0,s),topRight:skipOrLimit(!p||c.top||c.right,a.topRight,0,s),bottomLeft:skipOrLimit(!p||c.bottom||c.left,a.bottomLeft,0,s),bottomRight:skipOrLimit(!p||c.bottom||c.right,a.bottomRight,0,s)}}function boundingRects$1(i){const t=getBarBounds(i),e=t.right-t.left,n=t.bottom-t.top,r=parseBorderWidth(i,e/2,n/2),a=parseBorderRadius(i,e/2,n/2);return{outer:{x:t.left,y:t.top,w:e,h:n,radius:a},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,a.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(r.b,r.r))}}}}function inRange(i,t,e,n){const r=t===null,a=e===null,c=i&&!(r&&a)&&getBarBounds(i,n);return c&&(r||_isBetween(t,c.left,c.right))&&(a||_isBetween(e,c.top,c.bottom))}function hasRadius(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function addNormalRectPath(i,t){i.rect(t.x,t.y,t.w,t.h)}function inflateRect(i,t,e={}){const n=i.x!==e.x?-t:0,r=i.y!==e.y?-t:0,a=(i.x+i.w!==e.x+e.w?t:0)-n,s=(i.y+i.h!==e.y+e.h?t:0)-r;return{x:i.x+n,y:i.y+r,w:i.w+a,h:i.h+s,radius:i.radius}}class BarElement extends Element$1{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:r}}=this,{inner:a,outer:s}=boundingRects$1(this),c=hasRadius(s.radius)?addRoundedRectPath:addNormalRectPath;t.save(),(s.w!==a.w||s.h!==a.h)&&(t.beginPath(),c(t,inflateRect(s,e,a)),t.clip(),c(t,inflateRect(a,-e,s)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),c(t,inflateRect(a,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,n){return inRange(this,t,e,n)}inXRange(t,e){return inRange(this,t,null,e)}inYRange(t,e){return inRange(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:r,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(e+r)/2:e,y:a?n:(n+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}yt(BarElement,"id","bar"),yt(BarElement,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),yt(BarElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function _segments(i,t,e){const n=i.segments,r=i.points,a=t.points,s=[];for(const c of n){let{start:p,end:g}=c;g=_findSegmentEnd(p,g,r);const y=_getBounds(e,r[p],r[g],c.loop);if(!t.segments){s.push({source:c,target:y,start:r[p],end:r[g]});continue}const b=_boundSegments(t,y);for(const C of b){const S=_getBounds(e,a[C.start],a[C.end],C.loop),A=_boundSegment(c,r,S);for(const T of A)s.push({source:T,target:C,start:{[e]:_getEdge(y,S,"start",Math.max)},end:{[e]:_getEdge(y,S,"end",Math.min)}})}}return s}function _getBounds(i,t,e,n){if(n)return;let r=t[i],a=e[i];return i==="angle"&&(r=_normalizeAngle(r),a=_normalizeAngle(a)),{property:i,start:r,end:a}}function _pointsFromSegments(i,t){const{x:e=null,y:n=null}=i||{},r=t.points,a=[];return t.segments.forEach(({start:s,end:c})=>{c=_findSegmentEnd(s,c,r);const p=r[s],g=r[c];n!==null?(a.push({x:p.x,y:n}),a.push({x:g.x,y:n})):e!==null&&(a.push({x:e,y:p.y}),a.push({x:e,y:g.y}))}),a}function _findSegmentEnd(i,t,e){for(;t>i;t--){const n=e[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function _getEdge(i,t,e,n){return i&&t?n(i[e],t[e]):i?i[e]:t?t[e]:0}function _createBoundaryLine(i,t){let e=[],n=!1;return isArray(i)?(n=!0,e=i):e=_pointsFromSegments(i,t),e.length?new LineElement({points:e,options:{tension:0},_loop:n,_fullLoop:n}):null}function _shouldApplyFill(i){return i&&i.fill!==!1}function _resolveTarget(i,t,e){let r=i[t].fill;const a=[t];let s;if(!e)return r;for(;r!==!1&&a.indexOf(r)===-1;){if(!isNumberFinite(r))return r;if(s=i[r],!s)return!1;if(s.visible)return r;a.push(r),r=s.fill}return!1}function _decodeFill(i,t,e){const n=parseFillOption(i);if(isObject(n))return isNaN(n.value)?!1:n;let r=parseFloat(n);return isNumberFinite(r)&&Math.floor(r)===r?decodeTargetIndex(n[0],t,r,e):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function decodeTargetIndex(i,t,e,n){return(i==="-"||i==="+")&&(e=t+e),e===t||e<0||e>=n?!1:e}function _getTargetPixel(i,t){let e=null;return i==="start"?e=t.bottom:i==="end"?e=t.top:isObject(i)?e=t.getPixelForValue(i.value):t.getBasePixel&&(e=t.getBasePixel()),e}function _getTargetValue(i,t,e){let n;return i==="start"?n=e:i==="end"?n=t.options.reverse?t.min:t.max:isObject(i)?n=i.value:n=t.getBaseValue(),n}function parseFillOption(i){const t=i.options,e=t.fill;let n=valueOrDefault(e&&e.target,e);return n===void 0&&(n=!!t.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function _buildStackLine(i){const{scale:t,index:e,line:n}=i,r=[],a=n.segments,s=n.points,c=getLinesBelow(t,e);c.push(_createBoundaryLine({x:null,y:t.bottom},n));for(let p=0;p<a.length;p++){const g=a[p];for(let y=g.start;y<=g.end;y++)addPointsBelow(r,s[y],c)}return new LineElement({points:r,options:{}})}function getLinesBelow(i,t){const e=[],n=i.getMatchingVisibleMetas("line");for(let r=0;r<n.length;r++){const a=n[r];if(a.index===t)break;a.hidden||e.unshift(a.dataset)}return e}function addPointsBelow(i,t,e){const n=[];for(let r=0;r<e.length;r++){const a=e[r],{first:s,last:c,point:p}=findPoint(a,t,"x");if(!(!p||s&&c)){if(s)n.unshift(p);else if(i.push(p),!c)break}}i.push(...n)}function findPoint(i,t,e){const n=i.interpolate(t,e);if(!n)return{};const r=n[e],a=i.segments,s=i.points;let c=!1,p=!1;for(let g=0;g<a.length;g++){const y=a[g],b=s[y.start][e],C=s[y.end][e];if(_isBetween(r,b,C)){c=r===b,p=r===C;break}}return{first:c,last:p,point:n}}class simpleArc{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,n){const{x:r,y:a,radius:s}=this;return e=e||{start:0,end:TAU},t.arc(r,a,s,e.end,e.start,!0),!n.bounds}interpolate(t){const{x:e,y:n,radius:r}=this,a=t.angle;return{x:e+Math.cos(a)*r,y:n+Math.sin(a)*r,angle:a}}}function _getTarget(i){const{chart:t,fill:e,line:n}=i;if(isNumberFinite(e))return getLineByIndex(t,e);if(e==="stack")return _buildStackLine(i);if(e==="shape")return!0;const r=computeBoundary(i);return r instanceof simpleArc?r:_createBoundaryLine(r,n)}function getLineByIndex(i,t){const e=i.getDatasetMeta(t);return e&&i.isDatasetVisible(t)?e.dataset:null}function computeBoundary(i){return(i.scale||{}).getPointPositionForValue?computeCircularBoundary(i):computeLinearBoundary(i)}function computeLinearBoundary(i){const{scale:t={},fill:e}=i,n=_getTargetPixel(e,t);if(isNumberFinite(n)){const r=t.isHorizontal();return{x:r?n:null,y:r?null:n}}return null}function computeCircularBoundary(i){const{scale:t,fill:e}=i,n=t.options,r=t.getLabels().length,a=n.reverse?t.max:t.min,s=_getTargetValue(e,t,a),c=[];if(n.grid.circular){const p=t.getPointPositionForValue(0,a);return new simpleArc({x:p.x,y:p.y,radius:t.getDistanceFromCenterForValue(s)})}for(let p=0;p<r;++p)c.push(t.getPointPositionForValue(p,s));return c}function _drawfill(i,t,e){const n=_getTarget(t),{line:r,scale:a,axis:s}=t,c=r.options,p=c.fill,g=c.backgroundColor,{above:y=g,below:b=g}=p||{};n&&r.points.length&&(clipArea(i,e),doFill(i,{line:r,target:n,above:y,below:b,area:e,scale:a,axis:s}),unclipArea(i))}function doFill(i,t){const{line:e,target:n,above:r,below:a,area:s,scale:c}=t,p=e._loop?"angle":t.axis;i.save(),p==="x"&&a!==r&&(clipVertical(i,n,s.top),fill(i,{line:e,target:n,color:r,scale:c,property:p}),i.restore(),i.save(),clipVertical(i,n,s.bottom)),fill(i,{line:e,target:n,color:a,scale:c,property:p}),i.restore()}function clipVertical(i,t,e){const{segments:n,points:r}=t;let a=!0,s=!1;i.beginPath();for(const c of n){const{start:p,end:g}=c,y=r[p],b=r[_findSegmentEnd(p,g,r)];a?(i.moveTo(y.x,y.y),a=!1):(i.lineTo(y.x,e),i.lineTo(y.x,y.y)),s=!!t.pathSegment(i,c,{move:s}),s?i.closePath():i.lineTo(b.x,e)}i.lineTo(t.first().x,e),i.closePath(),i.clip()}function fill(i,t){const{line:e,target:n,property:r,color:a,scale:s}=t,c=_segments(e,n,r);for(const{source:p,target:g,start:y,end:b}of c){const{style:{backgroundColor:C=a}={}}=p,S=n!==!0;i.save(),i.fillStyle=C,clipBounds(i,s,S&&_getBounds(r,y,b)),i.beginPath();const A=!!e.pathSegment(i,p);let T;if(S){A?i.closePath():interpolatedLineTo(i,n,b,r);const I=!!n.pathSegment(i,g,{move:A,reverse:!0});T=A&&I,T||interpolatedLineTo(i,n,y,r)}i.closePath(),i.fill(T?"evenodd":"nonzero"),i.restore()}}function clipBounds(i,t,e){const{top:n,bottom:r}=t.chart.chartArea,{property:a,start:s,end:c}=e||{};a==="x"&&(i.beginPath(),i.rect(s,n,c-s,r-n),i.clip())}function interpolatedLineTo(i,t,e,n){const r=t.interpolate(e,n);r&&i.lineTo(r.x,r.y)}var index={id:"filler",afterDatasetsUpdate(i,t,e){const n=(i.data.datasets||[]).length,r=[];let a,s,c,p;for(s=0;s<n;++s)a=i.getDatasetMeta(s),c=a.dataset,p=null,c&&c.options&&c instanceof LineElement&&(p={visible:i.isDatasetVisible(s),index:s,fill:_decodeFill(c,s,n),chart:i,axis:a.controller.options.indexAxis,scale:a.vScale,line:c}),a.$filler=p,r.push(p);for(s=0;s<n;++s)p=r[s],!(!p||p.fill===!1)&&(p.fill=_resolveTarget(r,s,e.propagate))},beforeDraw(i,t,e){const n=e.drawTime==="beforeDraw",r=i.getSortedVisibleDatasetMetas(),a=i.chartArea;for(let s=r.length-1;s>=0;--s){const c=r[s].$filler;!c||(c.line.updateControlPoints(a,c.axis),n&&c.fill&&_drawfill(i.ctx,c,a))}},beforeDatasetsDraw(i,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const n=i.getSortedVisibleDatasetMetas();for(let r=n.length-1;r>=0;--r){const a=n[r].$filler;_shouldApplyFill(a)&&_drawfill(i.ctx,a,i.chartArea)}},beforeDatasetDraw(i,t,e){const n=t.meta.$filler;!_shouldApplyFill(n)||e.drawTime!=="beforeDatasetDraw"||_drawfill(i.ctx,n,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const getBoxSize=(i,t)=>{let{boxHeight:e=t,boxWidth:n=t}=i;return i.usePointStyle&&(e=Math.min(e,t),n=i.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:e,itemHeight:Math.max(t,e)}},itemsEqual=(i,t)=>i!==null&&t!==null&&i.datasetIndex===t.datasetIndex&&i.index===t.index;class Legend extends Element$1{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=callback(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(n=>t.filter(n,this.chart.data))),t.sort&&(e=e.sort((n,r)=>t.sort(n,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,r=toFont(n.font),a=r.size,s=this._computeTitleHeight(),{boxWidth:c,itemHeight:p}=getBoxSize(n,a);let g,y;e.font=r.string,this.isHorizontal()?(g=this.maxWidth,y=this._fitRows(s,a,c,p)+10):(y=this.maxHeight,g=this._fitCols(s,r,c,p)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(y,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,r){const{ctx:a,maxWidth:s,options:{labels:{padding:c}}}=this,p=this.legendHitBoxes=[],g=this.lineWidths=[0],y=r+c;let b=t;a.textAlign="left",a.textBaseline="middle";let C=-1,S=-y;return this.legendItems.forEach((A,T)=>{const I=n+e/2+a.measureText(A.text).width;(T===0||g[g.length-1]+I+2*c>s)&&(b+=y,g[g.length-(T>0?0:1)]=0,S+=y,C++),p[T]={left:0,top:S,row:C,width:I,height:r},g[g.length-1]+=I+c}),b}_fitCols(t,e,n,r){const{ctx:a,maxHeight:s,options:{labels:{padding:c}}}=this,p=this.legendHitBoxes=[],g=this.columnSizes=[],y=s-t;let b=c,C=0,S=0,A=0,T=0;return this.legendItems.forEach((I,z)=>{const{itemWidth:q,itemHeight:Y}=calculateItemSize(n,e,a,I,r);z>0&&S+Y+2*c>y&&(b+=C+c,g.push({width:C,height:S}),A+=C+c,T++,C=S=0),p[z]={left:A,top:S,col:T,width:q,height:Y},C=Math.max(C,q),S+=Y+c}),b+=C,g.push({width:C,height:S}),b}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:r},rtl:a}}=this,s=getRtlAdapter(a,this.left,this.width);if(this.isHorizontal()){let c=0,p=_alignStartEnd(n,this.left+r,this.right-this.lineWidths[c]);for(const g of e)c!==g.row&&(c=g.row,p=_alignStartEnd(n,this.left+r,this.right-this.lineWidths[c])),g.top+=this.top+t+r,g.left=s.leftForLtr(s.x(p),g.width),p+=g.width+r}else{let c=0,p=_alignStartEnd(n,this.top+t+r,this.bottom-this.columnSizes[c].height);for(const g of e)g.col!==c&&(c=g.col,p=_alignStartEnd(n,this.top+t+r,this.bottom-this.columnSizes[c].height)),g.top=p,g.left+=this.left+r,g.left=s.leftForLtr(s.x(g.left),g.width),p+=g.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;clipArea(t,this),this._draw(),unclipArea(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:r}=this,{align:a,labels:s}=t,c=defaults$1.color,p=getRtlAdapter(t.rtl,this.left,this.width),g=toFont(s.font),{padding:y}=s,b=g.size,C=b/2;let S;this.drawTitle(),r.textAlign=p.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=g.string;const{boxWidth:A,boxHeight:T,itemHeight:I}=getBoxSize(s,b),z=function(ht,et,ot){if(isNaN(A)||A<=0||isNaN(T)||T<0)return;r.save();const vt=valueOrDefault(ot.lineWidth,1);if(r.fillStyle=valueOrDefault(ot.fillStyle,c),r.lineCap=valueOrDefault(ot.lineCap,"butt"),r.lineDashOffset=valueOrDefault(ot.lineDashOffset,0),r.lineJoin=valueOrDefault(ot.lineJoin,"miter"),r.lineWidth=vt,r.strokeStyle=valueOrDefault(ot.strokeStyle,c),r.setLineDash(valueOrDefault(ot.lineDash,[])),s.usePointStyle){const wt={radius:T*Math.SQRT2/2,pointStyle:ot.pointStyle,rotation:ot.rotation,borderWidth:vt},_t=p.xPlus(ht,A/2),St=et+C;drawPointLegend(r,wt,_t,St,s.pointStyleWidth&&A)}else{const wt=et+Math.max((b-T)/2,0),_t=p.leftForLtr(ht,A),St=toTRBLCorners(ot.borderRadius);r.beginPath(),Object.values(St).some(zt=>zt!==0)?addRoundedRectPath(r,{x:_t,y:wt,w:A,h:T,radius:St}):r.rect(_t,wt,A,T),r.fill(),vt!==0&&r.stroke()}r.restore()},q=function(ht,et,ot){renderText(r,ot.text,ht,et+I/2,g,{strikethrough:ot.hidden,textAlign:p.textAlign(ot.textAlign)})},Y=this.isHorizontal(),at=this._computeTitleHeight();Y?S={x:_alignStartEnd(a,this.left+y,this.right-n[0]),y:this.top+y+at,line:0}:S={x:this.left+y,y:_alignStartEnd(a,this.top+at+y,this.bottom-e[0].height),line:0},overrideTextDirection(this.ctx,t.textDirection);const G=I+y;this.legendItems.forEach((ht,et)=>{r.strokeStyle=ht.fontColor,r.fillStyle=ht.fontColor;const ot=r.measureText(ht.text).width,vt=p.textAlign(ht.textAlign||(ht.textAlign=s.textAlign)),wt=A+C+ot;let _t=S.x,St=S.y;p.setWidth(this.width),Y?et>0&&_t+wt+y>this.right&&(St=S.y+=G,S.line++,_t=S.x=_alignStartEnd(a,this.left+y,this.right-n[S.line])):et>0&&St+G>this.bottom&&(_t=S.x=_t+e[S.line].width+y,S.line++,St=S.y=_alignStartEnd(a,this.top+at+y,this.bottom-e[S.line].height));const zt=p.x(_t);if(z(zt,St,ht),_t=_textX(vt,_t+A+C,Y?_t+wt:this.right,t.rtl),q(p.x(_t),St,ht),Y)S.x+=wt+y;else if(typeof ht.text!="string"){const bt=g.lineHeight;S.y+=calculateLegendItemHeight(ht,bt)+y}else S.y+=G}),restoreTextDirection(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=toFont(e.font),r=toPadding(e.padding);if(!e.display)return;const a=getRtlAdapter(t.rtl,this.left,this.width),s=this.ctx,c=e.position,p=n.size/2,g=r.top+p;let y,b=this.left,C=this.width;if(this.isHorizontal())C=Math.max(...this.lineWidths),y=this.top+g,b=_alignStartEnd(t.align,b,this.right-C);else{const A=this.columnSizes.reduce((T,I)=>Math.max(T,I.height),0);y=g+_alignStartEnd(t.align,this.top,this.bottom-A-t.labels.padding-this._computeTitleHeight())}const S=_alignStartEnd(c,b,b+C);s.textAlign=a.textAlign(_toLeftRightCenter(c)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=n.string,renderText(s,e.text,S,y,n)}_computeTitleHeight(){const t=this.options.title,e=toFont(t.font),n=toPadding(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,r,a;if(_isBetween(t,this.left,this.right)&&_isBetween(e,this.top,this.bottom)){for(a=this.legendHitBoxes,n=0;n<a.length;++n)if(r=a[n],_isBetween(t,r.left,r.left+r.width)&&_isBetween(e,r.top,r.top+r.height))return this.legendItems[n]}return null}handleEvent(t){const e=this.options;if(!isListened(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,a=itemsEqual(r,n);r&&!a&&callback(e.onLeave,[t,r,this],this),this._hoveredItem=n,n&&!a&&callback(e.onHover,[t,n,this],this)}else n&&callback(e.onClick,[t,n,this],this)}}function calculateItemSize(i,t,e,n,r){const a=calculateItemWidth(n,i,t,e),s=calculateItemHeight(r,n,t.lineHeight);return{itemWidth:a,itemHeight:s}}function calculateItemWidth(i,t,e,n){let r=i.text;return r&&typeof r!="string"&&(r=r.reduce((a,s)=>a.length>s.length?a:s)),t+e.size/2+n.measureText(r).width}function calculateItemHeight(i,t,e){let n=i;return typeof t.text!="string"&&(n=calculateLegendItemHeight(t,e)),n}function calculateLegendItemHeight(i,t){const e=i.text?i.text.length:0;return t*e}function isListened(i,t){return!!((i==="mousemove"||i==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(i==="click"||i==="mouseup"))}var plugin_legend={id:"legend",_element:Legend,start(i,t,e){const n=i.legend=new Legend({ctx:i.ctx,options:e,chart:i});layouts.configure(i,n,e),layouts.addBox(i,n)},stop(i){layouts.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,t,e){const n=i.legend;layouts.configure(i,n,e),n.options=e},afterUpdate(i){const t=i.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(i,t){t.replay||i.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,t,e){const n=t.datasetIndex,r=e.chart;r.isDatasetVisible(n)?(r.hide(n),t.hidden=!0):(r.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){const t=i.data.datasets,{labels:{usePointStyle:e,pointStyle:n,textAlign:r,color:a,useBorderRadius:s,borderRadius:c}}=i.legend.options;return i._getSortedDatasetMetas().map(p=>{const g=p.controller.getStyle(e?0:void 0),y=toPadding(g.borderWidth);return{text:t[p.index].label,fillStyle:g.backgroundColor,fontColor:a,hidden:!p.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:g.borderColor,pointStyle:n||g.pointStyle,rotation:g.rotation,textAlign:r||g.textAlign,borderRadius:s&&(c||g.borderRadius),datasetIndex:p.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}};class Title extends Element$1{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=isArray(n.text)?n.text.length:1;this._padding=toPadding(n.padding);const a=r*toFont(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:n,bottom:r,right:a,options:s}=this,c=s.align;let p=0,g,y,b;return this.isHorizontal()?(y=_alignStartEnd(c,n,a),b=e+t,g=a-n):(s.position==="left"?(y=n+t,b=_alignStartEnd(c,r,e),p=PI*-.5):(y=a-t,b=_alignStartEnd(c,e,r),p=PI*.5),g=r-e),{titleX:y,titleY:b,maxWidth:g,rotation:p}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=toFont(e.font),a=n.lineHeight/2+this._padding.top,{titleX:s,titleY:c,maxWidth:p,rotation:g}=this._drawArgs(a);renderText(t,e.text,0,0,n,{color:e.color,maxWidth:p,rotation:g,textAlign:_toLeftRightCenter(e.align),textBaseline:"middle",translation:[s,c]})}}function createTitle(i,t){const e=new Title({ctx:i.ctx,options:t,chart:i});layouts.configure(i,e,t),layouts.addBox(i,e),i.titleBlock=e}var plugin_title={id:"title",_element:Title,start(i,t,e){createTitle(i,e)},stop(i){const t=i.titleBlock;layouts.removeBox(i,t),delete i.titleBlock},beforeUpdate(i,t,e){const n=i.titleBlock;layouts.configure(i,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const positioners$1={average(i){if(!i.length)return!1;let t,e,n=new Set,r=0,a=0;for(t=0,e=i.length;t<e;++t){const c=i[t].element;if(c&&c.hasValue()){const p=c.tooltipPosition();n.add(p.x),r+=p.y,++a}}return{x:[...n].reduce((c,p)=>c+p)/n.size,y:r/a}},nearest(i,t){if(!i.length)return!1;let e=t.x,n=t.y,r=Number.POSITIVE_INFINITY,a,s,c;for(a=0,s=i.length;a<s;++a){const p=i[a].element;if(p&&p.hasValue()){const g=p.getCenterPoint(),y=distanceBetweenPoints(t,g);y<r&&(r=y,c=p)}}if(c){const p=c.tooltipPosition();e=p.x,n=p.y}return{x:e,y:n}}};function pushOrConcat(i,t){return t&&(isArray(t)?Array.prototype.push.apply(i,t):i.push(t)),i}function splitNewlines(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function createTooltipItem(i,t){const{element:e,datasetIndex:n,index:r}=t,a=i.getDatasetMeta(n).controller,{label:s,value:c}=a.getLabelAndValue(r);return{chart:i,label:s,parsed:a.getParsed(r),raw:i.data.datasets[n].data[r],formattedValue:c,dataset:a.getDataset(),dataIndex:r,datasetIndex:n,element:e}}function getTooltipSize(i,t){const e=i.chart.ctx,{body:n,footer:r,title:a}=i,{boxWidth:s,boxHeight:c}=t,p=toFont(t.bodyFont),g=toFont(t.titleFont),y=toFont(t.footerFont),b=a.length,C=r.length,S=n.length,A=toPadding(t.padding);let T=A.height,I=0,z=n.reduce((at,G)=>at+G.before.length+G.lines.length+G.after.length,0);if(z+=i.beforeBody.length+i.afterBody.length,b&&(T+=b*g.lineHeight+(b-1)*t.titleSpacing+t.titleMarginBottom),z){const at=t.displayColors?Math.max(c,p.lineHeight):p.lineHeight;T+=S*at+(z-S)*p.lineHeight+(z-1)*t.bodySpacing}C&&(T+=t.footerMarginTop+C*y.lineHeight+(C-1)*t.footerSpacing);let q=0;const Y=function(at){I=Math.max(I,e.measureText(at).width+q)};return e.save(),e.font=g.string,each(i.title,Y),e.font=p.string,each(i.beforeBody.concat(i.afterBody),Y),q=t.displayColors?s+2+t.boxPadding:0,each(n,at=>{each(at.before,Y),each(at.lines,Y),each(at.after,Y)}),q=0,e.font=y.string,each(i.footer,Y),e.restore(),I+=A.width,{width:I,height:T}}function determineYAlign(i,t){const{y:e,height:n}=t;return e<n/2?"top":e>i.height-n/2?"bottom":"center"}function doesNotFitWithAlign(i,t,e,n){const{x:r,width:a}=n,s=e.caretSize+e.caretPadding;if(i==="left"&&r+a+s>t.width||i==="right"&&r-a-s<0)return!0}function determineXAlign(i,t,e,n){const{x:r,width:a}=e,{width:s,chartArea:{left:c,right:p}}=i;let g="center";return n==="center"?g=r<=(c+p)/2?"left":"right":r<=a/2?g="left":r>=s-a/2&&(g="right"),doesNotFitWithAlign(g,i,t,e)&&(g="center"),g}function determineAlignment(i,t,e){const n=e.yAlign||t.yAlign||determineYAlign(i,e);return{xAlign:e.xAlign||t.xAlign||determineXAlign(i,t,e,n),yAlign:n}}function alignX(i,t){let{x:e,width:n}=i;return t==="right"?e-=n:t==="center"&&(e-=n/2),e}function alignY(i,t,e){let{y:n,height:r}=i;return t==="top"?n+=e:t==="bottom"?n-=r+e:n-=r/2,n}function getBackgroundPoint(i,t,e,n){const{caretSize:r,caretPadding:a,cornerRadius:s}=i,{xAlign:c,yAlign:p}=e,g=r+a,{topLeft:y,topRight:b,bottomLeft:C,bottomRight:S}=toTRBLCorners(s);let A=alignX(t,c);const T=alignY(t,p,g);return p==="center"?c==="left"?A+=g:c==="right"&&(A-=g):c==="left"?A-=Math.max(y,C)+r:c==="right"&&(A+=Math.max(b,S)+r),{x:_limitValue(A,0,n.width-t.width),y:_limitValue(T,0,n.height-t.height)}}function getAlignedX(i,t,e){const n=toPadding(e.padding);return t==="center"?i.x+i.width/2:t==="right"?i.x+i.width-n.right:i.x+n.left}function getBeforeAfterBodyLines(i){return pushOrConcat([],splitNewlines(i))}function createTooltipContext(i,t,e){return createContext(i,{tooltip:t,tooltipItems:e,type:"tooltip"})}function overrideCallbacks(i,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?i.override(e):i}const defaultCallbacks={beforeTitle:noop,title(i){if(i.length>0){const t=i[0],e=t.chart.data.labels,n=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return e[t.dataIndex]}return""},afterTitle:noop,beforeBody:noop,beforeLabel:noop,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let t=i.dataset.label||"";t&&(t+=": ");const e=i.formattedValue;return isNullOrUndef(e)||(t+=e),t},labelColor(i){const e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){const e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:noop,afterBody:noop,beforeFooter:noop,footer:noop,afterFooter:noop};function invokeCallbackWithFallback(i,t,e,n){const r=i[t].call(e,n);return typeof r=="undefined"?defaultCallbacks[t].call(e,n):r}class Tooltip extends Element$1{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&e.options.animation&&n.animations,a=new Animations(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=createTooltipContext(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:n}=e,r=invokeCallbackWithFallback(n,"beforeTitle",this,t),a=invokeCallbackWithFallback(n,"title",this,t),s=invokeCallbackWithFallback(n,"afterTitle",this,t);let c=[];return c=pushOrConcat(c,splitNewlines(r)),c=pushOrConcat(c,splitNewlines(a)),c=pushOrConcat(c,splitNewlines(s)),c}getBeforeBody(t,e){return getBeforeAfterBodyLines(invokeCallbackWithFallback(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:n}=e,r=[];return each(t,a=>{const s={before:[],lines:[],after:[]},c=overrideCallbacks(n,a);pushOrConcat(s.before,splitNewlines(invokeCallbackWithFallback(c,"beforeLabel",this,a))),pushOrConcat(s.lines,invokeCallbackWithFallback(c,"label",this,a)),pushOrConcat(s.after,splitNewlines(invokeCallbackWithFallback(c,"afterLabel",this,a))),r.push(s)}),r}getAfterBody(t,e){return getBeforeAfterBodyLines(invokeCallbackWithFallback(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:n}=e,r=invokeCallbackWithFallback(n,"beforeFooter",this,t),a=invokeCallbackWithFallback(n,"footer",this,t),s=invokeCallbackWithFallback(n,"afterFooter",this,t);let c=[];return c=pushOrConcat(c,splitNewlines(r)),c=pushOrConcat(c,splitNewlines(a)),c=pushOrConcat(c,splitNewlines(s)),c}_createItems(t){const e=this._active,n=this.chart.data,r=[],a=[],s=[];let c=[],p,g;for(p=0,g=e.length;p<g;++p)c.push(createTooltipItem(this.chart,e[p]));return t.filter&&(c=c.filter((y,b,C)=>t.filter(y,b,C,n))),t.itemSort&&(c=c.sort((y,b)=>t.itemSort(y,b,n))),each(c,y=>{const b=overrideCallbacks(t.callbacks,y);r.push(invokeCallbackWithFallback(b,"labelColor",this,y)),a.push(invokeCallbackWithFallback(b,"labelPointStyle",this,y)),s.push(invokeCallbackWithFallback(b,"labelTextColor",this,y))}),this.labelColors=r,this.labelPointStyles=a,this.labelTextColors=s,this.dataPoints=c,c}update(t,e){const n=this.options.setContext(this.getContext()),r=this._active;let a,s=[];if(!r.length)this.opacity!==0&&(a={opacity:0});else{const c=positioners$1[n.position].call(this,r,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const p=this._size=getTooltipSize(this,n),g=Object.assign({},c,p),y=determineAlignment(this.chart,n,g),b=getBackgroundPoint(n,g,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,a={opacity:1,x:b.x,y:b.y,width:p.width,height:p.height,caretX:c.x,caretY:c.y}}this._tooltipItems=s,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,r){const a=this.getCaretPosition(t,n,r);e.lineTo(a.x1,a.y1),e.lineTo(a.x2,a.y2),e.lineTo(a.x3,a.y3)}getCaretPosition(t,e,n){const{xAlign:r,yAlign:a}=this,{caretSize:s,cornerRadius:c}=n,{topLeft:p,topRight:g,bottomLeft:y,bottomRight:b}=toTRBLCorners(c),{x:C,y:S}=t,{width:A,height:T}=e;let I,z,q,Y,at,G;return a==="center"?(at=S+T/2,r==="left"?(I=C,z=I-s,Y=at+s,G=at-s):(I=C+A,z=I+s,Y=at-s,G=at+s),q=I):(r==="left"?z=C+Math.max(p,y)+s:r==="right"?z=C+A-Math.max(g,b)-s:z=this.caretX,a==="top"?(Y=S,at=Y-s,I=z-s,q=z+s):(Y=S+T,at=Y+s,I=z+s,q=z-s),G=Y),{x1:I,x2:z,x3:q,y1:Y,y2:at,y3:G}}drawTitle(t,e,n){const r=this.title,a=r.length;let s,c,p;if(a){const g=getRtlAdapter(n.rtl,this.x,this.width);for(t.x=getAlignedX(this,n.titleAlign,n),e.textAlign=g.textAlign(n.titleAlign),e.textBaseline="middle",s=toFont(n.titleFont),c=n.titleSpacing,e.fillStyle=n.titleColor,e.font=s.string,p=0;p<a;++p)e.fillText(r[p],g.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+c,p+1===a&&(t.y+=n.titleMarginBottom-c)}}_drawColorBox(t,e,n,r,a){const s=this.labelColors[n],c=this.labelPointStyles[n],{boxHeight:p,boxWidth:g}=a,y=toFont(a.bodyFont),b=getAlignedX(this,"left",a),C=r.x(b),S=p<y.lineHeight?(y.lineHeight-p)/2:0,A=e.y+S;if(a.usePointStyle){const T={radius:Math.min(g,p)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},I=r.leftForLtr(C,g)+g/2,z=A+p/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,drawPoint(t,T,I,z),t.strokeStyle=s.borderColor,t.fillStyle=s.backgroundColor,drawPoint(t,T,I,z)}else{t.lineWidth=isObject(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,t.strokeStyle=s.borderColor,t.setLineDash(s.borderDash||[]),t.lineDashOffset=s.borderDashOffset||0;const T=r.leftForLtr(C,g),I=r.leftForLtr(r.xPlus(C,1),g-2),z=toTRBLCorners(s.borderRadius);Object.values(z).some(q=>q!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,addRoundedRectPath(t,{x:T,y:A,w:g,h:p,radius:z}),t.fill(),t.stroke(),t.fillStyle=s.backgroundColor,t.beginPath(),addRoundedRectPath(t,{x:I,y:A+1,w:g-2,h:p-2,radius:z}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(T,A,g,p),t.strokeRect(T,A,g,p),t.fillStyle=s.backgroundColor,t.fillRect(I,A+1,g-2,p-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:r}=this,{bodySpacing:a,bodyAlign:s,displayColors:c,boxHeight:p,boxWidth:g,boxPadding:y}=n,b=toFont(n.bodyFont);let C=b.lineHeight,S=0;const A=getRtlAdapter(n.rtl,this.x,this.width),T=function(ot){e.fillText(ot,A.x(t.x+S),t.y+C/2),t.y+=C+a},I=A.textAlign(s);let z,q,Y,at,G,ht,et;for(e.textAlign=s,e.textBaseline="middle",e.font=b.string,t.x=getAlignedX(this,I,n),e.fillStyle=n.bodyColor,each(this.beforeBody,T),S=c&&I!=="right"?s==="center"?g/2+y:g+2+y:0,at=0,ht=r.length;at<ht;++at){for(z=r[at],q=this.labelTextColors[at],e.fillStyle=q,each(z.before,T),Y=z.lines,c&&Y.length&&(this._drawColorBox(e,t,at,A,n),C=Math.max(b.lineHeight,p)),G=0,et=Y.length;G<et;++G)T(Y[G]),C=b.lineHeight;each(z.after,T)}S=0,C=b.lineHeight,each(this.afterBody,T),t.y-=a}drawFooter(t,e,n){const r=this.footer,a=r.length;let s,c;if(a){const p=getRtlAdapter(n.rtl,this.x,this.width);for(t.x=getAlignedX(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=p.textAlign(n.footerAlign),e.textBaseline="middle",s=toFont(n.footerFont),e.fillStyle=n.footerColor,e.font=s.string,c=0;c<a;++c)e.fillText(r[c],p.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+n.footerSpacing}}drawBackground(t,e,n,r){const{xAlign:a,yAlign:s}=this,{x:c,y:p}=t,{width:g,height:y}=n,{topLeft:b,topRight:C,bottomLeft:S,bottomRight:A}=toTRBLCorners(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(c+b,p),s==="top"&&this.drawCaret(t,e,n,r),e.lineTo(c+g-C,p),e.quadraticCurveTo(c+g,p,c+g,p+C),s==="center"&&a==="right"&&this.drawCaret(t,e,n,r),e.lineTo(c+g,p+y-A),e.quadraticCurveTo(c+g,p+y,c+g-A,p+y),s==="bottom"&&this.drawCaret(t,e,n,r),e.lineTo(c+S,p+y),e.quadraticCurveTo(c,p+y,c,p+y-S),s==="center"&&a==="left"&&this.drawCaret(t,e,n,r),e.lineTo(c,p+b),e.quadraticCurveTo(c,p,c+b,p),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,r=n&&n.x,a=n&&n.y;if(r||a){const s=positioners$1[t.position].call(this,this._active,this._eventPosition);if(!s)return;const c=this._size=getTooltipSize(this,t),p=Object.assign({},s,this._size),g=determineAlignment(e,t,p),y=getBackgroundPoint(t,p,g,e);(r._to!==y.x||a._to!==y.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=c.width,this.height=c.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},a={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=toPadding(e.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&c&&(t.save(),t.globalAlpha=n,this.drawBackground(a,t,r,e),overrideTextDirection(t,e.textDirection),a.y+=s.top,this.drawTitle(a,t,e),this.drawBody(a,t,e),this.drawFooter(a,t,e),restoreTextDirection(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,r=t.map(({datasetIndex:c,index:p})=>{const g=this.chart.getDatasetMeta(c);if(!g)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:g.data[p],index:p}}),a=!_elementsEqual(n,r),s=this._positionChanged(r,e);(a||s)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,n=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,a=this._active||[],s=this._getActiveElements(t,a,e,n),c=this._positionChanged(s,t),p=e||!_elementsEqual(s,a)||c;return p&&(this._active=s,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),p}_getActiveElements(t,e,n,r){const a=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const s=this.chart.getElementsAtEventForMode(t,a.mode,a,n);return a.reverse&&s.reverse(),s}_positionChanged(t,e){const{caretX:n,caretY:r,options:a}=this,s=positioners$1[a.position].call(this,t,e);return s!==!1&&(n!==s.x||r!==s.y)}}yt(Tooltip,"positioners",positioners$1);var plugin_tooltip={id:"tooltip",_element:Tooltip,positioners:positioners$1,afterInit(i,t,e){e&&(i.tooltip=new Tooltip({chart:i,options:e}))},beforeUpdate(i,t,e){i.tooltip&&i.tooltip.initialize(e)},reset(i,t,e){i.tooltip&&i.tooltip.initialize(e)},afterDraw(i){const t=i.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(i.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",e)}},afterEvent(i,t){if(i.tooltip){const e=t.replay;i.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,t)=>t.bodyFont.size,boxWidth:(i,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:defaultCallbacks},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const addIfString=(i,t,e,n)=>(typeof t=="string"?(e=i.push(t)-1,n.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function findOrAddLabel(i,t,e,n){const r=i.indexOf(t);if(r===-1)return addIfString(i,t,e,n);const a=i.lastIndexOf(t);return r!==a?e:r}const validIndex=(i,t)=>i===null?null:_limitValue(Math.round(i),0,t);function _getLabelForValue(i){const t=this.getLabels();return i>=0&&i<t.length?t[i]:i}class CategoryScale extends Scale{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const n=this.getLabels();for(const{index:r,label:a}of e)n[r]===a&&n.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(isNullOrUndef(t))return null;const n=this.getLabels();return e=isFinite(e)&&n[e]===t?e:findOrAddLabel(n,t,valueOrDefault(e,t),this._addedLabels),validIndex(e,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),e||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,r=[];let a=this.getLabels();a=t===0&&e===a.length-1?a:a.slice(t,e+1),this._valueRange=Math.max(a.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=t;s<=e;s++)r.push({value:s});return r}getLabelForValue(t){return _getLabelForValue.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}yt(CategoryScale,"id","category"),yt(CategoryScale,"defaults",{ticks:{callback:_getLabelForValue}});function generateTicks$1(i,t){const e=[],{bounds:r,step:a,min:s,max:c,precision:p,count:g,maxTicks:y,maxDigits:b,includeBounds:C}=i,S=a||1,A=y-1,{min:T,max:I}=t,z=!isNullOrUndef(s),q=!isNullOrUndef(c),Y=!isNullOrUndef(g),at=(I-T)/(b+1);let G=niceNum((I-T)/A/S)*S,ht,et,ot,vt;if(G<1e-14&&!z&&!q)return[{value:T},{value:I}];vt=Math.ceil(I/G)-Math.floor(T/G),vt>A&&(G=niceNum(vt*G/A/S)*S),isNullOrUndef(p)||(ht=Math.pow(10,p),G=Math.ceil(G*ht)/ht),r==="ticks"?(et=Math.floor(T/G)*G,ot=Math.ceil(I/G)*G):(et=T,ot=I),z&&q&&a&&almostWhole((c-s)/a,G/1e3)?(vt=Math.round(Math.min((c-s)/G,y)),G=(c-s)/vt,et=s,ot=c):Y?(et=z?s:et,ot=q?c:ot,vt=g-1,G=(ot-et)/vt):(vt=(ot-et)/G,almostEquals(vt,Math.round(vt),G/1e3)?vt=Math.round(vt):vt=Math.ceil(vt));const wt=Math.max(_decimalPlaces(G),_decimalPlaces(et));ht=Math.pow(10,isNullOrUndef(p)?wt:p),et=Math.round(et*ht)/ht,ot=Math.round(ot*ht)/ht;let _t=0;for(z&&(C&&et!==s?(e.push({value:s}),et<s&&_t++,almostEquals(Math.round((et+_t*G)*ht)/ht,s,relativeLabelSize(s,at,i))&&_t++):et<s&&_t++);_t<vt;++_t){const St=Math.round((et+_t*G)*ht)/ht;if(q&&St>c)break;e.push({value:St})}return q&&C&&ot!==c?e.length&&almostEquals(e[e.length-1].value,c,relativeLabelSize(c,at,i))?e[e.length-1].value=c:e.push({value:c}):(!q||ot===c)&&e.push({value:ot}),e}function relativeLabelSize(i,t,{horizontal:e,minRotation:n}){const r=toRadians(n),a=(e?Math.sin(r):Math.cos(r))||.001,s=.75*t*(""+i).length;return Math.min(t/a,s)}class LinearScaleBase extends Scale{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return isNullOrUndef(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:a}=this;const s=p=>r=e?r:p,c=p=>a=n?a:p;if(t){const p=sign(r),g=sign(a);p<0&&g<0?c(0):p>0&&g>0&&s(0)}if(r===a){let p=a===0?1:Math.abs(a*.05);c(a+p),t||s(r-p)}this.min=r,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:n}=t,r;return n?(r=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},a=this._range||this,s=generateTicks$1(r,a);return t.bounds==="ticks"&&_setMinAndMaxByKey(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const r=(n-e)/Math.max(t.length-1,1)/2;e-=r,n+=r}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return formatNumber(t,this.chart.options.locale,this.options.ticks.format)}}class LinearScale extends LinearScaleBase{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=isNumberFinite(t)?t:0,this.max=isNumberFinite(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=toRadians(this.options.ticks.minRotation),r=(t?Math.sin(n):Math.cos(n))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,a.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}yt(LinearScale,"id","linear"),yt(LinearScale,"defaults",{ticks:{callback:Ticks.formatters.numeric}});function getTickBackdropHeight(i){const t=i.ticks;if(t.display&&i.display){const e=toPadding(t.backdropPadding);return valueOrDefault(t.font&&t.font.size,defaults$1.font.size)+e.height}return 0}function measureLabelSize(i,t,e){return e=isArray(e)?e:[e],{w:_longestText(i,t.string,e),h:e.length*t.lineHeight}}function determineLimits(i,t,e,n,r){return i===n||i===r?{start:t-e/2,end:t+e/2}:i<n||i>r?{start:t-e,end:t}:{start:t,end:t+e}}function fitWithPointLabels(i){const t={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},e=Object.assign({},t),n=[],r=[],a=i._pointLabels.length,s=i.options.pointLabels,c=s.centerPointLabels?PI/a:0;for(let p=0;p<a;p++){const g=s.setContext(i.getPointLabelContext(p));r[p]=g.padding;const y=i.getPointPosition(p,i.drawingArea+r[p],c),b=toFont(g.font),C=measureLabelSize(i.ctx,b,i._pointLabels[p]);n[p]=C;const S=_normalizeAngle(i.getIndexAngle(p)+c),A=Math.round(toDegrees(S)),T=determineLimits(A,y.x,C.w,0,180),I=determineLimits(A,y.y,C.h,90,270);updateLimits(e,t,S,T,I)}i.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),i._pointLabelItems=buildPointLabelItems(i,n,r)}function updateLimits(i,t,e,n,r){const a=Math.abs(Math.sin(e)),s=Math.abs(Math.cos(e));let c=0,p=0;n.start<t.l?(c=(t.l-n.start)/a,i.l=Math.min(i.l,t.l-c)):n.end>t.r&&(c=(n.end-t.r)/a,i.r=Math.max(i.r,t.r+c)),r.start<t.t?(p=(t.t-r.start)/s,i.t=Math.min(i.t,t.t-p)):r.end>t.b&&(p=(r.end-t.b)/s,i.b=Math.max(i.b,t.b+p))}function createPointLabelItem(i,t,e){const n=i.drawingArea,{extra:r,additionalAngle:a,padding:s,size:c}=e,p=i.getPointPosition(t,n+r+s,a),g=Math.round(toDegrees(_normalizeAngle(p.angle+HALF_PI))),y=yForAngle(p.y,c.h,g),b=getTextAlignForAngle(g),C=leftForTextAlign(p.x,c.w,b);return{visible:!0,x:p.x,y,textAlign:b,left:C,top:y,right:C+c.w,bottom:y+c.h}}function isNotOverlapped(i,t){if(!t)return!0;const{left:e,top:n,right:r,bottom:a}=i;return!(_isPointInArea({x:e,y:n},t)||_isPointInArea({x:e,y:a},t)||_isPointInArea({x:r,y:n},t)||_isPointInArea({x:r,y:a},t))}function buildPointLabelItems(i,t,e){const n=[],r=i._pointLabels.length,a=i.options,{centerPointLabels:s,display:c}=a.pointLabels,p={extra:getTickBackdropHeight(a)/2,additionalAngle:s?PI/r:0};let g;for(let y=0;y<r;y++){p.padding=e[y],p.size=t[y];const b=createPointLabelItem(i,y,p);n.push(b),c==="auto"&&(b.visible=isNotOverlapped(b,g),b.visible&&(g=b))}return n}function getTextAlignForAngle(i){return i===0||i===180?"center":i<180?"left":"right"}function leftForTextAlign(i,t,e){return e==="right"?i-=t:e==="center"&&(i-=t/2),i}function yForAngle(i,t,e){return e===90||e===270?i-=t/2:(e>270||e<90)&&(i-=t),i}function drawPointLabelBox(i,t,e){const{left:n,top:r,right:a,bottom:s}=e,{backdropColor:c}=t;if(!isNullOrUndef(c)){const p=toTRBLCorners(t.borderRadius),g=toPadding(t.backdropPadding);i.fillStyle=c;const y=n-g.left,b=r-g.top,C=a-n+g.width,S=s-r+g.height;Object.values(p).some(A=>A!==0)?(i.beginPath(),addRoundedRectPath(i,{x:y,y:b,w:C,h:S,radius:p}),i.fill()):i.fillRect(y,b,C,S)}}function drawPointLabels(i,t){const{ctx:e,options:{pointLabels:n}}=i;for(let r=t-1;r>=0;r--){const a=i._pointLabelItems[r];if(!a.visible)continue;const s=n.setContext(i.getPointLabelContext(r));drawPointLabelBox(e,s,a);const c=toFont(s.font),{x:p,y:g,textAlign:y}=a;renderText(e,i._pointLabels[r],p,g+c.lineHeight/2,c,{color:s.color,textAlign:y,textBaseline:"middle"})}}function pathRadiusLine(i,t,e,n){const{ctx:r}=i;if(e)r.arc(i.xCenter,i.yCenter,t,0,TAU);else{let a=i.getPointPosition(0,t);r.moveTo(a.x,a.y);for(let s=1;s<n;s++)a=i.getPointPosition(s,t),r.lineTo(a.x,a.y)}}function drawRadiusLine(i,t,e,n,r){const a=i.ctx,s=t.circular,{color:c,lineWidth:p}=t;!s&&!n||!c||!p||e<0||(a.save(),a.strokeStyle=c,a.lineWidth=p,a.setLineDash(r.dash),a.lineDashOffset=r.dashOffset,a.beginPath(),pathRadiusLine(i,e,s,n),a.closePath(),a.stroke(),a.restore())}function createPointLabelContext(i,t,e){return createContext(i,{label:e,index:t,type:"pointLabel"})}class RadialLinearScale extends LinearScaleBase{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=toPadding(getTickBackdropHeight(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=isNumberFinite(t)&&!isNaN(t)?t:0,this.max=isNumberFinite(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/getTickBackdropHeight(this.options))}generateTickLabels(t){LinearScaleBase.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,n)=>{const r=callback(this.options.pointLabels.callback,[e,n],this);return r||r===0?r:""}).filter((e,n)=>this.chart.getDataVisibility(n))}fit(){const t=this.options;t.display&&t.pointLabels.display?fitWithPointLabels(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,r))}getIndexAngle(t){const e=TAU/(this._pointLabels.length||1),n=this.options.startAngle||0;return _normalizeAngle(t*e+toRadians(n))}getDistanceFromCenterForValue(t){if(isNullOrUndef(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(isNullOrUndef(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const n=e[t];return createPointLabelContext(this.getContext(),t,n)}}getPointPosition(t,e,n=0){const r=this.getIndexAngle(t)-HALF_PI+n;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:r,bottom:a}=this._pointLabelItems[t];return{left:e,top:n,right:r,bottom:a}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),pathRadiusLine(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:n,grid:r,border:a}=e,s=this._pointLabels.length;let c,p,g;if(e.pointLabels.display&&drawPointLabels(this,s),r.display&&this.ticks.forEach((y,b)=>{if(b!==0||b===0&&this.min<0){p=this.getDistanceFromCenterForValue(y.value);const C=this.getContext(b),S=r.setContext(C),A=a.setContext(C);drawRadiusLine(this,S,p,s,A)}}),n.display){for(t.save(),c=s-1;c>=0;c--){const y=n.setContext(this.getPointLabelContext(c)),{color:b,lineWidth:C}=y;!C||!b||(t.lineWidth=C,t.strokeStyle=b,t.setLineDash(y.borderDash),t.lineDashOffset=y.borderDashOffset,p=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),g=this.getPointPosition(c,p),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(g.x,g.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let a,s;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((c,p)=>{if(p===0&&this.min>=0&&!e.reverse)return;const g=n.setContext(this.getContext(p)),y=toFont(g.font);if(a=this.getDistanceFromCenterForValue(this.ticks[p].value),g.showLabelBackdrop){t.font=y.string,s=t.measureText(c.label).width,t.fillStyle=g.backdropColor;const b=toPadding(g.backdropPadding);t.fillRect(-s/2-b.left,-a-y.size/2-b.top,s+b.width,y.size+b.height)}renderText(t,c.label,0,-a,y,{color:g.color,strokeColor:g.textStrokeColor,strokeWidth:g.textStrokeWidth})}),t.restore()}drawTitle(){}}yt(RadialLinearScale,"id","radialLinear"),yt(RadialLinearScale,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ticks.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),yt(RadialLinearScale,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),yt(RadialLinearScale,"descriptors",{angleLines:{_fallback:"grid"}});const INTERVALS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},UNITS=Object.keys(INTERVALS);function sorter(i,t){return i-t}function parse(i,t){if(isNullOrUndef(t))return null;const e=i._adapter,{parser:n,round:r,isoWeekday:a}=i._parseOpts;let s=t;return typeof n=="function"&&(s=n(s)),isNumberFinite(s)||(s=typeof n=="string"?e.parse(s,n):e.parse(s)),s===null?null:(r&&(s=r==="week"&&(isNumber(a)||a===!0)?e.startOf(s,"isoWeek",a):e.startOf(s,r)),+s)}function determineUnitForAutoTicks(i,t,e,n){const r=UNITS.length;for(let a=UNITS.indexOf(i);a<r-1;++a){const s=INTERVALS[UNITS[a]],c=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((e-t)/(c*s.size))<=n)return UNITS[a]}return UNITS[r-1]}function determineUnitForFormatting(i,t,e,n,r){for(let a=UNITS.length-1;a>=UNITS.indexOf(e);a--){const s=UNITS[a];if(INTERVALS[s].common&&i._adapter.diff(r,n,s)>=t-1)return s}return UNITS[e?UNITS.indexOf(e):0]}function determineMajorUnit(i){for(let t=UNITS.indexOf(i)+1,e=UNITS.length;t<e;++t)if(INTERVALS[UNITS[t]].common)return UNITS[t]}function addTick(i,t,e){if(!e)i[t]=!0;else if(e.length){const{lo:n,hi:r}=_lookup(e,t),a=e[n]>=t?e[n]:e[r];i[a]=!0}}function setMajorTicks(i,t,e,n){const r=i._adapter,a=+r.startOf(t[0].value,n),s=t[t.length-1].value;let c,p;for(c=a;c<=s;c=+r.add(c,1,n))p=e[c],p>=0&&(t[p].major=!0);return t}function ticksFromTimestamps(i,t,e){const n=[],r={},a=t.length;let s,c;for(s=0;s<a;++s)c=t[s],r[c]=s,n.push({value:c,major:!1});return a===0||!e?n:setMajorTicks(i,n,r,e)}class TimeScale extends Scale{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const n=t.time||(t.time={}),r=this._adapter=new adapters._date(t.adapters.date);r.init(e),mergeIf(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:parse(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:r,max:a,minDefined:s,maxDefined:c}=this.getUserBounds();function p(g){!s&&!isNaN(g.min)&&(r=Math.min(r,g.min)),!c&&!isNaN(g.max)&&(a=Math.max(a,g.max))}(!s||!c)&&(p(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&p(this.getMinMax(!1))),r=isNumberFinite(r)&&!isNaN(r)?r:+e.startOf(Date.now(),n),a=isNumberFinite(a)&&!isNaN(a)?a:+e.endOf(Date.now(),n)+1,this.min=Math.min(r,a-1),this.max=Math.max(r+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,r=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const a=this.min,s=this.max,c=_filterBetween(r,a,s);return this._unit=e.unit||(n.autoSkip?determineUnitForAutoTicks(e.minUnit,this.min,this.max,this._getLabelCapacity(a)):determineUnitForFormatting(this,c.length,e.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:determineMajorUnit(this._unit),this.initOffsets(r),t.reverse&&c.reverse(),ticksFromTimestamps(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,n=0,r,a;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?n=a:n=(a-this.getDecimalForValue(t[t.length-2]))/2);const s=t.length<3?.5:.25;e=_limitValue(e,0,s),n=_limitValue(n,0,s),this._offsets={start:e,end:n,factor:1/(e+1+n)}}_generate(){const t=this._adapter,e=this.min,n=this.max,r=this.options,a=r.time,s=a.unit||determineUnitForAutoTicks(a.minUnit,e,n,this._getLabelCapacity(e)),c=valueOrDefault(r.ticks.stepSize,1),p=s==="week"?a.isoWeekday:!1,g=isNumber(p)||p===!0,y={};let b=e,C,S;if(g&&(b=+t.startOf(b,"isoWeek",p)),b=+t.startOf(b,g?"day":s),t.diff(n,e,s)>1e5*c)throw new Error(e+" and "+n+" are too far apart with stepSize of "+c+" "+s);const A=r.ticks.source==="data"&&this.getDataTimestamps();for(C=b,S=0;C<n;C=+t.add(C,c,s),S++)addTick(y,C,A);return(C===n||r.bounds==="ticks"||S===1)&&addTick(y,C,A),Object.keys(y).sort(sorter).map(T=>+T)}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,a=this._unit,s=e||r[a];return this._adapter.format(t,s)}_tickFormatFunction(t,e,n,r){const a=this.options,s=a.ticks.callback;if(s)return callback(s,[t,e,n],this);const c=a.time.displayFormats,p=this._unit,g=this._majorUnit,y=p&&c[p],b=g&&c[g],C=n[e],S=g&&b&&C&&C.major;return this._adapter.format(t,r||(S?b:y))}generateTickLabels(t){let e,n,r;for(e=0,n=t.length;e<n;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,r=toRadians(this.isHorizontal()?e.maxRotation:e.minRotation),a=Math.cos(r),s=Math.sin(r),c=this._resolveTickFontOptions(0).size;return{w:n*a+c*s,h:n*s+c*a}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,r=n[e.unit]||n.millisecond,a=this._tickFormatFunction(t,0,ticksFromTimestamps(this,[t],this._majorUnit),r),s=this._getLabelSize(a),c=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return c>0?c:1}getDataTimestamps(){let t=this._cache.data||[],e,n;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,n=r.length;e<n;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const r=this.getLabels();for(e=0,n=r.length;e<n;++e)t.push(parse(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return _arrayUnique(t.sort(sorter))}}yt(TimeScale,"id","time"),yt(TimeScale,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function interpolate(i,t,e){let n=0,r=i.length-1,a,s,c,p;e?(t>=i[n].pos&&t<=i[r].pos&&({lo:n,hi:r}=_lookupByKey(i,"pos",t)),{pos:a,time:c}=i[n],{pos:s,time:p}=i[r]):(t>=i[n].time&&t<=i[r].time&&({lo:n,hi:r}=_lookupByKey(i,"time",t)),{time:a,pos:c}=i[n],{time:s,pos:p}=i[r]);const g=s-a;return g?c+(p-c)*(t-a)/g:c}class TimeSeriesScale extends TimeScale{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=interpolate(e,this.min),this._tableRange=interpolate(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,r=[],a=[];let s,c,p,g,y;for(s=0,c=t.length;s<c;++s)g=t[s],g>=e&&g<=n&&r.push(g);if(r.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(s=0,c=r.length;s<c;++s)y=r[s+1],p=r[s-1],g=r[s],Math.round((y+p)/2)!==g&&a.push({time:g,pos:s/(c-1)});return a}_generate(){const t=this.min,e=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(e)||n.length===1)&&n.push(e),n.sort((r,a)=>r-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return e.length&&n.length?t=this.normalize(e.concat(n)):t=e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(interpolate(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return interpolate(this._table,n*this._tableRange+this._minPos,!0)}}yt(TimeSeriesScale,"id","timeseries"),yt(TimeSeriesScale,"defaults",TimeScale.defaults);const CommonProps={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},A11yProps={ariaLabel:{type:String},ariaDescribedby:{type:String}},Props={type:{type:String,required:!0},...CommonProps,...A11yProps},compatProps=version$2[0]==="2"?(i,t)=>Object.assign(i,{attrs:t}):(i,t)=>Object.assign(i,t);function toRawIfProxy(i){return isProxy(i)?toRaw(i):i}function cloneProxy(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i;return isProxy(t)?new Proxy(i,{}):i}function setOptions(i,t){const e=i.options;e&&t&&Object.assign(e,t)}function setLabels(i,t){i.labels=t}function setDatasets(i,t,e){const n=[];i.datasets=t.map(r=>{const a=i.datasets.find(s=>s[e]===r[e]);return!a||!r.data||n.includes(a)?{...r}:(n.push(a),Object.assign(a,r),a)})}function cloneData(i,t){const e={labels:[],datasets:[]};return setLabels(e,i.labels),setDatasets(e,i.datasets,t),e}const Chart=defineComponent({props:Props,setup(i,t){let{expose:e,slots:n}=t;const r=ref(null),a=shallowRef(null);e({chart:a});const s=()=>{if(!r.value)return;const{type:g,data:y,options:b,plugins:C,datasetIdKey:S}=i,A=cloneData(y,S),T=cloneProxy(A,y);a.value=new Chart$1(r.value,{type:g,data:T,options:{...b},plugins:C})},c=()=>{const g=toRaw(a.value);g&&(g.destroy(),a.value=null)},p=g=>{g.update(i.updateMode)};return onMounted(s),onBeforeUnmount(c),watch([()=>i.options,()=>i.data],(g,y)=>{let[b,C]=g,[S,A]=y;const T=toRaw(a.value);if(!T)return;let I=!1;if(b){const z=toRawIfProxy(b),q=toRawIfProxy(S);z&&z!==q&&(setOptions(T,z),I=!0)}if(C){const z=toRawIfProxy(C.labels),q=toRawIfProxy(A.labels),Y=toRawIfProxy(C.datasets),at=toRawIfProxy(A.datasets);z!==q&&(setLabels(T.config.data,z),I=!0),Y&&Y!==at&&(setDatasets(T.config.data,Y,i.datasetIdKey),I=!0)}I&&nextTick(()=>{p(T)})},{deep:!0}),()=>h("canvas",{role:"img",ariaLabel:i.ariaLabel,ariaDescribedby:i.ariaDescribedby,ref:r},[h("p",{},[n.default?n.default():""])])}});function createTypedChart(i,t){return Chart$1.register(t),defineComponent({props:CommonProps,setup(e,n){let{expose:r}=n;const a=shallowRef(null),s=c=>{a.value=c==null?void 0:c.chart};return r({chart:a}),()=>h(Chart,compatProps({ref:s},{type:i,...e}))}})}const Bar=createTypedChart("bar",BarController),Line=createTypedChart("line",LineController),Pie=createTypedChart("pie",PieController),PolarArea=createTypedChart("polarArea",PolarAreaController);/*!
 * chartjs-adapter-date-fns v3.0.0
 * https://www.chartjs.org
 * (c) 2022 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const FORMATS={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};adapters._date.override({_id:"date-fns",formats:function(){return FORMATS},parse:function(i,t){if(i===null||typeof i=="undefined")return null;const e=typeof i;return e==="number"||i instanceof Date?i=toDate(i):e==="string"&&(typeof t=="string"?i=parse$1(i,t,new Date,this.options):i=parseISO(i,this.options)),isValid(i)?i.getTime():null},format:function(i,t){return format(i,t,this.options)},add:function(i,t,e){switch(e){case"millisecond":return addMilliseconds(i,t);case"second":return addSeconds(i,t);case"minute":return addMinutes(i,t);case"hour":return addHours(i,t);case"day":return addDays(i,t);case"week":return addWeeks(i,t);case"month":return addMonths(i,t);case"quarter":return addQuarters(i,t);case"year":return addYears(i,t);default:return i}},diff:function(i,t,e){switch(e){case"millisecond":return differenceInMilliseconds(i,t);case"second":return differenceInSeconds(i,t);case"minute":return differenceInMinutes(i,t);case"hour":return differenceInHours(i,t);case"day":return differenceInDays(i,t);case"week":return differenceInWeeks(i,t);case"month":return differenceInMonths(i,t);case"quarter":return differenceInQuarters(i,t);case"year":return differenceInYears(i,t);default:return 0}},startOf:function(i,t,e){switch(t){case"second":return startOfSecond(i);case"minute":return startOfMinute(i);case"hour":return startOfHour(i);case"day":return startOfDay(i);case"week":return startOfWeek(i);case"isoWeek":return startOfWeek(i,{weekStartsOn:+e});case"month":return startOfMonth(i);case"quarter":return startOfQuarter(i);case"year":return startOfYear(i);default:return i}},endOf:function(i,t){switch(t){case"second":return endOfSecond(i);case"minute":return endOfMinute(i);case"hour":return endOfHour(i);case"day":return endOfDay(i);case"week":return endOfWeek(i);case"month":return endOfMonth(i);case"quarter":return endOfQuarter(i);case"year":return endOfYear(i);default:return i}}});function datesTwoWeeksBack(){let i=[],t=new Date;for(let e=0;e<14;e++){let n=new Date(t);n.setDate(t.getDate()-e);let r=`${("0"+n.getDate()).slice(-2)}-${("0"+(n.getMonth()+1)).slice(-2)}-${n.getFullYear()}`;i.push(r)}return i.reverse()}const data$2={labels:datesTwoWeeksBack(),datasets:[{label:"Data One",backgroundColor:"#f87979",data:[40,39,10,40,39,80,40,40,39,10,40,39,80,40]}]},options$2={responsive:!0,maintainAspectRatio:!1,plugins:{zoom:{pan:{enabled:!0,mode:"x"},limits:{},zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"x"}},legend:{display:!1},filler:{propagate:!0}}},pieOptions={responsive:!0,maintainAspectRatio:!1,plugins:{datalabels:{display:"auto",anchor:"center",align:"center",offset:4,opacity:.7,formatter:(i,t)=>(t.chart.data.labels[t.dataIndex],`${Intl.NumberFormat("en-US",{minimumFractionDigits:1}).format(i)} Ha`),borderRadius:5,leftborderWidth:2,borderColor:["#b71c1c","#2e7d32","#fff9b4"],color:"#404040",size:"8",backgroundColor:"#fff"},legend:{display:!0,position:"right",labels:{font:{fontColor:"#EEEEEE"},usePointStyle:!0,padding:25}},title:{display:!1,align:"start",text:"Crop Area in Ha",position:"top",color:"#404040"}}};var hammer={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */(function(i){(function(t,e,n,r){var a=["","webkit","Moz","MS","ms","o"],s=e.createElement("div"),c="function",p=Math.round,g=Math.abs,y=Date.now;function b(N,j,Q){return setTimeout(Y(N,Q),j)}function C(N,j,Q){return Array.isArray(N)?(S(N,Q[j],Q),!0):!1}function S(N,j,Q){var ft;if(!!N)if(N.forEach)N.forEach(j,Q);else if(N.length!==r)for(ft=0;ft<N.length;)j.call(Q,N[ft],ft,N),ft++;else for(ft in N)N.hasOwnProperty(ft)&&j.call(Q,N[ft],ft,N)}function A(N,j,Q){var ft="DEPRECATED METHOD: "+j+`
`+Q+` AT 
`;return function(){var kt=new Error("get-stack-trace"),Ot=kt&&kt.stack?kt.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",ne=t.console&&(t.console.warn||t.console.log);return ne&&ne.call(t.console,ft,Ot),N.apply(this,arguments)}}var T;typeof Object.assign!="function"?T=function(j){if(j===r||j===null)throw new TypeError("Cannot convert undefined or null to object");for(var Q=Object(j),ft=1;ft<arguments.length;ft++){var kt=arguments[ft];if(kt!==r&&kt!==null)for(var Ot in kt)kt.hasOwnProperty(Ot)&&(Q[Ot]=kt[Ot])}return Q}:T=Object.assign;var I=A(function(j,Q,ft){for(var kt=Object.keys(Q),Ot=0;Ot<kt.length;)(!ft||ft&&j[kt[Ot]]===r)&&(j[kt[Ot]]=Q[kt[Ot]]),Ot++;return j},"extend","Use `assign`."),z=A(function(j,Q){return I(j,Q,!0)},"merge","Use `assign`.");function q(N,j,Q){var ft=j.prototype,kt;kt=N.prototype=Object.create(ft),kt.constructor=N,kt._super=ft,Q&&T(kt,Q)}function Y(N,j){return function(){return N.apply(j,arguments)}}function at(N,j){return typeof N==c?N.apply(j&&j[0]||r,j):N}function G(N,j){return N===r?j:N}function ht(N,j,Q){S(wt(j),function(ft){N.addEventListener(ft,Q,!1)})}function et(N,j,Q){S(wt(j),function(ft){N.removeEventListener(ft,Q,!1)})}function ot(N,j){for(;N;){if(N==j)return!0;N=N.parentNode}return!1}function vt(N,j){return N.indexOf(j)>-1}function wt(N){return N.trim().split(/\s+/g)}function _t(N,j,Q){if(N.indexOf&&!Q)return N.indexOf(j);for(var ft=0;ft<N.length;){if(Q&&N[ft][Q]==j||!Q&&N[ft]===j)return ft;ft++}return-1}function St(N){return Array.prototype.slice.call(N,0)}function zt(N,j,Q){for(var ft=[],kt=[],Ot=0;Ot<N.length;){var ne=j?N[Ot][j]:N[Ot];_t(kt,ne)<0&&ft.push(N[Ot]),kt[Ot]=ne,Ot++}return Q&&(j?ft=ft.sort(function(Be,Ne){return Be[j]>Ne[j]}):ft=ft.sort()),ft}function bt(N,j){for(var Q,ft,kt=j[0].toUpperCase()+j.slice(1),Ot=0;Ot<a.length;){if(Q=a[Ot],ft=Q?Q+kt:j,ft in N)return ft;Ot++}return r}var Ct=1;function Tt(){return Ct++}function Et(N){var j=N.ownerDocument||N;return j.defaultView||j.parentWindow||t}var Bt=/mobile|tablet|ip(ad|hone|od)|android/i,Qt="ontouchstart"in t,At=bt(t,"PointerEvent")!==r,Xt=Qt&&Bt.test(navigator.userAgent),ie="touch",Wt="pen",$t="mouse",Ut="kinect",Ht=25,re=1,te=2,Ft=4,oe=8,Zt=1,ae=2,ce=4,_e=8,de=16,xe=ae|ce,ve=_e|de,ii=xe|ve,ni=["x","y"],li=["clientX","clientY"];function ze(N,j){var Q=this;this.manager=N,this.callback=j,this.element=N.element,this.target=N.options.inputTarget,this.domHandler=function(ft){at(N.options.enable,[N])&&Q.handler(ft)},this.init()}ze.prototype={handler:function(){},init:function(){this.evEl&&ht(this.element,this.evEl,this.domHandler),this.evTarget&&ht(this.target,this.evTarget,this.domHandler),this.evWin&&ht(Et(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&et(this.element,this.evEl,this.domHandler),this.evTarget&&et(this.target,this.evTarget,this.domHandler),this.evWin&&et(Et(this.element),this.evWin,this.domHandler)}};function fn(N){var j,Q=N.options.inputClass;return Q?j=Q:At?j=In:Xt?j=gn:Qt?j=jt:j=$e,new j(N,pn)}function pn(N,j,Q){var ft=Q.pointers.length,kt=Q.changedPointers.length,Ot=j&re&&ft-kt===0,ne=j&(Ft|oe)&&ft-kt===0;Q.isFirst=!!Ot,Q.isFinal=!!ne,Ot&&(N.session={}),Q.eventType=j,An(N,Q),N.emit("hammer.input",Q),N.recognize(Q),N.session.prevInput=Q}function An(N,j){var Q=N.session,ft=j.pointers,kt=ft.length;Q.firstInput||(Q.firstInput=Ti(j)),kt>1&&!Q.firstMultiple?Q.firstMultiple=Ti(j):kt===1&&(Q.firstMultiple=!1);var Ot=Q.firstInput,ne=Q.firstMultiple,Pe=ne?ne.center:Ot.center,Be=j.center=Ki(ft);j.timeStamp=y(),j.deltaTime=j.timeStamp-Ot.timeStamp,j.angle=ui(Pe,Be),j.distance=Ei(Pe,Be),mn(Q,j),j.offsetDirection=ji(j.deltaX,j.deltaY);var Ne=Xi(j.deltaTime,j.deltaX,j.deltaY);j.overallVelocityX=Ne.x,j.overallVelocityY=Ne.y,j.overallVelocity=g(Ne.x)>g(Ne.y)?Ne.x:Ne.y,j.scale=ne?Yt(ne.pointers,ft):1,j.rotation=ne?Pt(ne.pointers,ft):0,j.maxPointers=Q.prevInput?j.pointers.length>Q.prevInput.maxPointers?j.pointers.length:Q.prevInput.maxPointers:j.pointers.length,Qi(Q,j);var Ge=N.element;ot(j.srcEvent.target,Ge)&&(Ge=j.srcEvent.target),j.target=Ge}function mn(N,j){var Q=j.center,ft=N.offsetDelta||{},kt=N.prevDelta||{},Ot=N.prevInput||{};(j.eventType===re||Ot.eventType===Ft)&&(kt=N.prevDelta={x:Ot.deltaX||0,y:Ot.deltaY||0},ft=N.offsetDelta={x:Q.x,y:Q.y}),j.deltaX=kt.x+(Q.x-ft.x),j.deltaY=kt.y+(Q.y-ft.y)}function Qi(N,j){var Q=N.lastInterval||j,ft=j.timeStamp-Q.timeStamp,kt,Ot,ne,Pe;if(j.eventType!=oe&&(ft>Ht||Q.velocity===r)){var Be=j.deltaX-Q.deltaX,Ne=j.deltaY-Q.deltaY,Ge=Xi(ft,Be,Ne);Ot=Ge.x,ne=Ge.y,kt=g(Ge.x)>g(Ge.y)?Ge.x:Ge.y,Pe=ji(Be,Ne),N.lastInterval=j}else kt=Q.velocity,Ot=Q.velocityX,ne=Q.velocityY,Pe=Q.direction;j.velocity=kt,j.velocityX=Ot,j.velocityY=ne,j.direction=Pe}function Ti(N){for(var j=[],Q=0;Q<N.pointers.length;)j[Q]={clientX:p(N.pointers[Q].clientX),clientY:p(N.pointers[Q].clientY)},Q++;return{timeStamp:y(),pointers:j,center:Ki(j),deltaX:N.deltaX,deltaY:N.deltaY}}function Ki(N){var j=N.length;if(j===1)return{x:p(N[0].clientX),y:p(N[0].clientY)};for(var Q=0,ft=0,kt=0;kt<j;)Q+=N[kt].clientX,ft+=N[kt].clientY,kt++;return{x:p(Q/j),y:p(ft/j)}}function Xi(N,j,Q){return{x:j/N||0,y:Q/N||0}}function ji(N,j){return N===j?Zt:g(N)>=g(j)?N<0?ae:ce:j<0?_e:de}function Ei(N,j,Q){Q||(Q=ni);var ft=j[Q[0]]-N[Q[0]],kt=j[Q[1]]-N[Q[1]];return Math.sqrt(ft*ft+kt*kt)}function ui(N,j,Q){Q||(Q=ni);var ft=j[Q[0]]-N[Q[0]],kt=j[Q[1]]-N[Q[1]];return Math.atan2(kt,ft)*180/Math.PI}function Pt(N,j){return ui(j[1],j[0],li)+ui(N[1],N[0],li)}function Yt(N,j){return Ei(j[0],j[1],li)/Ei(N[0],N[1],li)}var fe={mousedown:re,mousemove:te,mouseup:Ft},ye="mousedown",we="mousemove mouseup";function $e(){this.evEl=ye,this.evWin=we,this.pressed=!1,ze.apply(this,arguments)}q($e,ze,{handler:function(j){var Q=fe[j.type];Q&re&&j.button===0&&(this.pressed=!0),Q&te&&j.which!==1&&(Q=Ft),this.pressed&&(Q&Ft&&(this.pressed=!1),this.callback(this.manager,Q,{pointers:[j],changedPointers:[j],pointerType:$t,srcEvent:j}))}});var Ji={pointerdown:re,pointermove:te,pointerup:Ft,pointercancel:oe,pointerout:oe},Bi={2:ie,3:Wt,4:$t,5:Ut},Dn="pointerdown",On="pointermove pointerup pointercancel";t.MSPointerEvent&&!t.PointerEvent&&(Dn="MSPointerDown",On="MSPointerMove MSPointerUp MSPointerCancel");function In(){this.evEl=Dn,this.evWin=On,ze.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}q(In,ze,{handler:function(j){var Q=this.store,ft=!1,kt=j.type.toLowerCase().replace("ms",""),Ot=Ji[kt],ne=Bi[j.pointerType]||j.pointerType,Pe=ne==ie,Be=_t(Q,j.pointerId,"pointerId");Ot&re&&(j.button===0||Pe)?Be<0&&(Q.push(j),Be=Q.length-1):Ot&(Ft|oe)&&(ft=!0),!(Be<0)&&(Q[Be]=j,this.callback(this.manager,Ot,{pointers:Q,changedPointers:[j],pointerType:ne,srcEvent:j}),ft&&Q.splice(Be,1))}});var Mr={touchstart:re,touchmove:te,touchend:Ft,touchcancel:oe},tr="touchstart",er="touchstart touchmove touchend touchcancel";function ir(){this.evTarget=tr,this.evWin=er,this.started=!1,ze.apply(this,arguments)}q(ir,ze,{handler:function(j){var Q=Mr[j.type];if(Q===re&&(this.started=!0),!!this.started){var ft=Pr.call(this,j,Q);Q&(Ft|oe)&&ft[0].length-ft[1].length===0&&(this.started=!1),this.callback(this.manager,Q,{pointers:ft[0],changedPointers:ft[1],pointerType:ie,srcEvent:j})}}});function Pr(N,j){var Q=St(N.touches),ft=St(N.changedTouches);return j&(Ft|oe)&&(Q=zt(Q.concat(ft),"identifier",!0)),[Q,ft]}var Nn={touchstart:re,touchmove:te,touchend:Ft,touchcancel:oe},nr="touchstart touchmove touchend touchcancel";function gn(){this.evTarget=nr,this.targetIds={},ze.apply(this,arguments)}q(gn,ze,{handler:function(j){var Q=Nn[j.type],ft=Sr.call(this,j,Q);!ft||this.callback(this.manager,Q,{pointers:ft[0],changedPointers:ft[1],pointerType:ie,srcEvent:j})}});function Sr(N,j){var Q=St(N.touches),ft=this.targetIds;if(j&(re|te)&&Q.length===1)return ft[Q[0].identifier]=!0,[Q,Q];var kt,Ot,ne=St(N.changedTouches),Pe=[],Be=this.target;if(Ot=Q.filter(function(Ne){return ot(Ne.target,Be)}),j===re)for(kt=0;kt<Ot.length;)ft[Ot[kt].identifier]=!0,kt++;for(kt=0;kt<ne.length;)ft[ne[kt].identifier]&&Pe.push(ne[kt]),j&(Ft|oe)&&delete ft[ne[kt].identifier],kt++;if(!!Pe.length)return[zt(Ot.concat(Pe),"identifier",!0),Pe]}var Tr=2500,Qe=25;function jt(){ze.apply(this,arguments);var N=Y(this.handler,this);this.touch=new gn(this.manager,N),this.mouse=new $e(this.manager,N),this.primaryTouch=null,this.lastTouches=[]}q(jt,ze,{handler:function(j,Q,ft){var kt=ft.pointerType==ie,Ot=ft.pointerType==$t;if(!(Ot&&ft.sourceCapabilities&&ft.sourceCapabilities.firesTouchEvents)){if(kt)rr.call(this,Q,ft);else if(Ot&&zn.call(this,ft))return;this.callback(j,Q,ft)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function rr(N,j){N&re?(this.primaryTouch=j.changedPointers[0].identifier,Rn.call(this,j)):N&(Ft|oe)&&Rn.call(this,j)}function Rn(N){var j=N.changedPointers[0];if(j.identifier===this.primaryTouch){var Q={x:j.clientX,y:j.clientY};this.lastTouches.push(Q);var ft=this.lastTouches,kt=function(){var Ot=ft.indexOf(Q);Ot>-1&&ft.splice(Ot,1)};setTimeout(kt,Tr)}}function zn(N){for(var j=N.srcEvent.clientX,Q=N.srcEvent.clientY,ft=0;ft<this.lastTouches.length;ft++){var kt=this.lastTouches[ft],Ot=Math.abs(j-kt.x),ne=Math.abs(Q-kt.y);if(Ot<=Qe&&ne<=Qe)return!0}return!1}var Fn=bt(s.style,"touchAction"),_n=Fn!==r,Vn="compute",Ai="auto",vn="manipulation",Di="none",tn="pan-x",en="pan-y",yn=bn();function Hi(N,j){this.manager=N,this.set(j)}Hi.prototype={set:function(N){N==Vn&&(N=this.compute()),_n&&this.manager.element.style&&yn[N]&&(this.manager.element.style[Fn]=N),this.actions=N.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var N=[];return S(this.manager.recognizers,function(j){at(j.options.enable,[j])&&(N=N.concat(j.getTouchAction()))}),jn(N.join(" "))},preventDefaults:function(N){var j=N.srcEvent,Q=N.offsetDirection;if(this.manager.session.prevented){j.preventDefault();return}var ft=this.actions,kt=vt(ft,Di)&&!yn[Di],Ot=vt(ft,en)&&!yn[en],ne=vt(ft,tn)&&!yn[tn];if(kt){var Pe=N.pointers.length===1,Be=N.distance<2,Ne=N.deltaTime<250;if(Pe&&Be&&Ne)return}if(!(ne&&Ot)&&(kt||Ot&&Q&xe||ne&&Q&ve))return this.preventSrc(j)},preventSrc:function(N){this.manager.session.prevented=!0,N.preventDefault()}};function jn(N){if(vt(N,Di))return Di;var j=vt(N,tn),Q=vt(N,en);return j&&Q?Di:j||Q?j?tn:en:vt(N,vn)?vn:Ai}function bn(){if(!_n)return!1;var N={},j=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(Q){N[Q]=j?t.CSS.supports("touch-action",Q):!0}),N}var xn=1,Ke=2,Ui=4,bi=8,mi=bi,Oi=16,Ue=32;function ci(N){this.options=T({},this.defaults,N||{}),this.id=Tt(),this.manager=null,this.options.enable=G(this.options.enable,!0),this.state=xn,this.simultaneous={},this.requireFail=[]}ci.prototype={defaults:{},set:function(N){return T(this.options,N),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(N){if(C(N,"recognizeWith",this))return this;var j=this.simultaneous;return N=le(N,this),j[N.id]||(j[N.id]=N,N.recognizeWith(this)),this},dropRecognizeWith:function(N){return C(N,"dropRecognizeWith",this)?this:(N=le(N,this),delete this.simultaneous[N.id],this)},requireFailure:function(N){if(C(N,"requireFailure",this))return this;var j=this.requireFail;return N=le(N,this),_t(j,N)===-1&&(j.push(N),N.requireFailure(this)),this},dropRequireFailure:function(N){if(C(N,"dropRequireFailure",this))return this;N=le(N,this);var j=_t(this.requireFail,N);return j>-1&&this.requireFail.splice(j,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(N){return!!this.simultaneous[N.id]},emit:function(N){var j=this,Q=this.state;function ft(kt){j.manager.emit(kt,N)}Q<bi&&ft(j.options.event+Hn(Q)),ft(j.options.event),N.additionalEvent&&ft(N.additionalEvent),Q>=bi&&ft(j.options.event+Hn(Q))},tryEmit:function(N){if(this.canEmit())return this.emit(N);this.state=Ue},canEmit:function(){for(var N=0;N<this.requireFail.length;){if(!(this.requireFail[N].state&(Ue|xn)))return!1;N++}return!0},recognize:function(N){var j=T({},N);if(!at(this.options.enable,[this,j])){this.reset(),this.state=Ue;return}this.state&(mi|Oi|Ue)&&(this.state=xn),this.state=this.process(j),this.state&(Ke|Ui|bi|Oi)&&this.tryEmit(j)},process:function(N){},getTouchAction:function(){},reset:function(){}};function Hn(N){return N&Oi?"cancel":N&bi?"end":N&Ui?"move":N&Ke?"start":""}function gi(N){return N==de?"down":N==_e?"up":N==ae?"left":N==ce?"right":""}function le(N,j){var Q=j.manager;return Q?Q.get(N):N}function ue(){ci.apply(this,arguments)}q(ue,ci,{defaults:{pointers:1},attrTest:function(N){var j=this.options.pointers;return j===0||N.pointers.length===j},process:function(N){var j=this.state,Q=N.eventType,ft=j&(Ke|Ui),kt=this.attrTest(N);return ft&&(Q&oe||!kt)?j|Oi:ft||kt?Q&Ft?j|bi:j&Ke?j|Ui:Ke:Ue}});function xi(){ue.apply(this,arguments),this.pX=null,this.pY=null}q(xi,ue,{defaults:{event:"pan",threshold:10,pointers:1,direction:ii},getTouchAction:function(){var N=this.options.direction,j=[];return N&xe&&j.push(en),N&ve&&j.push(tn),j},directionTest:function(N){var j=this.options,Q=!0,ft=N.distance,kt=N.direction,Ot=N.deltaX,ne=N.deltaY;return kt&j.direction||(j.direction&xe?(kt=Ot===0?Zt:Ot<0?ae:ce,Q=Ot!=this.pX,ft=Math.abs(N.deltaX)):(kt=ne===0?Zt:ne<0?_e:de,Q=ne!=this.pY,ft=Math.abs(N.deltaY))),N.direction=kt,Q&&ft>j.threshold&&kt&j.direction},attrTest:function(N){return ue.prototype.attrTest.call(this,N)&&(this.state&Ke||!(this.state&Ke)&&this.directionTest(N))},emit:function(N){this.pX=N.deltaX,this.pY=N.deltaY;var j=gi(N.direction);j&&(N.additionalEvent=this.options.event+j),this._super.emit.call(this,N)}});function wi(){ue.apply(this,arguments)}q(wi,ue,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Di]},attrTest:function(N){return this._super.attrTest.call(this,N)&&(Math.abs(N.scale-1)>this.options.threshold||this.state&Ke)},emit:function(N){if(N.scale!==1){var j=N.scale<1?"in":"out";N.additionalEvent=this.options.event+j}this._super.emit.call(this,N)}});function _i(){ci.apply(this,arguments),this._timer=null,this._input=null}q(_i,ci,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Ai]},process:function(N){var j=this.options,Q=N.pointers.length===j.pointers,ft=N.distance<j.threshold,kt=N.deltaTime>j.time;if(this._input=N,!ft||!Q||N.eventType&(Ft|oe)&&!kt)this.reset();else if(N.eventType&re)this.reset(),this._timer=b(function(){this.state=mi,this.tryEmit()},j.time,this);else if(N.eventType&Ft)return mi;return Ue},reset:function(){clearTimeout(this._timer)},emit:function(N){this.state===mi&&(N&&N.eventType&Ft?this.manager.emit(this.options.event+"up",N):(this._input.timeStamp=y(),this.manager.emit(this.options.event,this._input)))}});function nn(){ue.apply(this,arguments)}q(nn,ue,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Di]},attrTest:function(N){return this._super.attrTest.call(this,N)&&(Math.abs(N.rotation)>this.options.threshold||this.state&Ke)}});function Kt(){ue.apply(this,arguments)}q(Kt,ue,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:xe|ve,pointers:1},getTouchAction:function(){return xi.prototype.getTouchAction.call(this)},attrTest:function(N){var j=this.options.direction,Q;return j&(xe|ve)?Q=N.overallVelocity:j&xe?Q=N.overallVelocityX:j&ve&&(Q=N.overallVelocityY),this._super.attrTest.call(this,N)&&j&N.offsetDirection&&N.distance>this.options.threshold&&N.maxPointers==this.options.pointers&&g(Q)>this.options.velocity&&N.eventType&Ft},emit:function(N){var j=gi(N.offsetDirection);j&&this.manager.emit(this.options.event+j,N),this.manager.emit(this.options.event,N)}});function Le(){ci.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}q(Le,ci,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[vn]},process:function(N){var j=this.options,Q=N.pointers.length===j.pointers,ft=N.distance<j.threshold,kt=N.deltaTime<j.time;if(this.reset(),N.eventType&re&&this.count===0)return this.failTimeout();if(ft&&kt&&Q){if(N.eventType!=Ft)return this.failTimeout();var Ot=this.pTime?N.timeStamp-this.pTime<j.interval:!0,ne=!this.pCenter||Ei(this.pCenter,N.center)<j.posThreshold;this.pTime=N.timeStamp,this.pCenter=N.center,!ne||!Ot?this.count=1:this.count+=1,this._input=N;var Pe=this.count%j.taps;if(Pe===0)return this.hasRequireFailures()?(this._timer=b(function(){this.state=mi,this.tryEmit()},j.interval,this),Ke):mi}return Ue},failTimeout:function(){return this._timer=b(function(){this.state=Ue},this.options.interval,this),Ue},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==mi&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function ri(N,j){return j=j||{},j.recognizers=G(j.recognizers,ri.defaults.preset),new Un(N,j)}ri.VERSION="2.0.7",ri.defaults={domEvents:!1,touchAction:Vn,enable:!0,inputTarget:null,inputClass:null,preset:[[nn,{enable:!1}],[wi,{enable:!1},["rotate"]],[Kt,{direction:xe}],[xi,{direction:xe},["swipe"]],[Le],[Le,{event:"doubletap",taps:2},["tap"]],[_i]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var wn=1,We=2;function Un(N,j){this.options=T({},ri.defaults,j||{}),this.options.inputTarget=this.options.inputTarget||N,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=N,this.input=fn(this),this.touchAction=new Hi(this,this.options.touchAction),rn(this,!0),S(this.options.recognizers,function(Q){var ft=this.add(new Q[0](Q[1]));Q[2]&&ft.recognizeWith(Q[2]),Q[3]&&ft.requireFailure(Q[3])},this)}Un.prototype={set:function(N){return T(this.options,N),N.touchAction&&this.touchAction.update(),N.inputTarget&&(this.input.destroy(),this.input.target=N.inputTarget,this.input.init()),this},stop:function(N){this.session.stopped=N?We:wn},recognize:function(N){var j=this.session;if(!j.stopped){this.touchAction.preventDefaults(N);var Q,ft=this.recognizers,kt=j.curRecognizer;(!kt||kt&&kt.state&mi)&&(kt=j.curRecognizer=null);for(var Ot=0;Ot<ft.length;)Q=ft[Ot],j.stopped!==We&&(!kt||Q==kt||Q.canRecognizeWith(kt))?Q.recognize(N):Q.reset(),!kt&&Q.state&(Ke|Ui|bi)&&(kt=j.curRecognizer=Q),Ot++}},get:function(N){if(N instanceof ci)return N;for(var j=this.recognizers,Q=0;Q<j.length;Q++)if(j[Q].options.event==N)return j[Q];return null},add:function(N){if(C(N,"add",this))return this;var j=this.get(N.options.event);return j&&this.remove(j),this.recognizers.push(N),N.manager=this,this.touchAction.update(),N},remove:function(N){if(C(N,"remove",this))return this;if(N=this.get(N),N){var j=this.recognizers,Q=_t(j,N);Q!==-1&&(j.splice(Q,1),this.touchAction.update())}return this},on:function(N,j){if(N!==r&&j!==r){var Q=this.handlers;return S(wt(N),function(ft){Q[ft]=Q[ft]||[],Q[ft].push(j)}),this}},off:function(N,j){if(N!==r){var Q=this.handlers;return S(wt(N),function(ft){j?Q[ft]&&Q[ft].splice(_t(Q[ft],j),1):delete Q[ft]}),this}},emit:function(N,j){this.options.domEvents&&Ii(N,j);var Q=this.handlers[N]&&this.handlers[N].slice();if(!(!Q||!Q.length)){j.type=N,j.preventDefault=function(){j.srcEvent.preventDefault()};for(var ft=0;ft<Q.length;)Q[ft](j),ft++}},destroy:function(){this.element&&rn(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function rn(N,j){var Q=N.element;if(!!Q.style){var ft;S(N.options.cssProps,function(kt,Ot){ft=bt(Q.style,Ot),j?(N.oldCssProps[ft]=Q.style[ft],Q.style[ft]=kt):Q.style[ft]=N.oldCssProps[ft]||""}),j||(N.oldCssProps={})}}function Ii(N,j){var Q=e.createEvent("Event");Q.initEvent(N,!0,!0),Q.gesture=j,j.target.dispatchEvent(Q)}T(ri,{INPUT_START:re,INPUT_MOVE:te,INPUT_END:Ft,INPUT_CANCEL:oe,STATE_POSSIBLE:xn,STATE_BEGAN:Ke,STATE_CHANGED:Ui,STATE_ENDED:bi,STATE_RECOGNIZED:mi,STATE_CANCELLED:Oi,STATE_FAILED:Ue,DIRECTION_NONE:Zt,DIRECTION_LEFT:ae,DIRECTION_RIGHT:ce,DIRECTION_UP:_e,DIRECTION_DOWN:de,DIRECTION_HORIZONTAL:xe,DIRECTION_VERTICAL:ve,DIRECTION_ALL:ii,Manager:Un,Input:ze,TouchAction:Hi,TouchInput:gn,MouseInput:$e,PointerEventInput:In,TouchMouseInput:jt,SingleTouchInput:ir,Recognizer:ci,AttrRecognizer:ue,Tap:Le,Pan:xi,Swipe:Kt,Pinch:wi,Rotate:nn,Press:_i,on:ht,off:et,each:S,merge:z,extend:I,assign:T,inherit:q,bindFn:Y,prefixed:bt});var Te=typeof t!="undefined"?t:typeof self!="undefined"?self:{};Te.Hammer=ri,typeof r=="function"&&r.amd?r(function(){return ri}):i.exports?i.exports=ri:t[n]=ri})(window,document,"Hammer")})(hammer);var Hammer=hammer.exports;/*!
* chartjs-plugin-zoom v2.0.1
* undefined
 * (c) 2016-2023 chartjs-plugin-zoom Contributors
 * Released under the MIT License
 */const getModifierKey=i=>i&&i.enabled&&i.modifierKey,keyPressed=(i,t)=>i&&t[i+"Key"],keyNotPressed=(i,t)=>i&&!t[i+"Key"];function directionEnabled(i,t,e){return i===void 0?!0:typeof i=="string"?i.indexOf(t)!==-1:typeof i=="function"?i({chart:e}).indexOf(t)!==-1:!1}function directionsEnabled(i,t){return typeof i=="function"&&(i=i({chart:t})),typeof i=="string"?{x:i.indexOf("x")!==-1,y:i.indexOf("y")!==-1}:{x:!1,y:!1}}function debounce(i,t){let e;return function(){return clearTimeout(e),e=setTimeout(i,t),t}}function getScaleUnderPoint({x:i,y:t},e){const n=e.scales,r=Object.keys(n);for(let a=0;a<r.length;a++){const s=n[r[a]];if(t>=s.top&&t<=s.bottom&&i>=s.left&&i<=s.right)return s}return null}function getEnabledScalesByPoint(i,t,e){const{mode:n="xy",scaleMode:r,overScaleMode:a}=i||{},s=getScaleUnderPoint(t,e),c=directionsEnabled(n,e),p=directionsEnabled(r,e);if(a){const y=directionsEnabled(a,e);for(const b of["x","y"])y[b]&&(p[b]=c[b],c[b]=!1)}if(s&&p[s.axis])return[s];const g=[];return each(e.scales,function(y){c[y.axis]&&g.push(y)}),g}const chartStates=new WeakMap;function getState(i){let t=chartStates.get(i);return t||(t={originalScaleLimits:{},updatedScaleLimits:{},handlers:{},panDelta:{}},chartStates.set(i,t)),t}function removeState(i){chartStates.delete(i)}function zoomDelta(i,t,e){const n=i.max-i.min,r=n*(t-1),a=i.isHorizontal()?e.x:e.y,s=Math.max(0,Math.min(1,(i.getValueForPixel(a)-i.min)/n||0)),c=1-s;return{min:r*s,max:r*c}}function getLimit(i,t,e,n,r){let a=e[n];if(a==="original"){const s=i.originalScaleLimits[t.id][n];a=valueOrDefault(s.options,s.scale)}return valueOrDefault(a,r)}function getRange(i,t,e){const n=i.getValueForPixel(t),r=i.getValueForPixel(e);return{min:Math.min(n,r),max:Math.max(n,r)}}function updateRange(i,{min:t,max:e},n,r=!1){const a=getState(i.chart),{id:s,axis:c,options:p}=i,g=n&&(n[s]||n[c])||{},{minRange:y=0}=g,b=getLimit(a,i,g,"min",-1/0),C=getLimit(a,i,g,"max",1/0),S=r?Math.max(e-t,y):i.max-i.min,A=(S-e+t)/2;return t-=A,e+=A,t<b?(t=b,e=Math.min(b+S,C)):e>C&&(e=C,t=Math.max(C-S,b)),p.min=t,p.max=e,a.updatedScaleLimits[i.id]={min:t,max:e},i.parse(t)!==i.min||i.parse(e)!==i.max}function zoomNumericalScale(i,t,e,n){const r=zoomDelta(i,t,e),a={min:i.min+r.min,max:i.max-r.max};return updateRange(i,a,n,!0)}function zoomRectNumericalScale(i,t,e,n){updateRange(i,getRange(i,t,e),n,!0)}const integerChange=i=>i===0||isNaN(i)?0:i<0?Math.min(Math.round(i),-1):Math.max(Math.round(i),1);function existCategoryFromMaxZoom(i){const e=i.getLabels().length-1;i.min>0&&(i.min-=1),i.max<e&&(i.max+=1)}function zoomCategoryScale(i,t,e,n){const r=zoomDelta(i,t,e);i.min===i.max&&t<1&&existCategoryFromMaxZoom(i);const a={min:i.min+integerChange(r.min),max:i.max-integerChange(r.max)};return updateRange(i,a,n,!0)}function scaleLength(i){return i.isHorizontal()?i.width:i.height}function panCategoryScale(i,t,e){const r=i.getLabels().length-1;let{min:a,max:s}=i;const c=Math.max(s-a,1),p=Math.round(scaleLength(i)/Math.max(c,10)),g=Math.round(Math.abs(t/p));let y;return t<-p?(s=Math.min(s+g,r),a=c===1?s:s-c,y=s===r):t>p&&(a=Math.max(0,a-g),s=c===1?a:a+c,y=a===0),updateRange(i,{min:a,max:s},e)||y}const OFFSETS={second:500,minute:30*1e3,hour:30*60*1e3,day:12*60*60*1e3,week:3.5*24*60*60*1e3,month:15*24*60*60*1e3,quarter:60*24*60*60*1e3,year:182*24*60*60*1e3};function panNumericalScale(i,t,e,n=!1){const{min:r,max:a,options:s}=i,c=s.time&&s.time.round,p=OFFSETS[c]||0,g=i.getValueForPixel(i.getPixelForValue(r+p)-t),y=i.getValueForPixel(i.getPixelForValue(a+p)-t),{min:b=-1/0,max:C=1/0}=n&&e&&e[i.axis]||{};return isNaN(g)||isNaN(y)||g<b||y>C?!0:updateRange(i,{min:g,max:y},e,n)}function panNonLinearScale(i,t,e){return panNumericalScale(i,t,e,!0)}const zoomFunctions={category:zoomCategoryScale,default:zoomNumericalScale},zoomRectFunctions={default:zoomRectNumericalScale},panFunctions={category:panCategoryScale,default:panNumericalScale,logarithmic:panNonLinearScale,timeseries:panNonLinearScale};function shouldUpdateScaleLimits(i,t,e){const{id:n,options:{min:r,max:a}}=i;if(!t[n]||!e[n])return!0;const s=e[n];return s.min!==r||s.max!==a}function removeMissingScales(i,t){each(i,(e,n)=>{t[n]||delete i[n]})}function storeOriginalScaleLimits(i,t){const{scales:e}=i,{originalScaleLimits:n,updatedScaleLimits:r}=t;return each(e,function(a){shouldUpdateScaleLimits(a,n,r)&&(n[a.id]={min:{scale:a.min,options:a.options.min},max:{scale:a.max,options:a.options.max}})}),removeMissingScales(n,e),removeMissingScales(r,e),n}function doZoom(i,t,e,n){const r=zoomFunctions[i.type]||zoomFunctions.default;callback(r,[i,t,e,n])}function doZoomRect(i,t,e,n,r){const a=zoomRectFunctions[i.type]||zoomRectFunctions.default;callback(a,[i,t,e,n,r])}function getCenter(i){const t=i.chartArea;return{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2}}function zoom(i,t,e="none"){const{x:n=1,y:r=1,focalPoint:a=getCenter(i)}=typeof t=="number"?{x:t,y:t}:t,s=getState(i),{options:{limits:c,zoom:p}}=s;storeOriginalScaleLimits(i,s);const g=n!==1,y=r!==1,b=getEnabledScalesByPoint(p,a,i);each(b||i.scales,function(C){C.isHorizontal()&&g?doZoom(C,n,a,c):!C.isHorizontal()&&y&&doZoom(C,r,a,c)}),i.update(e),callback(p.onZoom,[{chart:i}])}function zoomRect(i,t,e,n="none"){const r=getState(i),{options:{limits:a,zoom:s}}=r,{mode:c="xy"}=s;storeOriginalScaleLimits(i,r);const p=directionEnabled(c,"x",i),g=directionEnabled(c,"y",i);each(i.scales,function(y){y.isHorizontal()&&p?doZoomRect(y,t.x,e.x,a):!y.isHorizontal()&&g&&doZoomRect(y,t.y,e.y,a)}),i.update(n),callback(s.onZoom,[{chart:i}])}function zoomScale(i,t,e,n="none"){storeOriginalScaleLimits(i,getState(i));const r=i.scales[t];updateRange(r,e,void 0,!0),i.update(n)}function resetZoom(i,t="default"){const e=getState(i),n=storeOriginalScaleLimits(i,e);each(i.scales,function(r){const a=r.options;n[r.id]?(a.min=n[r.id].min.options,a.max=n[r.id].max.options):(delete a.min,delete a.max)}),i.update(t),callback(e.options.zoom.onZoomComplete,[{chart:i}])}function getOriginalRange(i,t){const e=i.originalScaleLimits[t];if(!e)return;const{min:n,max:r}=e;return valueOrDefault(r.options,r.scale)-valueOrDefault(n.options,n.scale)}function getZoomLevel(i){const t=getState(i);let e=1,n=1;return each(i.scales,function(r){const a=getOriginalRange(t,r.id);if(a){const s=Math.round(a/(r.max-r.min)*100)/100;e=Math.min(e,s),n=Math.max(n,s)}}),e<1?e:n}function panScale(i,t,e,n){const{panDelta:r}=n,a=r[i.id]||0;sign(a)===sign(t)&&(t+=a);const s=panFunctions[i.type]||panFunctions.default;callback(s,[i,t,e])?r[i.id]=0:r[i.id]=t}function pan(i,t,e,n="none"){const{x:r=0,y:a=0}=typeof t=="number"?{x:t,y:t}:t,s=getState(i),{options:{pan:c,limits:p}}=s,{onPan:g}=c||{};storeOriginalScaleLimits(i,s);const y=r!==0,b=a!==0;each(e||i.scales,function(C){C.isHorizontal()&&y?panScale(C,r,p,s):!C.isHorizontal()&&b&&panScale(C,a,p,s)}),i.update(n),callback(g,[{chart:i}])}function getInitialScaleBounds(i){const t=getState(i);storeOriginalScaleLimits(i,t);const e={};for(const n of Object.keys(i.scales)){const{min:r,max:a}=t.originalScaleLimits[n]||{min:{},max:{}};e[n]={min:r.scale,max:a.scale}}return e}function isZoomedOrPanned(i){const t=getInitialScaleBounds(i);for(const e of Object.keys(i.scales)){const{min:n,max:r}=t[e];if(n!==void 0&&i.scales[e].min!==n||r!==void 0&&i.scales[e].max!==r)return!0}return!1}function removeHandler(i,t){const{handlers:e}=getState(i),n=e[t];n&&n.target&&(n.target.removeEventListener(t,n),delete e[t])}function addHandler(i,t,e,n){const{handlers:r,options:a}=getState(i),s=r[e];s&&s.target===t||(removeHandler(i,e),r[e]=c=>n(i,c,a),r[e].target=t,t.addEventListener(e,r[e]))}function mouseMove(i,t){const e=getState(i);e.dragStart&&(e.dragging=!0,e.dragEnd=t,i.update("none"))}function keyDown(i,t){const e=getState(i);!e.dragStart||t.key!=="Escape"||(removeHandler(i,"keydown"),e.dragging=!1,e.dragStart=e.dragEnd=null,i.update("none"))}function zoomStart(i,t,e){const{onZoomStart:n,onZoomRejected:r}=e;if(n){const a=getRelativePosition(t,i);if(callback(n,[{chart:i,event:t,point:a}])===!1)return callback(r,[{chart:i,event:t}]),!1}}function mouseDown(i,t){const e=getState(i),{pan:n,zoom:r={}}=e.options;if(t.button!==0||keyPressed(getModifierKey(n),t)||keyNotPressed(getModifierKey(r.drag),t))return callback(r.onZoomRejected,[{chart:i,event:t}]);zoomStart(i,t,r)!==!1&&(e.dragStart=t,addHandler(i,i.canvas,"mousemove",mouseMove),addHandler(i,window.document,"keydown",keyDown))}function computeDragRect(i,t,e,n){const r=directionEnabled(t,"x",i),a=directionEnabled(t,"y",i);let{top:s,left:c,right:p,bottom:g,width:y,height:b}=i.chartArea;const C=getRelativePosition(e,i),S=getRelativePosition(n,i);r&&(c=Math.min(C.x,S.x),p=Math.max(C.x,S.x)),a&&(s=Math.min(C.y,S.y),g=Math.max(C.y,S.y));const A=p-c,T=g-s;return{left:c,top:s,right:p,bottom:g,width:A,height:T,zoomX:r&&A?1+(y-A)/y:1,zoomY:a&&T?1+(b-T)/b:1}}function mouseUp(i,t){const e=getState(i);if(!e.dragStart)return;removeHandler(i,"mousemove");const{mode:n,onZoomComplete:r,drag:{threshold:a=0}}=e.options.zoom,s=computeDragRect(i,n,e.dragStart,t),c=directionEnabled(n,"x",i)?s.width:0,p=directionEnabled(n,"y",i)?s.height:0,g=Math.sqrt(c*c+p*p);if(e.dragStart=e.dragEnd=null,g<=a){e.dragging=!1,i.update("none");return}zoomRect(i,{x:s.left,y:s.top},{x:s.right,y:s.bottom},"zoom"),setTimeout(()=>e.dragging=!1,500),callback(r,[{chart:i}])}function wheelPreconditions(i,t,e){if(keyNotPressed(getModifierKey(e.wheel),t)){callback(e.onZoomRejected,[{chart:i,event:t}]);return}if(zoomStart(i,t,e)!==!1&&(t.cancelable&&t.preventDefault(),t.deltaY!==void 0))return!0}function wheel(i,t){const{handlers:{onZoomComplete:e},options:{zoom:n}}=getState(i);if(!wheelPreconditions(i,t,n))return;const r=t.target.getBoundingClientRect(),a=1+(t.deltaY>=0?-n.wheel.speed:n.wheel.speed),s={x:a,y:a,focalPoint:{x:t.clientX-r.left,y:t.clientY-r.top}};zoom(i,s),e&&e()}function addDebouncedHandler(i,t,e,n){e&&(getState(i).handlers[t]=debounce(()=>callback(e,[{chart:i}]),n))}function addListeners(i,t){const e=i.canvas,{wheel:n,drag:r,onZoomComplete:a}=t.zoom;n.enabled?(addHandler(i,e,"wheel",wheel),addDebouncedHandler(i,"onZoomComplete",a,250)):removeHandler(i,"wheel"),r.enabled?(addHandler(i,e,"mousedown",mouseDown),addHandler(i,e.ownerDocument,"mouseup",mouseUp)):(removeHandler(i,"mousedown"),removeHandler(i,"mousemove"),removeHandler(i,"mouseup"),removeHandler(i,"keydown"))}function removeListeners(i){removeHandler(i,"mousedown"),removeHandler(i,"mousemove"),removeHandler(i,"mouseup"),removeHandler(i,"wheel"),removeHandler(i,"click"),removeHandler(i,"keydown")}function createEnabler(i,t){return function(e,n){const{pan:r,zoom:a={}}=t.options;if(!r||!r.enabled)return!1;const s=n&&n.srcEvent;return s&&!t.panning&&n.pointerType==="mouse"&&(keyNotPressed(getModifierKey(r),s)||keyPressed(getModifierKey(a.drag),s))?(callback(r.onPanRejected,[{chart:i,event:n}]),!1):!0}}function pinchAxes(i,t){const e=Math.abs(i.clientX-t.clientX),n=Math.abs(i.clientY-t.clientY),r=e/n;let a,s;return r>.3&&r<1.7?a=s=!0:e>n?a=!0:s=!0,{x:a,y:s}}function handlePinch(i,t,e){if(t.scale){const{center:n,pointers:r}=e,a=1/t.scale*e.scale,s=e.target.getBoundingClientRect(),c=pinchAxes(r[0],r[1]),p=t.options.zoom.mode,g={x:c.x&&directionEnabled(p,"x",i)?a:1,y:c.y&&directionEnabled(p,"y",i)?a:1,focalPoint:{x:n.x-s.left,y:n.y-s.top}};zoom(i,g),t.scale=e.scale}}function startPinch(i,t){t.options.zoom.pinch.enabled&&(t.scale=1)}function endPinch(i,t,e){t.scale&&(handlePinch(i,t,e),t.scale=null,callback(t.options.zoom.onZoomComplete,[{chart:i}]))}function handlePan(i,t,e){const n=t.delta;n&&(t.panning=!0,pan(i,{x:e.deltaX-n.x,y:e.deltaY-n.y},t.panScales),t.delta={x:e.deltaX,y:e.deltaY})}function startPan(i,t,e){const{enabled:n,onPanStart:r,onPanRejected:a}=t.options.pan;if(!n)return;const s=e.target.getBoundingClientRect(),c={x:e.center.x-s.left,y:e.center.y-s.top};if(callback(r,[{chart:i,event:e,point:c}])===!1)return callback(a,[{chart:i,event:e}]);t.panScales=getEnabledScalesByPoint(t.options.pan,c,i),t.delta={x:0,y:0},clearTimeout(t.panEndTimeout),handlePan(i,t,e)}function endPan(i,t){t.delta=null,t.panning&&(t.panEndTimeout=setTimeout(()=>t.panning=!1,500),callback(t.options.pan.onPanComplete,[{chart:i}]))}const hammers=new WeakMap;function startHammer(i,t){const e=getState(i),n=i.canvas,{pan:r,zoom:a}=t,s=new Hammer.Manager(n);a&&a.pinch.enabled&&(s.add(new Hammer.Pinch),s.on("pinchstart",()=>startPinch(i,e)),s.on("pinch",c=>handlePinch(i,e,c)),s.on("pinchend",c=>endPinch(i,e,c))),r&&r.enabled&&(s.add(new Hammer.Pan({threshold:r.threshold,enable:createEnabler(i,e)})),s.on("panstart",c=>startPan(i,e,c)),s.on("panmove",c=>handlePan(i,e,c)),s.on("panend",()=>endPan(i,e))),hammers.set(i,s)}function stopHammer(i){const t=hammers.get(i);t&&(t.remove("pinchstart"),t.remove("pinch"),t.remove("pinchend"),t.remove("panstart"),t.remove("pan"),t.remove("panend"),t.destroy(),hammers.delete(i))}var version="2.0.1";function draw(i,t,e){const n=e.zoom.drag,{dragStart:r,dragEnd:a}=getState(i);if(n.drawTime!==t||!a)return;const{left:s,top:c,width:p,height:g}=computeDragRect(i,e.zoom.mode,r,a),y=i.ctx;y.save(),y.beginPath(),y.fillStyle=n.backgroundColor||"rgba(225,225,225,0.3)",y.fillRect(s,c,p,g),n.borderWidth>0&&(y.lineWidth=n.borderWidth,y.strokeStyle=n.borderColor||"rgba(225,225,225)",y.strokeRect(s,c,p,g)),y.restore()}var plugin$1={id:"zoom",version,defaults:{pan:{enabled:!1,mode:"xy",threshold:10,modifierKey:null},zoom:{wheel:{enabled:!1,speed:.1,modifierKey:null},drag:{enabled:!1,drawTime:"beforeDatasetsDraw",modifierKey:null},pinch:{enabled:!1},mode:"xy"}},start:function(i,t,e){const n=getState(i);n.options=e,Object.prototype.hasOwnProperty.call(e.zoom,"enabled")&&console.warn("The option `zoom.enabled` is no longer supported. Please use `zoom.wheel.enabled`, `zoom.drag.enabled`, or `zoom.pinch.enabled`."),(Object.prototype.hasOwnProperty.call(e.zoom,"overScaleMode")||Object.prototype.hasOwnProperty.call(e.pan,"overScaleMode"))&&console.warn("The option `overScaleMode` is deprecated. Please use `scaleMode` instead (and update `mode` as desired)."),Hammer&&startHammer(i,e),i.pan=(r,a,s)=>pan(i,r,a,s),i.zoom=(r,a)=>zoom(i,r,a),i.zoomRect=(r,a,s)=>zoomRect(i,r,a,s),i.zoomScale=(r,a,s)=>zoomScale(i,r,a,s),i.resetZoom=r=>resetZoom(i,r),i.getZoomLevel=()=>getZoomLevel(i),i.getInitialScaleBounds=()=>getInitialScaleBounds(i),i.isZoomedOrPanned=()=>isZoomedOrPanned(i)},beforeEvent(i){const t=getState(i);if(t.panning||t.dragging)return!1},beforeUpdate:function(i,t,e){const n=getState(i);n.options=e,addListeners(i,e)},beforeDatasetsDraw(i,t,e){draw(i,"beforeDatasetsDraw",e)},afterDatasetsDraw(i,t,e){draw(i,"afterDatasetsDraw",e)},beforeDraw(i,t,e){draw(i,"beforeDraw",e)},afterDraw(i,t,e){draw(i,"afterDraw",e)},stop:function(i){removeListeners(i),Hammer&&stopHammer(i),removeState(i)},panFunctions,zoomFunctions,zoomRectFunctions};Chart$1.register(CategoryScale,LinearScale,PointElement,LineElement,plugin_title,plugin_tooltip,plugin_legend,index,plugin$1);const _sfc_main$a={name:"App",components:{Line},props:{id:{type:String,default:"line-chart"},data:{type:Object,default:()=>data$2},options:{type:Object,default:()=>options$2}},computed:{chartData(){return this.data},chartOptions(){return this.options}},methods:{getChartData(){return this.data}}},_hoisted_1$9={style:{height:"200px"}};function _sfc_render$3(i,t,e,n,r,a){const s=resolveComponent("Line");return openBlock(),createElementBlock("div",_hoisted_1$9,[createVNode(s,{id:e.id,data:a.chartData,options:a.chartOptions},null,8,["id","data","options"])])}var linechart=_export_sfc(_sfc_main$a,[["render",_sfc_render$3]]);Chart$1.register(plugin_title,plugin_tooltip,plugin_legend,BarElement,CategoryScale,LinearScale,plugin$1);const data$1={labels:["Calm","Rough","Dangerous"],datasets:[{label:"days",backgroundColor:["#2bdc1070","#efe44d70","#de1d1380"],borderColor:"#2bdc1000",pointBackgroundColor:"#ffffff00",pointBorderColor:"#2bdc1070",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"#2bdc1070",data:[9,5,7],circular:!0}]},options$1={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"right",labels:{usePointStyle:!0,pointStyle:"circle",boxWidth:24}}}};Chart$1.register(RadialLinearScale,ArcElement,plugin_tooltip,plugin_legend);const _sfc_main$9={name:"App",components:{PolarArea},props:{data:{type:Object,default:()=>data$1},options:{type:Object,default:()=>options$1}},computed:{chartData(){return this.data},chartOptions(){return this.options}}};function _sfc_render$2(i,t,e,n,r,a){const s=resolveComponent("PolarArea",!0);return openBlock(),createBlock(s,{data:a.chartData,options:a.chartOptions},null,8,["data","options"])}var polarArea=_export_sfc(_sfc_main$9,[["render",_sfc_render$2]]);const separatorValues=["horizontal","vertical","cell","none"];var QMarkupTable=createComponent({name:"QMarkupTable",props:{...useDarkProps,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:i=>separatorValues.includes(i)}},setup(i,{slots:t}){const e=getCurrentInstance(),n=useDark(i,e.proxy.$q),r=computed(()=>`q-markup-table q-table__container q-table__card q-table--${i.separator}-separator`+(n.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(i.dense===!0?" q-table--dense":"")+(i.flat===!0?" q-table--flat":"")+(i.bordered===!0?" q-table--bordered":"")+(i.square===!0?" q-table--square":"")+(i.wrapCells===!1?" q-table--no-wrap":""));return()=>h("div",{class:r.value},[h("table",{class:"q-table"},hSlot(t.default))])}});function getTableMiddle(i,t){return h("div",i,[h("table",{class:"q-table"},t)])}const comps={list:QList,table:QMarkupTable},typeOptions=["list","table","__qtable"];var QVirtualScroll=createComponent({name:"QVirtualScroll",props:{...useVirtualScrollProps,type:{type:String,default:"list",validator:i=>typeOptions.includes(i)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:scrollTargetProp},setup(i,{slots:t,attrs:e}){let n;const r=ref(null),a=computed(()=>i.itemsSize>=0&&i.itemsFn!==void 0?parseInt(i.itemsSize,10):Array.isArray(i.items)?i.items.length:0),{virtualScrollSliceRange:s,localResetVirtualScroll:c,padVirtualScroll:p,onVirtualScrollEvt:g}=useVirtualScroll({virtualScrollLength:a,getVirtualScrollTarget:A,getVirtualScrollEl:S}),y=computed(()=>{if(a.value===0)return[];const q=(Y,at)=>({index:s.value.from+at,item:Y});return i.itemsFn===void 0?i.items.slice(s.value.from,s.value.to).map(q):i.itemsFn(s.value.from,s.value.to-s.value.from).map(q)}),b=computed(()=>"q-virtual-scroll q-virtual-scroll"+(i.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(i.scrollTarget!==void 0?"":" scroll")),C=computed(()=>i.scrollTarget!==void 0?{}:{tabindex:0});watch(a,()=>{c()}),watch(()=>i.scrollTarget,()=>{I(),T()});function S(){return r.value.$el||r.value}function A(){return n}function T(){n=getScrollTarget(S(),i.scrollTarget),n.addEventListener("scroll",g,listenOpts.passive)}function I(){n!==void 0&&(n.removeEventListener("scroll",g,listenOpts.passive),n=void 0)}function z(){let q=p(i.type==="list"?"div":"tbody",y.value.map(t.default));return t.before!==void 0&&(q=t.before().concat(q)),hMergeSlot(t.after,q)}return onBeforeMount(()=>{c()}),onMounted(()=>{T()}),onActivated(()=>{T()}),onDeactivated(()=>{I()}),onBeforeUnmount(()=>{I()}),()=>{if(t.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return i.type==="__qtable"?getTableMiddle({ref:r,class:"q-table__middle "+b.value},z()):h(comps[i.type],{...e,ref:r,class:[e.class,b.value],...C.value},z)}}});const _hoisted_1$8={class:"row",style:{width:"100%"}},_hoisted_2$6={key:0,class:"col"},_hoisted_3$6=createBaseVNode("div",{class:"row items-center justify-center",style:{"background-color":"#2bdc1080"}}," Calm Days ",-1),_hoisted_4$6={class:"row items-center justify-center q-px-md"},_hoisted_5$6={key:1,class:"col"},_hoisted_6$6=createBaseVNode("div",{class:"row items-center justify-center",style:{"background-color":"#efe44d80"}}," Rough Days ",-1),_hoisted_7$6={class:"row items-center justify-center q-px-md"},_hoisted_8$6={key:2,class:"col"},_hoisted_9$4=createBaseVNode("div",{class:"row items-center justify-center",style:{"background-color":"#de1d1380"}}," Dangerous Days ",-1),_hoisted_10$4={class:"row items-center justify-center q-px-md"},_sfc_main$8={__name:"datelist",setup(i){const t=useStatsStore(),e=computed(()=>{let a=t.getOceanConditionList;return console.log(a.calm),a});computed(()=>[{name:"Calm Days",backgroundColor:"#2bdc1080",items:e.value.calm},{name:"Rough Days",backgroundColor:"#efe44d80",items:e.value.rough},{name:"Dangerous Days",backgroundColor:"#de1d1380",items:e.value.dangerous}]);const n=ref({right:"4px",borderRadius:"5px",backgroundColor:"#027be3",width:"5px",opacity:.75}),r=ref({right:"2px",borderRadius:"9px",backgroundColor:"#027be3",width:"9px",opacity:.2});return(a,s)=>(openBlock(),createElementBlock("div",_hoisted_1$8,[e.value.calm.length!==0?(openBlock(),createElementBlock("div",_hoisted_2$6,[_hoisted_3$6,createVNode(QVirtualScroll,{class:"scroll-area q-pt-md",type:"table",flat:"",style:{"max-height":"100px"},"thumb-style":n.value,"bar-style":r.value,"virtual-scroll-item-size":25,"virtual-scroll-sticky-size-start":20,"virtual-scroll-sticky-size-end":25,items:e.value.calm},{default:withCtx(({item:c,index:p})=>[createBaseVNode("div",_hoisted_4$6,toDisplayString(c),1)]),_:1},8,["thumb-style","bar-style","items"])])):createCommentVNode("",!0),e.value.rough.length!==0?(openBlock(),createElementBlock("div",_hoisted_5$6,[_hoisted_6$6,createVNode(QVirtualScroll,{class:"scroll-area q-pt-md",type:"table",flat:"",style:{"max-height":"100px"},"thumb-style":n.value,"bar-style":r.value,"virtual-scroll-item-size":25,"virtual-scroll-sticky-size-start":20,"virtual-scroll-sticky-size-end":25,items:e.value.rough},{default:withCtx(({item:c,index:p})=>[createBaseVNode("div",_hoisted_7$6,toDisplayString(c),1)]),_:1},8,["thumb-style","bar-style","items"])])):createCommentVNode("",!0),e.value.dangerous.length!==0?(openBlock(),createElementBlock("div",_hoisted_8$6,[_hoisted_9$4,createVNode(QVirtualScroll,{class:"scroll-area q-pt-md",type:"table",flat:"",style:{"max-height":"100px"},"thumb-style":n.value,"bar-style":r.value,"virtual-scroll-item-size":25,"virtual-scroll-sticky-size-start":20,"virtual-scroll-sticky-size-end":25,items:e.value.dangerous},{default:withCtx(({item:c,index:p})=>[createBaseVNode("div",_hoisted_10$4,toDisplayString(c),1)]),_:1},8,["thumb-style","bar-style","items"])])):createCommentVNode("",!0)]))}},{supabase}=useSupabase(),store=useStatsStore(),rasterstore=useRasterStore();async function fetchGridValues(i,t,e,n,r){try{const{data:a,error:s}=await supabase.rpc("fetch_rows_by_pixel_id",{start_date:i.start,end_date:i.end,table_name:`${t}_${e}`,jsonb_column_name:`${n}`,pixel_id:`${r}`});console.log(a);let c;if(t=="ug_gmes_ocean_state_forecast"){const p=[],g=[],y=[],b=[],C=(S,A)=>{a.forEach(T=>{T.data===A&&S.push(T.date)})};C(p,1),C(g,2),C(y,3),b.push(p),b.push(g),b.push(y),store.updateOceanCondition(b),c={labels:["Calm","Rough","Dangerous"],datasets:[{label:"Days",backgroundColor:["#2bdc1080","#efe44d80","#de1d1380"],borderColor:"#2bdc1000",pointBackgroundColor:"#ffffff00",pointBorderColor:"#2bdc1070",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"#2bdc1070",data:[p.length,g.length,y.length],circular:!0}]}}else{const p=a.map(y=>y.date),g=a.map(y=>y.data);c={labels:p,datasets:[{label:"Pixel Value",backgroundColor:"#002F6B60",data:g,tension:.25,fill:!0,borderColor:"#002F6B80"}]}}return c}catch(a){console.error("Error fetching data:",a);return}}function fetchRasterStats(i,t){const e={mangrovecover:{data:i.coverstats,chartColors:["#04ff17"]},mangrovechange:{data:i.changestats,chartColors:["green","red"]},default:{data:i.stats,chartColors:["#006400","#ffbb22","#ffff4c","#f096ff","#fa0000","#b4b4b4","#f0f0f0","#0064c8","#0096a0","#00cf75","#fae6a0"]}},{data:n,chartColors:r}=e[t]||e.default,a=n.map(c=>c.layername),s=n.map(c=>c.ha);return{labels:a,datasets:[{label:"Area in ha",backgroundColor:r,data:s,tension:.25,fill:!0,borderColor:"#002F6B80",borderWidth:0,radius:"75%",cutout:"150",borderRadius:20}]}}function setSelectedPixelData(){const i=["ug_gmes_ocean_state_forecast","salt","sst","ssc","ssh","swh"],t=["mangrovecover","mangrovechange"],e=["landcover"];return{setLineChart:async function(){let a=store.getSelectedGrid,s=store.getfilterdates;for(const c of i){const p=await fetchGridValues(s,c,a.majorid,a.minorid,a.UniqueID);store.updateChartData(c,p)}},setBarChart:async()=>{const a=store.getCustomPolygon,s=rasterstore.getLayerName,c=rasterstore.getSelectedYear,p=s==="landcover"?{geometry:a,year:c}:{geometry:a},y=await(async()=>(await axios.post(`https://geoportal.gmes.ug.edu.gh/ee/api/${s}stats`,p,{headers:{"Content-Type":"application/json"}})).data)(),b=s==="landcover"?e:t;for(const C of b)try{const S=fetchRasterStats(y,C);store.updateChartData(C,S)}catch{const A=y.message.split(".")[2].trim()+".";Notify.create({type:"negative",color:"primary",message:`The selected area is too large for processing. ${A}`})}}}}const _hoisted_1$7={class:"row items-center"},_hoisted_2$5={class:"col text-primary text-subtitle1 text-weight-light"},_hoisted_3$5={class:"row q-gutter-x-sm items"},_hoisted_4$5={class:"col"},_hoisted_5$5={class:"col"},_hoisted_6$5={class:"col"},_hoisted_7$5={key:0,class:"q-py-md"},_hoisted_8$5={class:"column"},_hoisted_9$3={class:"row"},_hoisted_10$3={class:"q-pa-sm",style:{border:"solid 1px #002f6b50","border-radius":"5px"}},_hoisted_11$2={class:"row items-start"},_hoisted_12$2={class:"justify-center q-px-sm"},_hoisted_13$2={class:"col"},_hoisted_14$1={key:0,class:"q-my-md"},_hoisted_15$1={key:1,style:{"min-width":"200px","min-height":"250px"}},_sfc_main$7={__name:"oceanconditions",setup(i){const t=useStatsStore(),e=useRasterStore(),{setLineChart:n}=setSelectedPixelData();ref("latlong");const r=ref(!1),a=ref(!1),s=ref(!1),c=ref(e.getLayerName),p=ref([{name:"Ocean State",chart:polarArea,variableKey:"ug_gmes_ocean_state_forecast",value:"UG_GMES_ocean_state_forecast"},{name:"Sea Surface Temperature (SST)",chart:linechart,id:"line-chart-sst",variableKey:"sst",value:"SST"},{name:"Salinity (Salt)",chart:linechart,id:"line-chart-salt",variableKey:"salt",value:"SALT"},{name:"Sea Surface Currents",chart:linechart,id:"line-chart-ssc",variableKey:"ssc",value:"SSC"},{name:"Sea Surface Height",chart:linechart,id:"line-chart-ssh",variableKey:"ssh",value:"SSH"},{name:"Significant Wave Height",chart:linechart,id:"line-chart-swh",variableKey:"swh",value:"SWH"}]),g=(T,I)=>{let z=I,q=document.getElementById(z).toDataURL("image/png"),Y=document.createElement("a");Y.href=q,Y.download=T,Y.click(),Y=null};function y(T){var I,z,q,Y,at,G;return G=T.data||null,G==null||!G.length?null:(Y=T.columnDelimiter||",",at=T.lineDelimiter||`
`,q=Object.keys(G[0]),I="",I+=q.join(Y),I+=at,G.forEach(function(ht){z=0,q.forEach(function(et){z>0&&(I+=Y),I+=ht[et],z++}),I+=at}),I)}function b(T,I){const{labels:z,datasets:q}=T;if(!z||!q||q.length===0)throw new Error("Invalid chart data");const Y=q[0].data;if(z.length!==Y.length)throw new Error("Labels and data array lengths do not match");return z.map((G,ht)=>({date:G,[I]:Y[ht]}))}const C=T=>{let I;I=[{dataPoints:b(T.chart,T.variableName),type:"column"}],console.log(I);for(var q,Y,at,G="",ht=0;ht<I.length;ht++)G+=y({data:I[ht].dataPoints});G!=null&&(Y=T.filename||"chart-data.csv",G.match(/^data:text\/csv/i)||(G="data:text/csv;charset=utf-8,"+G),q=encodeURI(G),at=document.createElement("a"),at.setAttribute("href",q),at.setAttribute("download",Y),document.body.appendChild(at),at.click(),document.body.removeChild(at))},S=T=>{c.value=T};watch(c,T=>{e.setLayerName(T)}),onMounted(async()=>{r.value=!0,a.value=!1,await n().then(()=>{r.value=!1,a.value=!0})}),watch(()=>t.selectedGrid,async()=>{r.value=!0,a.value=!1,await n().then(()=>{r.value=!1,a.value=!0})},{deep:!0}),watch(()=>t.dates,async()=>{r.value=!0,a.value=!1,await n().then(()=>{r.value=!1,a.value=!0})},{deep:!0});const A=T=>{const I=t.getChartData(T);return!I||!I.labels?{labels:[],datasets:[{label:"Loading...",backgroundColor:"#f87979",data:[]}]}:I};return(T,I)=>(openBlock(!0),createElementBlock(Fragment,null,renderList(p.value,(z,q)=>(openBlock(),createBlock(QCard,{bordered:"",flat:"",class:"q-pa-md q-my-md chart-container",style:{"min-height":"300px",width:"100%"},key:z.id},{default:withCtx(()=>[createVNode(QCardSection,{class:"q-px-none"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$7,[createBaseVNode("div",_hoisted_2$5,toDisplayString(z.name),1),createVNode(QSpace),createBaseVNode("div",_hoisted_3$5,[createBaseVNode("div",_hoisted_4$5,[createVNode(QBtn,{dense:"",size:"sm",flat:"",round:"",color:"primary",icon:"mdi-map-plus",onClick:Y=>S(z.value)},{default:withCtx(()=>[createVNode(QTooltip,{class:"bg-primary"},{default:withCtx(()=>[createTextVNode("show on map")]),_:1})]),_:2},1032,["onClick"])]),createBaseVNode("div",_hoisted_5$5,[createVNode(QBtn,{dense:"",size:"sm",flat:"",round:"",color:"primary",icon:"mdi-tray-arrow-down",onClick:Y=>C({filename:z.name,chart:A(z.variableKey),variableName:z.variableKey})},{default:withCtx(()=>[createVNode(QTooltip,{class:"bg-primary"},{default:withCtx(()=>[createTextVNode("download CSV")]),_:1})]),_:2},1032,["onClick"])]),createBaseVNode("div",_hoisted_6$5,[createVNode(QBtn,{dense:"",size:"sm",flat:"",round:"",color:"primary",icon:"mdi-image-outline",onClick:Y=>g(z.name,z.id)},{default:withCtx(()=>[createVNode(QTooltip,{class:"bg-primary"},{default:withCtx(()=>[createTextVNode("download image")]),_:1})]),_:2},1032,["onClick"])])])])]),_:2},1024),z.name==="Ocean State"?(openBlock(),createElementBlock("div",_hoisted_7$5,[createBaseVNode("div",_hoisted_8$5,[createVNode(Transition,{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",_hoisted_9$3,[createVNode(polarArea,{data:A(z.variableKey)},null,8,["data"])],512),[[vShow,a.value]])]),_:2},1024),createVNode(Transition,{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",_hoisted_10$3,[createBaseVNode("div",_hoisted_11$2,[createBaseVNode("div",_hoisted_12$2,[createVNode(QIcon,{name:"info",size:"xs",color:"primary"})]),createBaseVNode("div",_hoisted_13$2,[createTextVNode(" The chart above represents the number of days the ocean conditions was experienced. To see the list of the dates and ocean conditions "),createBaseVNode("span",null,[createVNode(QBtn,{class:"q-pa-none",flat:"","no-caps":"",ripple:"false",size:"",rounded:"",color:"primary",label:"Click here",onClick:I[0]||(I[0]=Y=>s.value=!s.value)})])])]),s.value?(openBlock(),createBlock(_sfc_main$8,{key:0})):createCommentVNode("",!0)],512),[[vShow,a.value]])]),_:1})])])):createCommentVNode("",!0),createVNode(Transition,{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"},{default:withCtx(()=>[z.name!=="Ocean State"?withDirectives((openBlock(),createElementBlock("div",_hoisted_14$1,[createVNode(linechart,{id:z.id,data:A(z.variableKey)},null,8,["id","data"])],512)),[[vShow,a.value]]):createCommentVNode("",!0)]),_:2},1024),r.value?(openBlock(),createElementBlock("div",_hoisted_15$1,[createVNode(QInnerLoading,{showing:r.value},{default:withCtx(()=>[createVNode(QSpinnerGears,{size:"50px",color:"primary"})]),_:1},8,["showing"])])):createCommentVNode("",!0)]),_:2},1024))),128))}},data={labels:["January","February","March","April","May","June","July"],datasets:[{label:"Data One",backgroundColor:"#f87979",data:[40,39,10,40,39,80,40]}]},options={responsive:!0,maintainAspectRatio:!1,plugins:{datalabels:{display:"auto",anchor:"center",align:"center",offset:4,opacity:.7,formatter:(i,t)=>(t.chart.data.labels[t.dataIndex],`${Intl.NumberFormat("en-US",{minimumFractionDigits:1}).format(i)} Ha`),borderRadius:5,leftborderWidth:2,borderColor:["#b71c1c","#2e7d32","#fff9b4"],color:"#404040",size:"8",backgroundColor:"#fff"},legend:{display:!1,position:"right",labels:{font:{fontColor:"#EEEEEE"},usePointStyle:!0,padding:25}},title:{display:!1,align:"start",text:"Crop Area in Ha",position:"top",color:"#404040"}}};/*!
 * chartjs-plugin-datalabels v2.2.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2022 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */var devicePixelRatio=function(){if(typeof window!="undefined"){if(window.devicePixelRatio)return window.devicePixelRatio;var i=window.screen;if(i)return(i.deviceXDPI||1)/(i.logicalXDPI||1)}return 1}(),utils={toTextLines:function(i){var t=[],e;for(i=[].concat(i);i.length;)e=i.pop(),typeof e=="string"?t.unshift.apply(t,e.split(`
`)):Array.isArray(e)?i.push.apply(i,e):isNullOrUndef(i)||t.unshift(""+e);return t},textSize:function(i,t,e){var n=[].concat(t),r=n.length,a=i.font,s=0,c;for(i.font=e.string,c=0;c<r;++c)s=Math.max(i.measureText(n[c]).width,s);return i.font=a,{height:r*e.lineHeight,width:s}},bound:function(i,t,e){return Math.max(i,Math.min(t,e))},arrayDiff:function(i,t){var e=i.slice(),n=[],r,a,s,c;for(r=0,s=t.length;r<s;++r)c=t[r],a=e.indexOf(c),a===-1?n.push([c,1]):e.splice(a,1);for(r=0,s=e.length;r<s;++r)n.push([e[r],-1]);return n},rasterize:function(i){return Math.round(i*devicePixelRatio)/devicePixelRatio}};function orient(i,t){var e=t.x,n=t.y;if(e===null)return{x:0,y:-1};if(n===null)return{x:1,y:0};var r=i.x-e,a=i.y-n,s=Math.sqrt(r*r+a*a);return{x:s?r/s:0,y:s?a/s:-1}}function aligned(i,t,e,n,r){switch(r){case"center":e=n=0;break;case"bottom":e=0,n=1;break;case"right":e=1,n=0;break;case"left":e=-1,n=0;break;case"top":e=0,n=-1;break;case"start":e=-e,n=-n;break;case"end":break;default:r*=Math.PI/180,e=Math.cos(r),n=Math.sin(r);break}return{x:i,y:t,vx:e,vy:n}}var R_INSIDE=0,R_LEFT=1,R_RIGHT=2,R_BOTTOM=4,R_TOP=8;function region(i,t,e){var n=R_INSIDE;return i<e.left?n|=R_LEFT:i>e.right&&(n|=R_RIGHT),t<e.top?n|=R_TOP:t>e.bottom&&(n|=R_BOTTOM),n}function clipped(i,t){for(var e=i.x0,n=i.y0,r=i.x1,a=i.y1,s=region(e,n,t),c=region(r,a,t),p,g,y;!(!(s|c)||s&c);)p=s||c,p&R_TOP?(g=e+(r-e)*(t.top-n)/(a-n),y=t.top):p&R_BOTTOM?(g=e+(r-e)*(t.bottom-n)/(a-n),y=t.bottom):p&R_RIGHT?(y=n+(a-n)*(t.right-e)/(r-e),g=t.right):p&R_LEFT&&(y=n+(a-n)*(t.left-e)/(r-e),g=t.left),p===s?(e=g,n=y,s=region(e,n,t)):(r=g,a=y,c=region(r,a,t));return{x0:e,x1:r,y0:n,y1:a}}function compute$1(i,t){var e=t.anchor,n=i,r,a;return t.clamp&&(n=clipped(n,t.area)),e==="start"?(r=n.x0,a=n.y0):e==="end"?(r=n.x1,a=n.y1):(r=(n.x0+n.x1)/2,a=(n.y0+n.y1)/2),aligned(r,a,i.vx,i.vy,t.align)}var positioners={arc:function(i,t){var e=(i.startAngle+i.endAngle)/2,n=Math.cos(e),r=Math.sin(e),a=i.innerRadius,s=i.outerRadius;return compute$1({x0:i.x+n*a,y0:i.y+r*a,x1:i.x+n*s,y1:i.y+r*s,vx:n,vy:r},t)},point:function(i,t){var e=orient(i,t.origin),n=e.x*i.options.radius,r=e.y*i.options.radius;return compute$1({x0:i.x-n,y0:i.y-r,x1:i.x+n,y1:i.y+r,vx:e.x,vy:e.y},t)},bar:function(i,t){var e=orient(i,t.origin),n=i.x,r=i.y,a=0,s=0;return i.horizontal?(n=Math.min(i.x,i.base),a=Math.abs(i.base-i.x)):(r=Math.min(i.y,i.base),s=Math.abs(i.base-i.y)),compute$1({x0:n,y0:r+s,x1:n+a,y1:r,vx:e.x,vy:e.y},t)},fallback:function(i,t){var e=orient(i,t.origin);return compute$1({x0:i.x,y0:i.y,x1:i.x+(i.width||0),y1:i.y+(i.height||0),vx:e.x,vy:e.y},t)}},rasterize=utils.rasterize;function boundingRects(i){var t=i.borderWidth||0,e=i.padding,n=i.size.height,r=i.size.width,a=-r/2,s=-n/2;return{frame:{x:a-e.left-t,y:s-e.top-t,w:r+e.width+t*2,h:n+e.height+t*2},text:{x:a,y:s,w:r,h:n}}}function getScaleOrigin(i,t){var e=t.chart.getDatasetMeta(t.datasetIndex).vScale;if(!e)return null;if(e.xCenter!==void 0&&e.yCenter!==void 0)return{x:e.xCenter,y:e.yCenter};var n=e.getBasePixel();return i.horizontal?{x:n,y:null}:{x:null,y:n}}function getPositioner(i){return i instanceof ArcElement?positioners.arc:i instanceof PointElement?positioners.point:i instanceof BarElement?positioners.bar:positioners.fallback}function drawRoundedRect(i,t,e,n,r,a){var s=Math.PI/2;if(a){var c=Math.min(a,r/2,n/2),p=t+c,g=e+c,y=t+n-c,b=e+r-c;i.moveTo(t,g),p<y&&g<b?(i.arc(p,g,c,-Math.PI,-s),i.arc(y,g,c,-s,0),i.arc(y,b,c,0,s),i.arc(p,b,c,s,Math.PI)):p<y?(i.moveTo(p,e),i.arc(y,g,c,-s,s),i.arc(p,g,c,s,Math.PI+s)):g<b?(i.arc(p,g,c,-Math.PI,0),i.arc(p,b,c,0,Math.PI)):i.arc(p,g,c,-Math.PI,Math.PI),i.closePath(),i.moveTo(t,e)}else i.rect(t,e,n,r)}function drawFrame(i,t,e){var n=e.backgroundColor,r=e.borderColor,a=e.borderWidth;!n&&(!r||!a)||(i.beginPath(),drawRoundedRect(i,rasterize(t.x)+a/2,rasterize(t.y)+a/2,rasterize(t.w)-a,rasterize(t.h)-a,e.borderRadius),i.closePath(),n&&(i.fillStyle=n,i.fill()),r&&a&&(i.strokeStyle=r,i.lineWidth=a,i.lineJoin="miter",i.stroke()))}function textGeometry(i,t,e){var n=e.lineHeight,r=i.w,a=i.x,s=i.y+n/2;return t==="center"?a+=r/2:(t==="end"||t==="right")&&(a+=r),{h:n,w:r,x:a,y:s}}function drawTextLine(i,t,e){var n=i.shadowBlur,r=e.stroked,a=rasterize(e.x),s=rasterize(e.y),c=rasterize(e.w);r&&i.strokeText(t,a,s,c),e.filled&&(n&&r&&(i.shadowBlur=0),i.fillText(t,a,s,c),n&&r&&(i.shadowBlur=n))}function drawText(i,t,e,n){var r=n.textAlign,a=n.color,s=!!a,c=n.font,p=t.length,g=n.textStrokeColor,y=n.textStrokeWidth,b=g&&y,C;if(!(!p||!s&&!b))for(e=textGeometry(e,r,c),i.font=c.string,i.textAlign=r,i.textBaseline="middle",i.shadowBlur=n.textShadowBlur,i.shadowColor=n.textShadowColor,s&&(i.fillStyle=a),b&&(i.lineJoin="round",i.lineWidth=y,i.strokeStyle=g),C=0,p=t.length;C<p;++C)drawTextLine(i,t[C],{stroked:b,filled:s,w:e.w,x:e.x,y:e.y+e.h*C})}var Label=function(i,t,e,n){var r=this;r._config=i,r._index=n,r._model=null,r._rects=null,r._ctx=t,r._el=e};merge(Label.prototype,{_modelize:function(i,t,e,n){var r=this,a=r._index,s=toFont(resolve([e.font,{}],n,a)),c=resolve([e.color,defaults$1.color],n,a);return{align:resolve([e.align,"center"],n,a),anchor:resolve([e.anchor,"center"],n,a),area:n.chart.chartArea,backgroundColor:resolve([e.backgroundColor,null],n,a),borderColor:resolve([e.borderColor,null],n,a),borderRadius:resolve([e.borderRadius,0],n,a),borderWidth:resolve([e.borderWidth,0],n,a),clamp:resolve([e.clamp,!1],n,a),clip:resolve([e.clip,!1],n,a),color:c,display:i,font:s,lines:t,offset:resolve([e.offset,4],n,a),opacity:resolve([e.opacity,1],n,a),origin:getScaleOrigin(r._el,n),padding:toPadding(resolve([e.padding,4],n,a)),positioner:getPositioner(r._el),rotation:resolve([e.rotation,0],n,a)*(Math.PI/180),size:utils.textSize(r._ctx,t,s),textAlign:resolve([e.textAlign,"start"],n,a),textShadowBlur:resolve([e.textShadowBlur,0],n,a),textShadowColor:resolve([e.textShadowColor,c],n,a),textStrokeColor:resolve([e.textStrokeColor,c],n,a),textStrokeWidth:resolve([e.textStrokeWidth,0],n,a)}},update:function(i){var t=this,e=null,n=null,r=t._index,a=t._config,s,c,p,g=resolve([a.display,!0],i,r);g&&(s=i.dataset.data[r],c=valueOrDefault(callback(a.formatter,[s,i]),s),p=isNullOrUndef(c)?[]:utils.toTextLines(c),p.length&&(e=t._modelize(g,p,a,i),n=boundingRects(e))),t._model=e,t._rects=n},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(i,t){var e=this,n=i.ctx,r=e._model,a=e._rects,s;!this.visible()||(n.save(),r.clip&&(s=r.area,n.beginPath(),n.rect(s.left,s.top,s.right-s.left,s.bottom-s.top),n.clip()),n.globalAlpha=utils.bound(0,r.opacity,1),n.translate(rasterize(t.x),rasterize(t.y)),n.rotate(r.rotation),drawFrame(n,a.frame,r),drawText(n,r.lines,a.text,r),n.restore())}});var MIN_INTEGER=Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991;function rotated(i,t,e){var n=Math.cos(e),r=Math.sin(e),a=t.x,s=t.y;return{x:a+n*(i.x-a)-r*(i.y-s),y:s+r*(i.x-a)+n*(i.y-s)}}function projected(i,t){var e=MAX_INTEGER,n=MIN_INTEGER,r=t.origin,a,s,c,p,g;for(a=0;a<i.length;++a)s=i[a],c=s.x-r.x,p=s.y-r.y,g=t.vx*c+t.vy*p,e=Math.min(e,g),n=Math.max(n,g);return{min:e,max:n}}function toAxis(i,t){var e=t.x-i.x,n=t.y-i.y,r=Math.sqrt(e*e+n*n);return{vx:(t.x-i.x)/r,vy:(t.y-i.y)/r,origin:i,ln:r}}var HitBox=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};merge(HitBox.prototype,{center:function(){var i=this._rect;return{x:i.x+i.w/2,y:i.y+i.h/2}},update:function(i,t,e){this._rotation=e,this._rect={x:t.x+i.x,y:t.y+i.y,w:t.w,h:t.h}},contains:function(i){var t=this,e=1,n=t._rect;return i=rotated(i,t.center(),-t._rotation),!(i.x<n.x-e||i.y<n.y-e||i.x>n.x+n.w+e*2||i.y>n.y+n.h+e*2)},intersects:function(i){var t=this._points(),e=i._points(),n=[toAxis(t[0],t[1]),toAxis(t[0],t[3])],r,a,s;for(this._rotation!==i._rotation&&n.push(toAxis(e[0],e[1]),toAxis(e[0],e[3])),r=0;r<n.length;++r)if(a=projected(t,n[r]),s=projected(e,n[r]),a.max<s.min||s.max<a.min)return!1;return!0},_points:function(){var i=this,t=i._rect,e=i._rotation,n=i.center();return[rotated({x:t.x,y:t.y},n,e),rotated({x:t.x+t.w,y:t.y},n,e),rotated({x:t.x+t.w,y:t.y+t.h},n,e),rotated({x:t.x,y:t.y+t.h},n,e)]}});function coordinates(i,t,e){var n=t.positioner(i,t),r=n.vx,a=n.vy;if(!r&&!a)return{x:n.x,y:n.y};var s=e.w,c=e.h,p=t.rotation,g=Math.abs(s/2*Math.cos(p))+Math.abs(c/2*Math.sin(p)),y=Math.abs(s/2*Math.sin(p))+Math.abs(c/2*Math.cos(p)),b=1/Math.max(Math.abs(r),Math.abs(a));return g*=r*b,y*=a*b,g+=t.offset*r,y+=t.offset*a,{x:n.x+g,y:n.y+y}}function collide(i,t){var e,n,r,a;for(e=i.length-1;e>=0;--e)for(r=i[e].$layout,n=e-1;n>=0&&r._visible;--n)a=i[n].$layout,a._visible&&r._box.intersects(a._box)&&t(r,a);return i}function compute(i){var t,e,n,r,a,s,c;for(t=0,e=i.length;t<e;++t)n=i[t],r=n.$layout,r._visible&&(c=new Proxy(n._el,{get:(p,g)=>p.getProps([g],!0)[g]}),a=n.geometry(),s=coordinates(c,n.model(),a),r._box.update(s,a,n.rotation()));return collide(i,function(p,g){var y=p._hidable,b=g._hidable;y&&b||b?g._visible=!1:y&&(p._visible=!1)})}var layout={prepare:function(i){var t=[],e,n,r,a,s;for(e=0,r=i.length;e<r;++e)for(n=0,a=i[e].length;n<a;++n)s=i[e][n],t.push(s),s.$layout={_box:new HitBox,_hidable:!1,_visible:!0,_set:e,_idx:s._index};return t.sort(function(c,p){var g=c.$layout,y=p.$layout;return g._idx===y._idx?y._set-g._set:y._idx-g._idx}),this.update(t),t},update:function(i){var t=!1,e,n,r,a,s;for(e=0,n=i.length;e<n;++e)r=i[e],a=r.model(),s=r.$layout,s._hidable=a&&a.display==="auto",s._visible=r.visible(),t|=s._hidable;t&&compute(i)},lookup:function(i,t){var e,n;for(e=i.length-1;e>=0;--e)if(n=i[e].$layout,n&&n._visible&&n._box.contains(t))return i[e];return null},draw:function(i,t){var e,n,r,a,s,c;for(e=0,n=t.length;e<n;++e)r=t[e],a=r.$layout,a._visible&&(s=r.geometry(),c=coordinates(r._el,r.model(),s),a._box.update(c,s,r.rotation()),r.draw(i,c))}},formatter=function(i){if(isNullOrUndef(i))return null;var t=i,e,n,r;if(isObject(i))if(!isNullOrUndef(i.label))t=i.label;else if(!isNullOrUndef(i.r))t=i.r;else for(t="",e=Object.keys(i),r=0,n=e.length;r<n;++r)t+=(r!==0?", ":"")+e[r]+": "+i[e[r]];return""+t},defaults={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},EXPANDO_KEY="$datalabels",DEFAULT_KEY="$default";function configure(i,t){var e=i.datalabels,n={},r=[],a,s;return e===!1?null:(e===!0&&(e={}),t=merge({},[t,e]),a=t.labels||{},s=Object.keys(a),delete t.labels,s.length?s.forEach(function(c){a[c]&&r.push(merge({},[t,a[c],{_key:c}]))}):r.push(t),n=r.reduce(function(c,p){return each(p.listeners||{},function(g,y){c[y]=c[y]||{},c[y][p._key||DEFAULT_KEY]=g}),delete p.listeners,c},{}),{labels:r,listeners:n})}function dispatchEvent(i,t,e,n){if(!!t){var r=e.$context,a=e.$groups,s;!t[a._set]||(s=t[a._set][a._key],!!s&&callback(s,[r,n])===!0&&(i[EXPANDO_KEY]._dirty=!0,e.update(r)))}}function dispatchMoveEvents(i,t,e,n,r){var a,s;!e&&!n||(e?n?e!==n&&(s=a=!0):s=!0:a=!0,s&&dispatchEvent(i,t.leave,e,r),a&&dispatchEvent(i,t.enter,n,r))}function handleMoveEvents(i,t){var e=i[EXPANDO_KEY],n=e._listeners,r,a;if(!(!n.enter&&!n.leave)){if(t.type==="mousemove")a=layout.lookup(e._labels,t);else if(t.type!=="mouseout")return;r=e._hovered,e._hovered=a,dispatchMoveEvents(i,n,r,a,t)}}function handleClickEvents(i,t){var e=i[EXPANDO_KEY],n=e._listeners.click,r=n&&layout.lookup(e._labels,t);r&&dispatchEvent(i,n,r,t)}var plugin={id:"datalabels",defaults,beforeInit:function(i){i[EXPANDO_KEY]={_actives:[]}},beforeUpdate:function(i){var t=i[EXPANDO_KEY];t._listened=!1,t._listeners={},t._datasets=[],t._labels=[]},afterDatasetUpdate:function(i,t,e){var n=t.index,r=i[EXPANDO_KEY],a=r._datasets[n]=[],s=i.isDatasetVisible(n),c=i.data.datasets[n],p=configure(c,e),g=t.meta.data||[],y=i.ctx,b,C,S,A,T,I,z,q;for(y.save(),b=0,S=g.length;b<S;++b)if(z=g[b],z[EXPANDO_KEY]=[],s&&z&&i.getDataVisibility(b)&&!z.skip)for(C=0,A=p.labels.length;C<A;++C)T=p.labels[C],I=T._key,q=new Label(T,y,z,b),q.$groups={_set:n,_key:I||DEFAULT_KEY},q.$context={active:!1,chart:i,dataIndex:b,dataset:c,datasetIndex:n},q.update(q.$context),z[EXPANDO_KEY].push(q),a.push(q);y.restore(),merge(r._listeners,p.listeners,{merger:function(Y,at,G){at[Y]=at[Y]||{},at[Y][t.index]=G[Y],r._listened=!0}})},afterUpdate:function(i){i[EXPANDO_KEY]._labels=layout.prepare(i[EXPANDO_KEY]._datasets)},afterDatasetsDraw:function(i){layout.draw(i,i[EXPANDO_KEY]._labels)},beforeEvent:function(i,t){if(i[EXPANDO_KEY]._listened){var e=t.event;switch(e.type){case"mousemove":case"mouseout":handleMoveEvents(i,e);break;case"click":handleClickEvents(i,e);break}}},afterEvent:function(i){var t=i[EXPANDO_KEY],e=t._actives,n=t._actives=i.getActiveElements(),r=utils.arrayDiff(e,n),a,s,c,p,g,y,b;for(a=0,s=r.length;a<s;++a)if(g=r[a],g[1])for(b=g[0].element[EXPANDO_KEY]||[],c=0,p=b.length;c<p;++c)y=b[c],y.$context.active=g[1]===1,y.update(y.$context);(t._dirty||r.length)&&(layout.update(t._labels),i.render()),delete t._dirty}};Chart$1.register(CategoryScale,LinearScale,BarElement,plugin_title,plugin_tooltip,plugin_legend,plugin);const _sfc_main$6={name:"App",components:{Bar},props:{id:{type:String,default:"line-chart"},data:{type:Object,default:()=>data},options:{type:Object,default:()=>options}},computed:{chartData(){return this.data},chartOptions(){return this.options}},methods:{getChartData(){return this.data}}},_hoisted_1$6={style:{height:"400px"}};function _sfc_render$1(i,t,e,n,r,a){const s=resolveComponent("Bar");return openBlock(),createElementBlock("div",_hoisted_1$6,[createVNode(s,{id:e.id,data:a.chartData,options:a.chartOptions},null,8,["id","data","options"])])}var barChart=_export_sfc(_sfc_main$6,[["render",_sfc_render$1]]);Chart$1.register(plugin_title,plugin_tooltip,plugin_legend,ArcElement,CategoryScale,plugin);const _sfc_main$5={name:"App",components:{Pie},props:{id:{type:String,default:"pie-chart"},data:{type:Object,default:()=>data$2},options:{type:Object,default:()=>pieOptions}},computed:{chartData(){return this.data},chartOptions(){return this.options}},methods:{getChartData(){return this.data}}},_hoisted_1$5={style:{height:"400px"}};function _sfc_render(i,t,e,n,r,a){const s=resolveComponent("Pie",!0);return openBlock(),createElementBlock("div",_hoisted_1$5,[createVNode(s,{id:e.id,data:a.chartData,options:a.chartOptions},null,8,["id","data","options"])])}var doughnutChart=_export_sfc(_sfc_main$5,[["render",_sfc_render]]);const _hoisted_1$4={class:"row items-center"},_hoisted_2$4={class:"col text-primary text-subtitle1 text-weight-light"},_hoisted_3$4={class:"row q-gutter-x-sm items"},_hoisted_4$4={class:"col"},_hoisted_5$4={class:"col"},_hoisted_6$4={class:"col"},_hoisted_7$4={class:"q-my-md"},_hoisted_8$4={key:0,style:{"min-width":"200px","min-height":"250px"}},_sfc_main$4={__name:"mangrove",setup(i){const t=useStatsStore(),e=useRasterStore(),{setLineChart:n,setBarChart:r}=setSelectedPixelData();ref("latlong");const a=ref(!1),s=ref(!1);ref(!1);const c=ref(e.getLayerName),p=ref([{name:"Mangrove Cover",chart:barChart,id:"mangrove-cover-chart",variableKey:"mangrovecover",value:"mangrove"},{name:"Mangrove Change",chart:barChart,id:"mangrove-change-chart",variableKey:"mangrovechange",value:"mangrove"}]),g=(T,I)=>{let z=I,q=document.getElementById(z).toDataURL("image/png"),Y=document.createElement("a");Y.href=q,Y.download=T,Y.click(),Y=null};function y(T){var I,z,q,Y,at,G;return G=T.data||null,G==null||!G.length?null:(Y=T.columnDelimiter||",",at=T.lineDelimiter||`
`,q=Object.keys(G[0]),I="",I+=q.join(Y),I+=at,G.forEach(function(ht){z=0,q.forEach(function(et){z>0&&(I+=Y),I+=ht[et],z++}),I+=at}),I)}function b(T,I){const{labels:z,datasets:q}=T;if(!z||!q||q.length===0)throw new Error("Invalid chart data");const Y=q[0].data;if(z.length!==Y.length)throw new Error("Labels and data array lengths do not match");return z.map((G,ht)=>({date:G,[I]:Y[ht]}))}const C=T=>{let I;I=[{dataPoints:b(T.chart,T.variableName),type:"column"}],console.log(I);for(var q,Y,at,G="",ht=0;ht<I.length;ht++)G+=y({data:I[ht].dataPoints});G!=null&&(Y=T.filename||"chart-data.csv",G.match(/^data:text\/csv/i)||(G="data:text/csv;charset=utf-8,"+G),q=encodeURI(G),at=document.createElement("a"),at.setAttribute("href",q),at.setAttribute("download",Y),document.body.appendChild(at),at.click(),document.body.removeChild(at))},S=T=>{c.value=T};watch(c,T=>{e.setLayerName(T)}),onMounted(async()=>{a.value=!0,s.value=!1,await r().then(()=>{a.value=!1,s.value=!0})}),watch(()=>t.customPolygon,async()=>{a.value=!0,s.value=!1,await r().then(()=>{a.value=!1,s.value=!0})},{deep:!0});const A=T=>{const I=t.getChartData(T);return!I||!I.labels?{labels:[],datasets:[{label:"Loading...",backgroundColor:"#f87979",data:[]}]}:I};return(T,I)=>(openBlock(!0),createElementBlock(Fragment,null,renderList(p.value,(z,q)=>(openBlock(),createBlock(QCard,{bordered:"",flat:"",class:"q-pa-md q-my-md chart-container",style:{"min-height":"300px",width:"100%"},key:z.id},{default:withCtx(()=>[createVNode(QCardSection,{class:"q-px-none"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$4,[createBaseVNode("div",_hoisted_2$4,toDisplayString(z.name),1),createVNode(QSpace),createBaseVNode("div",_hoisted_3$4,[createBaseVNode("div",_hoisted_4$4,[createVNode(QBtn,{dense:"",size:"sm",flat:"",round:"",color:"primary",icon:"mdi-map-plus",onClick:Y=>S(z.value)},{default:withCtx(()=>[createVNode(QTooltip,{class:"bg-primary"},{default:withCtx(()=>[createTextVNode("show on map")]),_:1})]),_:2},1032,["onClick"])]),createBaseVNode("div",_hoisted_5$4,[createVNode(QBtn,{dense:"",size:"sm",flat:"",round:"",color:"primary",icon:"mdi-tray-arrow-down",onClick:Y=>C({filename:z.name,chart:A(z.variableKey),variableName:z.variableKey})},{default:withCtx(()=>[createVNode(QTooltip,{class:"bg-primary"},{default:withCtx(()=>[createTextVNode("download CSV")]),_:1})]),_:2},1032,["onClick"])]),createBaseVNode("div",_hoisted_6$4,[createVNode(QBtn,{dense:"",size:"sm",flat:"",round:"",color:"primary",icon:"mdi-image-outline",onClick:Y=>g(z.name,z.id)},{default:withCtx(()=>[createVNode(QTooltip,{class:"bg-primary"},{default:withCtx(()=>[createTextVNode("download image")]),_:1})]),_:2},1032,["onClick"])])])])]),_:2},1024),createVNode(Transition,{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",_hoisted_7$4,[z.name=="Mangrove Cover"?(openBlock(),createBlock(barChart,{key:0,id:z.id,data:A(z.variableKey)},null,8,["id","data"])):createCommentVNode("",!0),z.name!=="Mangrove Cover"?(openBlock(),createBlock(doughnutChart,{key:1,id:z.id,data:A(z.variableKey)},null,8,["id","data"])):createCommentVNode("",!0)],512),[[vShow,s.value]])]),_:2},1024),a.value?(openBlock(),createElementBlock("div",_hoisted_8$4,[createVNode(QInnerLoading,{showing:a.value},{default:withCtx(()=>[createVNode(QSpinnerGears,{size:"50px",color:"primary"})]),_:1},8,["showing"])])):createCommentVNode("",!0)]),_:2},1024))),128))}},_hoisted_1$3={class:"row items-center"},_hoisted_2$3={class:"col text-primary text-subtitle1 text-weight-light"},_hoisted_3$3={class:"row q-gutter-x-sm items"},_hoisted_4$3={class:"col"},_hoisted_5$3={class:"col"},_hoisted_6$3={class:"col"},_hoisted_7$3={class:"q-my-md"},_hoisted_8$3={key:0,style:{"min-width":"200px","min-height":"250px"}},_sfc_main$3={__name:"landcover",setup(i){const t=useStatsStore(),e=useRasterStore(),{setLineChart:n,setBarChart:r}=setSelectedPixelData();ref("latlong");const a=ref(!1),s=ref(!1);ref(!1);const c=ref(e.getLayerName),p=ref({layout:{padding:0},responsive:!0,maintainAspectRatio:!0,plugins:{datalabels:{display:"auto",anchor:"end",align:"end",offset:10,opacity:.9,formatter:(z,q)=>(q.chart.data.labels[q.dataIndex],`${Intl.NumberFormat("en-US",{minimumFractionDigits:1}).format(z)}`),borderRadius:5,leftborderWidth:2,borderColor:["#b71c1c","#2e7d32","#fff9b4"],color:"#404040",size:"11",backgroundColor:"#fff"},legend:{display:!1,position:"bottom",labels:{font:{fontColor:"#EEEEEE"}}},title:{display:!0,text:"Area in Ha",position:"bottom",color:"#9e9d24"}},indexAxis:"y",elements:{bar:{borderWidth:0,inflateAmount:0,borderRadius:20,borderSkipped:!1}},scales:{x:{min:0,ticks:{callback:function(z){return z=z.toFixed()/1,`${z}`},color:"#424242"},grid:{color:""}},y:{ticks:{color:"#424242",tickLength:0},grid:{color:"",borderDash:[1,10],drawBorder:!1,tickLength:0,tickWidth:0}}}}),g=ref([{name:"Land Cover",chart:barChart,id:"land-cover-chart",variableKey:"landcover",value:"landcover"}]),y=computed(()=>{let z;return e.getSelectedYear=="100"?z="2020":z="2021",z}),b=(z,q)=>{let Y=q,at=document.getElementById(Y).toDataURL("image/png"),G=document.createElement("a");G.href=at,G.download=z,G.click(),G=null};function C(z){var q,Y,at,G,ht,et;return et=z.data||null,et==null||!et.length?null:(G=z.columnDelimiter||",",ht=z.lineDelimiter||`
`,at=Object.keys(et[0]),q="",q+=at.join(G),q+=ht,et.forEach(function(ot){Y=0,at.forEach(function(vt){Y>0&&(q+=G),q+=ot[vt],Y++}),q+=ht}),q)}function S(z,q){const{labels:Y,datasets:at}=z;if(!Y||!at||at.length===0)throw new Error("Invalid chart data");const G=at[0].data;if(Y.length!==G.length)throw new Error("Labels and data array lengths do not match");return Y.map((et,ot)=>({date:et,[q]:G[ot]}))}const A=z=>{let q;q=[{dataPoints:S(z.chart,z.variableName),type:"column"}],console.log(q);for(var at,G,ht,et="",ot=0;ot<q.length;ot++)et+=C({data:q[ot].dataPoints});et!=null&&(G=z.filename||"chart-data.csv",et.match(/^data:text\/csv/i)||(et="data:text/csv;charset=utf-8,"+et),at=encodeURI(et),ht=document.createElement("a"),ht.setAttribute("href",at),ht.setAttribute("download",G),document.body.appendChild(ht),ht.click(),document.body.removeChild(ht))},T=z=>{c.value=z};watch(c,z=>{e.setLayerName(z)}),onMounted(async()=>{a.value=!0,s.value=!1,await r().then(()=>{a.value=!1,s.value=!0})}),watch(()=>t.customPolygon,async()=>{a.value=!0,s.value=!1,await r().then(()=>{a.value=!1,s.value=!0})},{deep:!0});const I=z=>{const q=t.getChartData(z);return!q||!q.labels?{labels:[],datasets:[{label:"Loading...",backgroundColor:"#f87979",data:[]}]}:q};return(z,q)=>(openBlock(!0),createElementBlock(Fragment,null,renderList(g.value,(Y,at)=>(openBlock(),createBlock(QCard,{bordered:"",flat:"",class:"q-pa-md q-my-md chart-container",style:{"min-height":"300px",width:"100%"},key:Y.id},{default:withCtx(()=>[createVNode(QCardSection,{class:"q-px-none"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$3,[createBaseVNode("div",_hoisted_2$3,toDisplayString(Y.name)+" "+toDisplayString(y.value),1),createVNode(QSpace),createBaseVNode("div",_hoisted_3$3,[createBaseVNode("div",_hoisted_4$3,[createVNode(QBtn,{dense:"",size:"sm",flat:"",round:"",color:"primary",icon:"mdi-map-plus",onClick:G=>T(Y.value)},{default:withCtx(()=>[createVNode(QTooltip,{class:"bg-primary"},{default:withCtx(()=>[createTextVNode("show on map")]),_:1})]),_:2},1032,["onClick"])]),createBaseVNode("div",_hoisted_5$3,[createVNode(QBtn,{dense:"",size:"sm",flat:"",round:"",color:"primary",icon:"mdi-tray-arrow-down",onClick:G=>A({filename:Y.name,chart:I(Y.variableKey),variableName:Y.variableKey})},{default:withCtx(()=>[createVNode(QTooltip,{class:"bg-primary"},{default:withCtx(()=>[createTextVNode("download CSV")]),_:1})]),_:2},1032,["onClick"])]),createBaseVNode("div",_hoisted_6$3,[createVNode(QBtn,{dense:"",size:"sm",flat:"",round:"",color:"primary",icon:"mdi-image-outline",onClick:G=>b(Y.name,Y.id)},{default:withCtx(()=>[createVNode(QTooltip,{class:"bg-primary"},{default:withCtx(()=>[createTextVNode("download image")]),_:1})]),_:2},1032,["onClick"])])])])]),_:2},1024),createVNode(Transition,{appear:"","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",_hoisted_7$3,[createVNode(barChart,{id:Y.id,data:I(Y.variableKey),options:p.value},null,8,["id","data","options"])],512),[[vShow,s.value]])]),_:2},1024),a.value?(openBlock(),createElementBlock("div",_hoisted_8$3,[createVNode(QInnerLoading,{showing:a.value},{default:withCtx(()=>[createVNode(QSpinnerGears,{size:"50px",color:"primary"})]),_:1},8,["showing"])])):createCommentVNode("",!0)]),_:2},1024))),128))}},_hoisted_1$2={class:"row items-center q-gutter-x-sm q-pa-none",style:{width:"90%"}},_hoisted_2$2={class:"col"},_hoisted_3$2=createBaseVNode("div",{class:"column"},[createBaseVNode("div",{class:"row text-primary"},"Start Date:")],-1),_hoisted_4$2={class:""},_hoisted_5$2={class:"row items-center justify-end"},_hoisted_6$2=createBaseVNode("div",{class:"col-1 text-center"},"---",-1),_hoisted_7$2={class:"col"},_hoisted_8$2=createBaseVNode("div",{class:"column"},[createBaseVNode("div",{class:"row text-primary"},"End Date:")],-1),_hoisted_9$2={class:""},_hoisted_10$2={class:"row items-center justify-end"},_sfc_main$2={__name:"deteFilter",setup(i){const t=useStatsStore();ref("2019/02/01");const e=ref({from:"",to:""}),n=computed(()=>`${e.value.from} - ${e.value.to}`),r=s=>{const c=s.getFullYear(),p=String(s.getMonth()+1).padStart(2,"0"),g=String(s.getDate()).padStart(2,"0");return`${c}/${p}/${g}`};function a(s){return s.replace(/\//g,"-")}return onMounted(()=>{const s=new Date,c=new Date;c.setDate(s.getDate()-7);const p=new Date;p.setDate(s.getDate()+7),e.value.from=r(c),e.value.to=r(p)}),watch(()=>e.value.from,s=>{const c=new Date(s);new Date(e.value.to)<c&&(e.value.to=e.value.from)}),watch(()=>e.value.to,s=>{const c=new Date(e.value.from);new Date(s)<c&&(e.value.to=e.value.from)}),watch(n,()=>{const s=a(e.value.from),c=a(e.value.to),p={start:s,end:c};console.log("Updating store with dates:",p),t.setFilterDates(p)}),(s,c)=>(openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("div",_hoisted_2$2,[_hoisted_3$2,createBaseVNode("div",_hoisted_4$2,[createVNode(QInput,{dense:"",outlined:"",modelValue:e.value.from,"onUpdate:modelValue":c[1]||(c[1]=p=>e.value.from=p),mask:"date",rules:["date"]},{append:withCtx(()=>[createVNode(QIcon,{name:"event",class:"cursor-pointer"},{default:withCtx(()=>[createVNode(QPopupProxy,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:withCtx(()=>[createVNode(QDate,{modelValue:e.value.from,"onUpdate:modelValue":c[0]||(c[0]=p=>e.value.from=p),mask:"YYYY/MM/DD",minimal:""},{default:withCtx(()=>[createBaseVNode("div",_hoisted_5$2,[withDirectives(createVNode(QBtn,{label:"Close",color:"primary",flat:""},null,512),[[ClosePopup]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_hoisted_6$2,createBaseVNode("div",_hoisted_7$2,[_hoisted_8$2,createBaseVNode("div",_hoisted_9$2,[createVNode(QInput,{dense:"",outlined:"",modelValue:e.value.to,"onUpdate:modelValue":c[3]||(c[3]=p=>e.value.to=p),mask:"date",rules:["date"]},{append:withCtx(()=>[createVNode(QIcon,{name:"event",class:"cursor-pointer"},{default:withCtx(()=>[createVNode(QPopupProxy,{anchor:"bottom right",self:"top right","transition-show":"scale","transition-hide":"scale"},{default:withCtx(()=>[createVNode(QDate,{modelValue:e.value.to,"onUpdate:modelValue":c[2]||(c[2]=p=>e.value.to=p),mask:"YYYY/MM/DD",minimal:""},{default:withCtx(()=>[createBaseVNode("div",_hoisted_10$2,[withDirectives(createVNode(QBtn,{label:"Close",color:"primary",flat:""},null,512),[[ClosePopup]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]))}};var analysispannel_vue_vue_type_style_index_0_lang="";const _hoisted_1$1={class:"q-px-sm q-py-md",style:{position:"absolute",width:"100%","min-height":"100%"}},_hoisted_2$1={class:"q-mx-xs bg-white q-mx-auto",style:{position:"absolute",width:"34vw","max-height":"96%","border-radius":"10px"}},_hoisted_3$1={class:"q-ma-xs"},_hoisted_4$1=createBaseVNode("div",{class:"row justify-between items-center bg-white q-px-md",style:{"min-width":"100%",height:"70px","border-bottom":"10px"}},null,-1),_hoisted_5$1={key:0},_hoisted_6$1={class:"row q-mx-none q-mb-lg items-center"},_hoisted_7$1={class:"col"},_hoisted_8$1={class:"row q-mx-none q-mb-lg items-center"},_hoisted_9$1={class:"col"},_hoisted_10$1={class:"analysis-scroll-area"},_hoisted_11$1={key:1,class:"analysis-scroll-area",style:{height:"75vh"}},_hoisted_12$1={key:2,class:"analysis-scroll-area",style:{height:"75vh"}},_hoisted_13$1={key:3,class:"absolute-center"},_sfc_main$1={__name:"analysispannel",setup(i){const t=useStatsStore(),e=useRasterStore(),n=ref("services"),r=computed(()=>t.getSelectedGrid),a=computed(()=>t.getCenterPoint),s=computed(()=>t.getCenterPoint&&!["landcover","mangrove"].includes(e.layerName)),c=computed(()=>t.customPolygon&&e.layerName=="mangrove"),p=computed(()=>t.customPolygon&&e.layerName=="landcover");watch(r,y=>{y&&(n.value="analysis")});const g=ref({thumbStyle:{right:"2px",borderRadius:"5px",backgroundColor:"#002F6B",width:"10px",height:"100px",opacity:.75},barStyle:{right:"-6px",borderRadius:"9px",backgroundColor:"#027be3",width:"4px",opacity:.2}});return(y,b)=>(openBlock(),createElementBlock("div",_hoisted_1$1,[createBaseVNode("div",_hoisted_2$1,[createVNode(QTabs,{modelValue:n.value,"onUpdate:modelValue":b[0]||(b[0]=C=>n.value=C),class:"tab-item text-grey-9 q-pa-none q-ma-md","active-class":"active-tab","switch-indicator":"","indicator-color":"transparent",align:"justify"},{default:withCtx(()=>[createVNode(QTab,{name:"services",label:y.$t("serviceTab"),"no-caps":""},null,8,["label"]),createVNode(QTab,{name:"analysis",label:y.$t("analysisTab"),"no-caps":""},null,8,["label"])]),_:1},8,["modelValue"]),createVNode(QTabPanels,{modelValue:n.value,"onUpdate:modelValue":b[3]||(b[3]=C=>n.value=C),animated:"",class:"text-grey-9",style:{"background-color":"rgba(240, 248, 255, 0)"}},{default:withCtx(()=>[createVNode(QTabPanel,{name:"services",style:{"min-height":"85vh"}},{default:withCtx(()=>[createBaseVNode("div",_hoisted_3$1,[createVNode(QScrollArea,{"thumb-style":g.value.thumbStyle,"bar-style":g.value.barStyle,style:{height:"70vh","min-width":"300px",overflow:"hidden"}},{default:withCtx(()=>[createVNode(_sfc_main$b),_hoisted_4$1]),_:1},8,["thumb-style","bar-style"])])]),_:1}),createVNode(QTabPanel,{name:"analysis",style:{"min-height":"85vh"}},{default:withCtx(()=>[s.value?(openBlock(),createElementBlock("div",_hoisted_5$1,[createBaseVNode("div",null,[createBaseVNode("div",_hoisted_6$1,[createBaseVNode("div",_hoisted_7$1,[createVNode(QInput,{readonly:"",outlined:"",modelValue:a.value,"onUpdate:modelValue":b[2]||(b[2]=C=>a.value=C),options:y.options,label:"Lat,Lon"},{prepend:withCtx(()=>[createVNode(QIcon,{name:"place"})]),append:withCtx(()=>[createVNode(QIcon,{name:"close",onClick:b[1]||(b[1]=C=>y.text=""),class:"cursor-pointer"})]),_:1},8,["modelValue","options"])]),createVNode(QBtn,{class:"q-mx-md",flat:"",round:"",color:"primary",icon:"mdi-share-variant-outline"})]),createBaseVNode("div",_hoisted_8$1,[createBaseVNode("div",_hoisted_9$1,[createVNode(_sfc_main$2)])]),createBaseVNode("div",_hoisted_10$1,[createVNode(QScrollArea,{class:"analysis-scroll-area","thumb-style":g.value.thumbStyle,"bar-style":g.value.barStyle,style:{}},{default:withCtx(()=>[createVNode(_sfc_main$7)]),_:1},8,["thumb-style","bar-style"])])])])):c.value?(openBlock(),createElementBlock("div",_hoisted_11$1,[createVNode(QScrollArea,{class:"analysis-scroll-area","thumb-style":g.value.thumbStyle,"bar-style":g.value.barStyle,style:{height:"100%"}},{default:withCtx(()=>[createVNode(_sfc_main$4)]),_:1},8,["thumb-style","bar-style"])])):p.value?(openBlock(),createElementBlock("div",_hoisted_12$1,[createVNode(QScrollArea,{class:"analysis-scroll-area","thumb-style":g.value.thumbStyle,"bar-style":g.value.barStyle,style:{height:"100%"}},{default:withCtx(()=>[createVNode(_sfc_main$3)]),_:1},8,["thumb-style","bar-style"])])):(openBlock(),createElementBlock("div",_hoisted_13$1," click on map or draw polygon for analysis "))]),_:1})]),_:1},8,["modelValue"])])]))}};var dashboard_vue_vue_type_style_index_0_scoped_true_lang="";const _withScopeId=i=>(pushScopeId("data-v-1244bb24"),i=i(),popScopeId(),i),_hoisted_1={key:0,class:"row",style:{flex:"1"}},_hoisted_2={class:"content",style:{flex:"1",display:"flex"}},_hoisted_3={class:"column q-ma-md",style:{"max-width":"65vw",flex:"1"}},_hoisted_4={style:{width:"100%",height:"100%"}},_hoisted_5={class:"column q-ma-none",style:{"max-width":"35vw",height:"100%",flex:"1"}},_hoisted_6={key:1,class:"row",style:{flex:"1"}},_hoisted_7={class:"content",style:{flex:"1",display:"flex"}},_hoisted_8={class:"column",style:{width:"100vw",flex:"1"}},_hoisted_9={style:{width:"100%",height:"100%"}},_hoisted_10=_withScopeId(()=>createBaseVNode("div",{class:"text-h6"},"Add Layer",-1)),_hoisted_11=_withScopeId(()=>createBaseVNode("div",{class:"text-h6"},"Analysis",-1)),_hoisted_12=_withScopeId(()=>createBaseVNode("div",{class:"text-h6"},"Layer Settings",-1)),_hoisted_13=_withScopeId(()=>createBaseVNode("div",{class:"text-h6"},"About Layer",-1)),_hoisted_14={class:"row justify-around items-center"},_hoisted_15={class:"col text-center"},_hoisted_16={class:"col text-center"},_hoisted_17={class:"col text-center"},_hoisted_18={class:"col text-center"},_sfc_main={__name:"dashboard",setup(i){const t=ref(!1),e=ref("right"),n=ref(!1),r=ref(!1),a=ref(!1),s=ref(!1),c=ref(!1),p=S=>{e.value=S,t.value=!0},g=S=>{e.value=S,n.value=!0},y=S=>{e.value=S,r.value=!0},b=S=>{e.value=S,a.value=!0};onBeforeMount(()=>{c.value=window.matchMedia("(max-width: 768px)").matches,s.value=window.matchMedia("(min-width: 768px)").matches});const C=ref({thumbStyle:{right:"-2px",borderRadius:"5px",backgroundColor:"#027be300",width:"5px",height:"100px",opacity:.75},barStyle:{right:"-6px",borderRadius:"9px",backgroundColor:"#027be3",width:"4px",opacity:.2}});return(S,A)=>(openBlock(),createBlock(QPage,{class:"page-body"},{default:withCtx(()=>[createVNode(_sfc_main$h,{name:"myTour",style:{position:"absolute","min-width":"25vw"}}),s.value?(openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[createBaseVNode("div",_hoisted_3,[createBaseVNode("div",_hoisted_4,[createVNode(mappanel)])]),createBaseVNode("div",_hoisted_5,[createBaseVNode("div",null,[createVNode(_sfc_main$1)])])])])):createCommentVNode("",!0),c.value?(openBlock(),createElementBlock("div",_hoisted_6,[createBaseVNode("div",_hoisted_7,[createBaseVNode("div",_hoisted_8,[createBaseVNode("div",_hoisted_9,[createVNode(mappanel)])]),createVNode(QDialog,{seamless:"",modelValue:t.value,"onUpdate:modelValue":A[0]||(A[0]=T=>t.value=T),position:e.value},{default:withCtx(()=>[createVNode(QCard,{style:{"max-height":"50vh"}},{default:withCtx(()=>[createVNode(QCardSection,{class:"row items-center q-pb-"},{default:withCtx(()=>[_hoisted_10,createVNode(QSpace),withDirectives(createVNode(QBtn,{icon:"close",flat:"",round:"",dense:""},null,512),[[ClosePopup]])]),_:1}),createVNode(QScrollArea,{"thumb-style":C.value.thumbStyle,"bar-style":C.value.barStyle,style:{height:"40vh","min-width":"300px",overflow:"hidden"}},{default:withCtx(()=>[createVNode(_sfc_main$b)]),_:1},8,["thumb-style","bar-style"]),createVNode(QCardSection)]),_:1})]),_:1},8,["modelValue","position"]),createVNode(QDialog,{seamless:"",modelValue:n.value,"onUpdate:modelValue":A[1]||(A[1]=T=>n.value=T),position:e.value},{default:withCtx(()=>[createVNode(QCard,{style:{"max-height":"50vh"}},{default:withCtx(()=>[createVNode(QCardSection,{class:"row items-center q-pb-"},{default:withCtx(()=>[_hoisted_11,createVNode(QSpace),withDirectives(createVNode(QBtn,{icon:"close",flat:"",round:"",dense:""},null,512),[[ClosePopup]])]),_:1}),createVNode(QScrollArea,{"thumb-style":C.value.thumbStyle,"bar-style":C.value.barStyle,style:{height:"40vh","min-width":"300px",overflow:"hidden"}},{default:withCtx(()=>[createVNode(_sfc_main$7)]),_:1},8,["thumb-style","bar-style"]),createVNode(QCardSection)]),_:1})]),_:1},8,["modelValue","position"]),createVNode(QDialog,{seamless:"",modelValue:r.value,"onUpdate:modelValue":A[2]||(A[2]=T=>r.value=T),position:e.value},{default:withCtx(()=>[createVNode(QCard,{style:{"max-height":"50vh"}},{default:withCtx(()=>[createVNode(QCardSection,{class:"row items-center q-pb-"},{default:withCtx(()=>[_hoisted_12,createVNode(QSpace),withDirectives(createVNode(QBtn,{icon:"close",flat:"",round:"",dense:""},null,512),[[ClosePopup]])]),_:1}),createVNode(QCardSection,null,{default:withCtx(()=>[createVNode(_sfc_main$j)]),_:1}),createVNode(QCardSection)]),_:1})]),_:1},8,["modelValue","position"]),createVNode(QDialog,{seamless:"",modelValue:a.value,"onUpdate:modelValue":A[3]||(A[3]=T=>a.value=T),position:e.value},{default:withCtx(()=>[createVNode(QCard,{style:{"max-height":"50vh"}},{default:withCtx(()=>[createVNode(QCardSection,{class:"row items-center q-pb-"},{default:withCtx(()=>[_hoisted_13,createVNode(QSpace),withDirectives(createVNode(QBtn,{icon:"close",flat:"",round:"",dense:""},null,512),[[ClosePopup]])]),_:1}),createVNode(QCardSection),createVNode(QCardSection)]),_:1})]),_:1},8,["modelValue","position"])])])):createCommentVNode("",!0),c.value?(openBlock(),createBlock(QFooter,{key:2},{default:withCtx(()=>[createVNode(QToolbar,{class:"bg-white"},{default:withCtx(()=>[createVNode(QToolbarTitle,null,{default:withCtx(()=>[createBaseVNode("div",_hoisted_14,[createBaseVNode("div",_hoisted_15,[createVNode(QBtn,{flat:"",stack:"",size:"sm",label:"Layers",icon:"layers",color:"primary",onClick:A[4]||(A[4]=T=>p("bottom"))})]),createBaseVNode("div",_hoisted_16,[createVNode(QBtn,{flat:"",stack:"",size:"sm",label:"analysis",icon:"mdi-poll",color:"primary",onClick:A[5]||(A[5]=T=>g("bottom"))})]),createBaseVNode("div",_hoisted_17,[createVNode(QBtn,{flat:"",stack:"",size:"sm",label:"Settings",icon:"mdi-cog",color:"primary",onClick:A[6]||(A[6]=T=>y("bottom"))})]),createBaseVNode("div",_hoisted_18,[createVNode(QBtn,{flat:"",stack:"",size:"sm",label:"Layer Info",icon:"mdi-information",color:"primary",onClick:A[7]||(A[7]=T=>b("bottom"))})])])]),_:1})]),_:1})]),_:1})):createCommentVNode("",!0)]),_:1}))}};var dashboard=_export_sfc(_sfc_main,[["__scopeId","data-v-1244bb24"]]);export{dashboard as default};
